<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[pythonè§£leetcodeåŠ¨æ€è§„åˆ’(2)]]></title>
    <url>%2F2019%2F08%2F20%2Fpython_leetcode-dynamic-programming(3)%2F</url>
    <content type="text"><![CDATA[åŠ¨æ€è§„åˆ’ä¸»è¦æ–¹æ³•æ˜¯ç”»ç½‘æ ¼â­ã€‚ é€’å½’ + è®°å¿†åŒ– â€”â€”&gt; é€’æ¨ï¼ˆåŠ¨æ€è§„åˆ’ï¼‰ çŠ¶æ€çš„å®šä¹‰ï¼šæ•°ç»„ opt[n], dp[n], fib[n] çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼šopt[n] = best_of(opt[n-1], opt[n-2], â€¦) ä»å‰é¢çš„n-1ä¸ªå€¼å¾—åˆ°æœ€ä¼˜çš„ç¬¬nä¸ªå€¼ æœ€ä¼˜å­ç»“æ„ å­¦ä¹ å†…å®¹ï¼š 0-1 èƒŒåŒ…é—®é¢˜ğŸš© â“è‡ªæˆ‘å®ç° â“Palindrome Partitioning II(132) å•è¯æ‹†åˆ† åˆ†å‰²ç­‰å’Œå­é›† 322. é›¶é’±å…‘æ¢ â“377 â“474 â“140 â“494 139. å•è¯æ‹†åˆ† ç»™å®šä¸€ä¸ªéç©ºå­—ç¬¦ä¸² s å’Œä¸€ä¸ªåŒ…å«éç©ºå•è¯åˆ—è¡¨çš„å­—å…¸ wordDictï¼Œåˆ¤å®š s æ˜¯å¦å¯ä»¥è¢«ç©ºæ ¼æ‹†åˆ†ä¸ºä¸€ä¸ªæˆ–å¤šä¸ªåœ¨å­—å…¸ä¸­å‡ºç°çš„å•è¯ã€‚ è¯´æ˜ï¼š æ‹†åˆ†æ—¶å¯ä»¥é‡å¤ä½¿ç”¨å­—å…¸ä¸­çš„å•è¯ã€‚ ä½ å¯ä»¥å‡è®¾å­—å…¸ä¸­æ²¡æœ‰é‡å¤çš„å•è¯ã€‚ ç¤ºä¾‹ 1ï¼š 123è¾“å…¥: s = &quot;leetcode&quot;, wordDict = [&quot;leet&quot;, &quot;code&quot;]è¾“å‡º: trueè§£é‡Š: è¿”å› true å› ä¸º &quot;leetcode&quot; å¯ä»¥è¢«æ‹†åˆ†æˆ &quot;leet code&quot;ã€‚ ç¤ºä¾‹ 2ï¼š 1234è¾“å…¥: s = &quot;applepenapple&quot;, wordDict = [&quot;apple&quot;, &quot;pen&quot;]è¾“å‡º: trueè§£é‡Š: è¿”å› true å› ä¸º &quot;applepenapple&quot; å¯ä»¥è¢«æ‹†åˆ†æˆ &quot;apple pen apple&quot;ã€‚ æ³¨æ„ä½ å¯ä»¥é‡å¤ä½¿ç”¨å­—å…¸ä¸­çš„å•è¯ã€‚ ç¤ºä¾‹ 3ï¼š 12è¾“å…¥: s = &quot;catsandog&quot;, wordDict = [&quot;cats&quot;, &quot;dog&quot;, &quot;sand&quot;, &quot;and&quot;, &quot;cat&quot;]è¾“å‡º: false æ–¹æ³• Sèƒ½æ‹†æˆåŠŸçš„è¯ï¼Œè¯´æ˜å‰ä¸€éƒ¨åˆ†å’Œåä¸€éƒ¨åˆ†èƒ½æ‹†å¼€ã€‚æ¯ä¸€éƒ¨åˆ†ä¹Ÿåˆ†åˆ«å¯èƒ½åˆ†è§£ä¸ºå¯æ‹†å¼€çš„ä¸€å°éƒ¨åˆ†ã€‚ 123456789class Solution: def wordBreak(self, s: str, wordDict: List[str]) -&gt; bool: dp = [False] * (len(s)+1) dp[0] = True for i in range(1,len(s)+1): for j in range(i): if dp[j] and s[j:i] in wordDict: dp[i] = True return dp.pop() 416. åˆ†å‰²ç­‰å’Œå­é›† ç»™å®šä¸€ä¸ªåªåŒ…å«æ­£æ•´æ•°çš„éç©ºæ•°ç»„ã€‚æ˜¯å¦å¯ä»¥å°†è¿™ä¸ªæ•°ç»„åˆ†å‰²æˆä¸¤ä¸ªå­é›†ï¼Œä½¿å¾—ä¸¤ä¸ªå­é›†çš„å…ƒç´ å’Œç›¸ç­‰ã€‚ æ³¨æ„: æ¯ä¸ªæ•°ç»„ä¸­çš„å…ƒç´ ä¸ä¼šè¶…è¿‡ 100 æ•°ç»„çš„å¤§å°ä¸ä¼šè¶…è¿‡ 200 ç¤ºä¾‹ 1: 123è¾“å…¥: [1, 5, 11, 5]è¾“å‡º: trueè§£é‡Š: æ•°ç»„å¯ä»¥åˆ†å‰²æˆ [1, 5, 5] å’Œ [11]. ç¤ºä¾‹ 2: 123è¾“å…¥: [1, 2, 3, 5]è¾“å‡º: falseè§£é‡Š: æ•°ç»„ä¸èƒ½åˆ†å‰²æˆä¸¤ä¸ªå…ƒç´ å’Œç›¸ç­‰çš„å­é›†. æ–¹æ³• æç¤ºï¼š0-1 èƒŒåŒ…é—®é¢˜ï¼Œæ€è·¯æ˜¯ï¼šç‰©å“ä¸€ä¸ªä¸€ä¸ªåŠ è¿›æ¥ã€‚ çŠ¶æ€ï¼šdp[i][j]ï¼šè€ƒè™‘ç´¢å¼•æ˜¯ [0,i] è¿™ä¸ªåŒºé—´çš„ç‰©å“æ˜¯å¦èƒ½å¤Ÿå¡«å……å®¹é‡ä¸º j çš„èƒŒåŒ…ã€‚ Python ä»£ç ï¼šè¿™æ˜¯ç”¨äºŒç»´æ•°ç»„çš„å†™æ³•ï¼Œè¯•è¯•çœ‹èƒ½ä¸èƒ½ç”¨ä¸€ç»´æ•°ç»„å†™å‡ºæ¥ 1234567891011121314151617class Solution: def canPartition(self, nums: List[int]) -&gt; bool: _sum = sum(nums) if _sum % 2 == 1: return False #æ€»å’Œä¸æ˜¯å¶æ•° half = _sum//2 N = len(nums) dp = [[0 for _ in range(half+1)] for _ in range(N)] # å…ˆå¡«ç¬¬ 1 è¡Œï¼Œå³ nums[0] è¿™ä¸ªç‰©å“ï¼Œæ˜¯ä¸æ˜¯èƒ½å¤Ÿå¡«æ»¡ 0ï¼Œ1ï¼Œã€‚ã€‚ã€‚ï¼Œhalf çš„èƒŒåŒ… for j in range(half+1): dp[0][j] = True if nums[0]==j else False # å†å¡«åé¢å‡ è¡Œ for i in range(1,N): for j in range(half+1): # ä¸æ”¾è¿™ä¸ªç‰©å“ ã€ æ”¾è¿™ä¸ªç‰©å“,è¾¾åˆ°æ€»å’Œsuméƒ½å¯ä»¥è®¾ä¸ºTrue dp[i][j] = dp[i-1][j] or dp[i-1][j-nums[i]] return dp[-1][-1] 322. é›¶é’±å…‘æ¢ ç»™å®šä¸åŒé¢é¢çš„ç¡¬å¸ coins å’Œä¸€ä¸ªæ€»é‡‘é¢ amountã€‚ç¼–å†™ä¸€ä¸ªå‡½æ•°æ¥è®¡ç®—å¯ä»¥å‡‘æˆæ€»é‡‘é¢æ‰€éœ€çš„æœ€å°‘çš„ç¡¬å¸ä¸ªæ•°ã€‚å¦‚æœæ²¡æœ‰ä»»ä½•ä¸€ç§ç¡¬å¸ç»„åˆèƒ½ç»„æˆæ€»é‡‘é¢ï¼Œè¿”å› -1ã€‚ ç¤ºä¾‹ 1: 123è¾“å…¥: coins = [1, 2, 5], amount = 11è¾“å‡º: 3 è§£é‡Š: 11 = 5 + 5 + 1 ç¤ºä¾‹ 2: 12è¾“å…¥: coins = [2], amount = 3è¾“å‡º: -1 è¯´æ˜: ä½ å¯ä»¥è®¤ä¸ºæ¯ç§ç¡¬å¸çš„æ•°é‡æ˜¯æ— é™çš„ã€‚ æ–¹æ³•ï¼šåŠ¨æ€è§„åˆ’ dp[i]è¡¨ç¤ºå‡‘å¤Ÿiå…ƒæ‰€éœ€è¦çš„æœ€å°‘ç¡¬å¸æ•°, é‚£å†åŠ ä¸€ä¸ªé¢å€¼ä¸ºcçš„ç¡¬å¸ï¼Œdp[i + c] = min(dp[i] + 1, dp[i + c]) 123456789101112class Solution: def coinChange(self, coins: List[int], amount: int) -&gt; int: dp = [0]+[-1]*amount # åˆå§‹åŒ–ï¼Œç¬¬ä¸€ä¸ªå€¼ä¸º0ï¼Œå…¶ä½™å…¨æ˜¯-1 for i in range(amount): if dp[i]&lt;0: #è·³è¿‡ä¸€äº›æ— éœ€è®¡ç®—çš„å€¼ continue for c in coins: if i+c &gt; amount: continue # è¶Šç•Œï¼Œè·³å‡ºå¾ªç¯ï¼Œæ¢ä¸‹ä¸€ç§ç¡¬å¸ if dp[i+c]&gt;dp[i]+1 or dp[i+c]&lt;0: dp[i+c] = dp[i]+1 return dp[amount] å‚è€ƒ LeetCode åŠ¨æ€è§„åˆ’ä¸“é¢˜ 7ï¼šé¢è¯•ä¸­çš„ 0-1 èƒŒåŒ…é—®é¢˜]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>LeetCode</tag>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>åŠ¨æ€è§„åˆ’</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[pythonå®ç°æ’åºç®—æ³•]]></title>
    <url>%2F2019%2F08%2F19%2Fpython-leetcode-sorting(1)%2F</url>
    <content type="text"><![CDATA[å­¦ä¹ ç›®æ ‡ï¼š æœ€å¤§æ•° 179. æœ€å¤§æ•° ç»™å®šä¸€ç»„éè´Ÿæ•´æ•°ï¼Œé‡æ–°æ’åˆ—å®ƒä»¬çš„é¡ºåºä½¿ä¹‹ç»„æˆä¸€ä¸ªæœ€å¤§çš„æ•´æ•°ã€‚ ç¤ºä¾‹ 1: 12è¾“å…¥: [10,2]è¾“å‡º: 210 ç¤ºä¾‹ 2: 123è¾“å…¥: [3,30,34,5,9]è¾“å‡º: 9534330è¯´æ˜: è¾“å‡ºç»“æœå¯èƒ½éå¸¸å¤§ï¼Œæ‰€ä»¥ä½ éœ€è¦è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²è€Œä¸æ˜¯æ•´æ•°ã€‚ æ–¹æ³• å¦‚æœAB&gt;BAï¼Œé‚£ä¹ˆæˆ‘ä»¬è§„å®šA&gt;Bï¼Œä¹Ÿå°±æ˜¯æœ€åæ‹¼æ¥æ—¶Aæ”¾åœ¨Bä¹‹å‰. æ³¨æ„çš„æ˜¯å¯èƒ½å‚æ•°æ˜¯å¤šä¸ª0ï¼Œæ­¤æ—¶å­—ç¬¦ä¸²æ‹¼æ¥çš„ç»“æœæ˜¯ä¸€ä¸²0ï¼Œä¸ç¬¦åˆå¸¸è§„çš„è¡¨è¾¾æ–¹æ³•ï¼Œè¦å°†å…¶æ”¹ä¸º0ã€‚ 123456from functools import cmp_to_keyclass Solution: def largestNumber(self, nums: List[int]) -&gt; str: sorted_nums = sorted(map(str, nums), key=cmp_to_key(lambda x, y: int(y + x) - int(x + y))) result = ''.join(sorted_nums).lstrip('0') return result or '0']]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>LeetCode</tag>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>æ’åº</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€Šå‰‘æŒ‡offerã€‹ç¬¬3ç« 16-26é¢˜(python)]]></title>
    <url>%2F2019%2F08%2F15%2Fcoding-interviews_chapter3problem16-26%2F</url>
    <content type="text"><![CDATA[3.æ•°ç»„ä¸­é‡å¤çš„æ•°å­— ç‰›å®¢ç½‘ online judge åœ°å€ åœ¨ä¸€ä¸ªé•¿åº¦ä¸ºnçš„æ•°ç»„é‡Œçš„æ‰€æœ‰æ•°å­—éƒ½åœ¨0åˆ°n-1çš„èŒƒå›´å†…ã€‚ æ•°ç»„ä¸­æŸäº›æ•°å­—æ˜¯é‡å¤çš„ï¼Œä½†ä¸çŸ¥é“æœ‰å‡ ä¸ªæ•°å­—æ˜¯é‡å¤çš„ã€‚ä¹Ÿä¸çŸ¥é“æ¯ä¸ªæ•°å­—é‡å¤å‡ æ¬¡ã€‚è¯·æ‰¾å‡ºæ•°ç»„ä¸­ä»»æ„ä¸€ä¸ªé‡å¤çš„æ•°å­—ã€‚ ä¾‹å¦‚ï¼Œå¦‚æœè¾“å…¥é•¿åº¦ä¸º7çš„æ•°ç»„{2,3,1,0,2,5,3}ï¼Œé‚£ä¹ˆå¯¹åº”çš„è¾“å‡ºæ˜¯ç¬¬ä¸€ä¸ªé‡å¤çš„æ•°å­—2ã€‚ 3.1 å¯ä»¥ä¿®æ”¹åŸå§‹æ•°ç»„ æ–¹æ³•ï¼šäº¤æ¢æ•°å­— äº¤æ¢æ•°å­—åˆ°å¯¹åº”ä½ç½® 1234567891011121314151617class Solution: # è¿™é‡Œè¦ç‰¹åˆ«æ³¨æ„~æ‰¾åˆ°ä»»æ„é‡å¤çš„ä¸€ä¸ªå€¼å¹¶èµ‹å€¼åˆ°duplication[0] # å‡½æ•°è¿”å›True/False def duplicate(self, numbers, duplication): if len(numbers)&lt;2: duplication[0] = -1 return False for i in range(len(numbers)): while i != numbers[i]: if numbers[i] == numbers[numbers[i]]: duplication[0] = numbers[i] return True # æ³¨æ„è¿™é‡Œä¸èƒ½ç›´æ¥multiple assignment temp = numbers[i] numbers[i] = numbers[numbers[i]] numbers[temp] = temp return False 3.2 ä¸èƒ½ä¿®æ”¹åŸå§‹æ•°ç»„ æ–¹æ³•ä¸€ï¼šäºŒåˆ†æŸ¥æ‰¾ ç±»ä¼¼äºäºŒåˆ†æŸ¥æ‰¾ï¼Œå¤šäº†ä¸€æ­¥è®¡æ•° 123456789101112131415161718192021class Solution: # è¿™é‡Œè¦ç‰¹åˆ«æ³¨æ„~æ‰¾åˆ°ä»»æ„é‡å¤çš„ä¸€ä¸ªå€¼å¹¶èµ‹å€¼åˆ°duplication[0] # å‡½æ•°è¿”å›True/False def duplicate(self, numbers, duplication): if len(set(numbers)) == len(numbers): duplication[0] = -1 return False left = 1 right = len(numbers)-1 while left &lt; right: mid = left + (right-left+1)//2 count = 0 for num in numbers: if num &lt; mid: count += 1 if count &lt; mid:# å³åŠè¾¹æœ‰é‡å¤ left = mid else: # å·¦åŠè¾¹æœ‰é‡å¤ right = mid -1 duplication[0] = left return True æ–¹æ³•äºŒï¼šå¿«æ…¢æŒ‡é’ˆ ä½¿ç”¨å¿«æ…¢æŒ‡é’ˆï¼Œåˆ¤æ–­æ•°ç»„ä¸­æ˜¯å¦æœ‰é€»è¾‘ä¸Šçš„ç¯å­˜åœ¨ã€‚å¯»æ‰¾ç¯çš„èµ·ç‚¹ã€‚ æ³¨æ„ï¼šé¢˜ç›®çš„è¿”å›æ–¹å¼ã€å¿«æ…¢æŒ‡é’ˆçš„åˆå§‹åŒ–æ–¹å¼ã€‚ 123456789101112131415161718class Solution: # è¿™é‡Œè¦ç‰¹åˆ«æ³¨æ„~æ‰¾åˆ°ä»»æ„é‡å¤çš„ä¸€ä¸ªå€¼å¹¶èµ‹å€¼åˆ°duplication[0] # å‡½æ•°è¿”å›True/False def duplicate(self, nums, duplication): if len(set(nums)) == len(nums): duplication[0] = -1 return False fast = nums[nums[0]] slow = nums[0] while fast != slow: fast = nums[nums[fast]] slow = nums[slow] fast = 0 while fast != slow: fast = nums[nums[fast]] slow = nums[slow] duplication[0] = nums[fast] return True]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>å‰‘æŒ‡offer</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[pythonè§£leetcodeäºŒå‰æ ‘(3)]]></title>
    <url>%2F2019%2F08%2F14%2Fpython_leetcode-binary-tree(3)%2F</url>
    <content type="text"><![CDATA[äºŒå‰æ ‘ä¸­ç¬¬äºŒå°çš„èŠ‚ç‚¹ äºŒå‰æœç´¢æ ‘ä¸­ç¬¬Kå°çš„å…ƒç´  äºŒå‰æœç´¢æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ 671. äºŒå‰æ ‘ä¸­ç¬¬äºŒå°çš„èŠ‚ç‚¹ ç»™å®šä¸€ä¸ªéç©ºç‰¹æ®Šçš„äºŒå‰æ ‘ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½æ˜¯æ­£æ•°ï¼Œå¹¶ä¸”æ¯ä¸ªèŠ‚ç‚¹çš„å­èŠ‚ç‚¹æ•°é‡åªèƒ½ä¸º 2 æˆ– 0ã€‚å¦‚æœä¸€ä¸ªèŠ‚ç‚¹æœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹çš„è¯ï¼Œé‚£ä¹ˆè¿™ä¸ªèŠ‚ç‚¹çš„å€¼ä¸å¤§äºå®ƒçš„å­èŠ‚ç‚¹çš„å€¼ã€‚ ç»™å‡ºè¿™æ ·çš„ä¸€ä¸ªäºŒå‰æ ‘ï¼Œä½ éœ€è¦è¾“å‡ºæ‰€æœ‰èŠ‚ç‚¹ä¸­çš„ç¬¬äºŒå°çš„å€¼ã€‚å¦‚æœç¬¬äºŒå°çš„å€¼ä¸å­˜åœ¨çš„è¯ï¼Œè¾“å‡º -1 ã€‚ ç¤ºä¾‹ 1: 123456789è¾“å…¥: 2 / \ 2 5 / \ 5 7è¾“å‡º: 5è¯´æ˜: æœ€å°çš„å€¼æ˜¯ 2 ï¼Œç¬¬äºŒå°çš„å€¼æ˜¯ 5 ã€‚ ç¤ºä¾‹ 2: 1234567è¾“å…¥: 2 / \ 2 2è¾“å‡º: -1è¯´æ˜: æœ€å°çš„å€¼æ˜¯ 2, ä½†æ˜¯ä¸å­˜åœ¨ç¬¬äºŒå°çš„å€¼ã€‚ æ–¹æ³•ä¸€ éå†æ‰€æœ‰å€¼ï¼Œæ‰¾æœ€å°ï¼Œå†æ‰¾æ¬¡å° ä½¿ç”¨äº†ä¸€ä¸ªä¸­åºéå†ï¼ŒæŠŠæ‰€æœ‰çš„å€¼æ”¾å…¥åˆ°seté‡Œï¼Œç„¶åæˆ‘ä»¬å…ˆæ‰¾æœ€å°å€¼ï¼Œç„¶ååˆ é™¤æ‰å®ƒä¹‹åï¼Œå†æ±‚ä¸€æ¬¡æœ€å°å€¼å°±æ˜¯æ¬¡å°å€¼ã€‚ 1234567891011121314151617181920# Definition for a binary tree node.# class TreeNode:# def __init__(self, x):# self.val = x# self.left = None# self.right = Noneclass Solution: def findSecondMinimumValue(self, root: TreeNode) -&gt; int: self.res = set() self.inOrder(root) if len(self.res) &lt;= 1: return -1 min1 = min(self.res) self.res.remove(min1) return min(self.res) def inOrder(self, root): if not root:return self.inOrder(root.left) self.res.add(root.val) self.inOrder(root.right) æ–¹æ³•äºŒ æ‰€æœ‰çš„å€¼çš„æœ€å°å€¼ä¸€å®šæ˜¯rootçš„å€¼ã€‚ å¯ä»¥ä½¿ç”¨ä¸€ä¸ªå˜é‡ï¼Œæ—¶åˆ»ä¿å­˜ç°åœ¨é‡åˆ°çš„æ¯”æœ€å°å€¼å¤§å¹¶ä¸”æ¯”æ¬¡å°å€¼å°çš„å€¼ä½œä¸ºç¬¬äºŒå°çš„å€¼ã€‚ 123456789101112131415class Solution: def findSecondMinimumValue(self, root: TreeNode) -&gt; int: if not root: return -1 self.res = float("inf") self.min = root.val self.inOrder(root) return self.res if self.res != float("inf") else -1 def inOrder(self, root): if not root: return self.inOrder(root.left) if self.min &lt; root.val &lt; self.res: self.res = root.val self.inOrder(root.right) 230. äºŒå‰æœç´¢æ ‘ä¸­ç¬¬Kå°çš„å…ƒç´  æ–¹æ³•ï¼šé€’å½’ æåˆ°BSTå°±åº”è¯¥æƒ³åˆ°å®ƒçš„ä¸­åºéå†æ˜¯æœ‰åºçš„ï¼Œå› æ­¤ï¼Œæœ€ç®€å•çš„æƒ³æ³•å°±æ˜¯è·å–ä¸­åºéå†çš„listï¼Œç›´æ¥å¾—åˆ°ç¬¬kä¸ªæ•°å³å¯ã€‚æ–¹æ³•å¾ˆç®€å•ï¼Œæ³¨æ„ä¸­åºéå†çš„å†™æ³•ï¼Œä»¥åŠï¼Œè·å–ç¬¬kä¸ªæ•°çš„Listæ ‡å·æ˜¯k-1. å½“Kæ¯”è¾ƒå°çš„æ—¶å€™ï¼Œæ²¡å¿…è¦è·å–å¾—åˆ°æ‰€æœ‰çš„ä¸­åºéå†ç»“æœä¹‹åå†åœæ­¢ï¼Œå¯ä»¥ç›´æ¥è®°æ•°åˆ°äº†kåœæ­¢å³å¯ï¼Œè¿™æ ·åé¢çš„ç»“æœå°±ä¸ç”¨ç»Ÿè®¡äº†ã€‚ æˆ‘ä»¬éœ€è¦åšçš„æ˜¯æœ‰ä¸€ä¸ªå…¨å±€çš„å˜é‡ä¿å­˜ç°åœ¨å·²ç»éå†äº†å¤šå°‘èŠ‚ç‚¹äº†ï¼Œæˆ–è€…è¿˜å‰©å¤šå°‘ä¸ªèŠ‚ç‚¹éœ€è¦éå†ã€‚ 1234567891011121314class Solution: def kthSmallest(self, root: TreeNode, k: int) -&gt; int: self.res = 0 self.count = 0 self.inOrder(root, k) return self.res def inOrder(self, root, k): if not root:return self.inOrder(root.left, k) self.count += 1 if self.count == k: self.res = root.val return self.inOrder(root.right, k) 235. äºŒå‰æœç´¢æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ Lowest Common Ancestor of a Binary Search Tree ç»™å®šä¸€ä¸ªäºŒå‰æœç´¢æ ‘, æ‰¾åˆ°è¯¥æ ‘ä¸­ä¸¤ä¸ªæŒ‡å®šèŠ‚ç‚¹çš„æœ€è¿‘å…¬å…±ç¥–å…ˆã€‚ ç™¾åº¦ç™¾ç§‘ä¸­æœ€è¿‘å…¬å…±ç¥–å…ˆçš„å®šä¹‰ä¸ºï¼šâ€œå¯¹äºæœ‰æ ¹æ ‘ T çš„ä¸¤ä¸ªç»“ç‚¹ pã€qï¼Œæœ€è¿‘å…¬å…±ç¥–å…ˆè¡¨ç¤ºä¸ºä¸€ä¸ªç»“ç‚¹ xï¼Œæ»¡è¶³ x æ˜¯ pã€q çš„ç¥–å…ˆä¸” x çš„æ·±åº¦å°½å¯èƒ½å¤§ï¼ˆä¸€ä¸ªèŠ‚ç‚¹ä¹Ÿå¯ä»¥æ˜¯å®ƒè‡ªå·±çš„ç¥–å…ˆï¼‰ã€‚â€ ä¾‹å¦‚ï¼Œç»™å®šå¦‚ä¸‹äºŒå‰æœç´¢æ ‘: root = [6,2,8,0,4,7,9,null,null,3,5] ç¤ºä¾‹ 1: 123è¾“å…¥: root = [6,2,8,0,4,7,9,null,null,3,5], p = 2, q = 8è¾“å‡º: 6 è§£é‡Š: èŠ‚ç‚¹ 2 å’ŒèŠ‚ç‚¹ 8 çš„æœ€è¿‘å…¬å…±ç¥–å…ˆæ˜¯ 6ã€‚ ç¤ºä¾‹ 2: 123456789101112131415161718192021è¾“å…¥: root = [6,2,8,0,4,7,9,null,null,3,5], p = 2, q = 4è¾“å‡º: 2è§£é‡Š: èŠ‚ç‚¹ 2 å’ŒèŠ‚ç‚¹ 4 çš„æœ€è¿‘å…¬å…±ç¥–å…ˆæ˜¯ 2, å› ä¸ºæ ¹æ®å®šä¹‰æœ€è¿‘å…¬å…±ç¥–å…ˆèŠ‚ç‚¹å¯ä»¥ä¸ºèŠ‚ç‚¹æœ¬èº«ã€‚``` è¯´æ˜:- æ‰€æœ‰èŠ‚ç‚¹çš„å€¼éƒ½æ˜¯å”¯ä¸€çš„ã€‚- pã€q ä¸ºä¸åŒèŠ‚ç‚¹ä¸”å‡å­˜åœ¨äºç»™å®šçš„äºŒå‰æœç´¢æ ‘ä¸­ã€‚## æ–¹æ³•:é€’å½’BSTæœ¬èº«çš„å±æ€§ï¼Œæ‰€ä»¥æ¯”è¾ƒèŠ‚ç‚¹çš„å€¼å’Œæ ¹èŠ‚ç‚¹çš„å€¼çš„å¤§å°å°±çŸ¥é“ä¸‹ä¸€æ­¥å»å“ªé‡ŒæŸ¥æ‰¾äº†ã€‚```pythonclass Solution: def lowestCommonAncestor(self, root: &apos;TreeNode&apos;, p: &apos;TreeNode&apos;, q: &apos;TreeNode&apos;) -&gt; &apos;TreeNode&apos;: if min(p.val, q.val) &lt;= root.val and max(p.val, q.val) &gt;= root.val: return root elif p.val &lt; root.val and q.val &lt; root.val: return self.lowestCommonAncestor(root.left, p, q) elif p.val &gt; root.val and q.val &gt; root.val: return self.lowestCommonAncestor(root.right, p, q) è¿™ä¸ªé¢˜æ˜¯236. äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ çš„ç‰¹ä¾‹ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥ä½¿ç”¨236çš„ä»£ç å°±èƒ½é€šè¿‡ã€‚ 236. äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ ç»™å®šä¸€ä¸ªäºŒå‰æ ‘, æ‰¾åˆ°è¯¥æ ‘ä¸­ä¸¤ä¸ªæŒ‡å®šèŠ‚ç‚¹çš„æœ€è¿‘å…¬å…±ç¥–å…ˆã€‚ ç™¾åº¦ç™¾ç§‘ä¸­æœ€è¿‘å…¬å…±ç¥–å…ˆçš„å®šä¹‰ä¸ºï¼šâ€œå¯¹äºæœ‰æ ¹æ ‘ T çš„ä¸¤ä¸ªç»“ç‚¹ pã€qï¼Œæœ€è¿‘å…¬å…±ç¥–å…ˆè¡¨ç¤ºä¸ºä¸€ä¸ªç»“ç‚¹ xï¼Œæ»¡è¶³ x æ˜¯ pã€q çš„ç¥–å…ˆä¸” x çš„æ·±åº¦å°½å¯èƒ½å¤§ï¼ˆä¸€ä¸ªèŠ‚ç‚¹ä¹Ÿå¯ä»¥æ˜¯å®ƒè‡ªå·±çš„ç¥–å…ˆï¼‰ã€‚â€ ä¾‹å¦‚ï¼Œç»™å®šå¦‚ä¸‹äºŒå‰æ ‘: root = [3,5,1,6,2,0,8,null,null,7,4] ç¤ºä¾‹ 1: 123è¾“å…¥: root = [3,5,1,6,2,0,8,null,null,7,4], p = 5, q = 1è¾“å‡º: 3è§£é‡Š: èŠ‚ç‚¹ 5 å’ŒèŠ‚ç‚¹ 1 çš„æœ€è¿‘å…¬å…±ç¥–å…ˆæ˜¯èŠ‚ç‚¹ 3ã€‚ ç¤ºä¾‹ 2: 123è¾“å…¥: root = [3,5,1,6,2,0,8,null,null,7,4], p = 5, q = 4è¾“å‡º: 5è§£é‡Š: èŠ‚ç‚¹ 5 å’ŒèŠ‚ç‚¹ 4 çš„æœ€è¿‘å…¬å…±ç¥–å…ˆæ˜¯èŠ‚ç‚¹ 5ã€‚å› ä¸ºæ ¹æ®å®šä¹‰æœ€è¿‘å…¬å…±ç¥–å…ˆèŠ‚ç‚¹å¯ä»¥ä¸ºèŠ‚ç‚¹æœ¬èº«ã€‚ è¯´æ˜: æ‰€æœ‰èŠ‚ç‚¹çš„å€¼éƒ½æ˜¯å”¯ä¸€çš„ã€‚ pã€q ä¸ºä¸åŒèŠ‚ç‚¹ä¸”å‡å­˜åœ¨äºç»™å®šçš„äºŒå‰æ ‘ä¸­ã€‚ æ–¹æ³• è¿™ä¸ªé¢˜çš„æ¨¡å¼å«åšdevide and conquer. å¦‚æœå½“å‰èŠ‚ç‚¹ç­‰äºå…¶ä¸­çš„på’ŒqæŸä¸€ä¸ªèŠ‚ç‚¹ï¼Œé‚£ä¹ˆæ‰¾åˆ°äº†èŠ‚ç‚¹ï¼Œè¿”å›è¯¥èŠ‚ç‚¹ï¼Œå¦åˆ™åœ¨å·¦å³å­æ ‘åˆ†åˆ«å¯»æ‰¾ã€‚ å·¦å³å­æ ‘ä¸¤ä¸ªè¿”å›çš„æ˜¯ä»€ä¹ˆå‘¢ï¼ŸæŒ‰ç…§è¯¥é€’å½’å‡½æ•°çš„å®šä¹‰ï¼Œå³æ‰¾åˆ°äº†å·¦å­æ ‘å’Œå³å­æ ‘é‡Œpå’Œqçš„å…¬å…±ç¥–å…ˆï¼Œæ³¨æ„ç¥–å…ˆå¯ä»¥æ˜¯èŠ‚ç‚¹è‡ªå·±ã€‚ç„¶åæ ¹æ®å·¦å³ä¾§æ‰¾åˆ°çš„èŠ‚ç‚¹åšè¿›ä¸€æ­¥çš„åˆ¤æ–­ã€‚ å¦‚æœå·¦å³ä¾§æŸ¥æ‰¾çš„ç»“æœéƒ½ä¸ä¸ºç©ºï¼Œè¯´æ˜åˆ†åˆ«æ‰¾åˆ°äº†på’Œqï¼Œé‚£ä¹ˆLCAå°±æ˜¯å½“å‰èŠ‚ç‚¹ã€‚å¦åˆ™å°±åœ¨ä¸ä¸ºç©ºçš„é‚£ä¸ªç»“æœå°±æ˜¯æ‰€æ±‚ã€‚ 123456789class Solution: def lowestCommonAncestor(self, root: 'TreeNode', p: 'TreeNode', q: 'TreeNode') -&gt; 'TreeNode': if not root or p==root or q==root: return root left = self.lowestCommonAncestor(root.left, p, q) right = self.lowestCommonAncestor(root.right, p, q) if left and right: return root return left if left else right å‚è€ƒ ã€LeetCodeã€‘230. Kth Smallest Element in a BST è§£é¢˜æŠ¥å‘Šï¼ˆC++ &amp; Javaï¼‰]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>LeetCode</tag>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>äºŒå‰æ ‘</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[pythonè§£LeetCodeæ•°ç»„(3)]]></title>
    <url>%2F2019%2F08%2F11%2Fpython_leetcode-array(3)%2F</url>
    <content type="text"><![CDATA[å¯»æ‰¾ä¸¤ä¸ªæœ‰åºæ•°ç»„çš„ä¸­ä½æ•° ç››æœ€å¤šæ°´çš„å®¹å™¨ èºæ—‹çŸ©é˜µ èºæ—‹çŸ©é˜µ II åªå‡ºç°ä¸€æ¬¡çš„æ•°å­— æœ‰åºæ•°ç»„çš„å¹³æ–¹ æœç´¢äºŒç»´çŸ©é˜µ II æœç´¢äºŒç»´çŸ©é˜µ å‰ K ä¸ªé«˜é¢‘å…ƒç´  å’Œä¸ºKçš„å­æ•°ç»„ 4. å¯»æ‰¾ä¸¤ä¸ªæœ‰åºæ•°ç»„çš„ä¸­ä½æ•° å¯»æ‰¾ä¸¤ä¸ªæœ‰åºæ•°ç»„çš„ä¸­ä½æ•° ç»™å®šä¸¤ä¸ªå¤§å°ä¸º m å’Œ n çš„æœ‰åºæ•°ç»„ nums1 å’Œ nums2ã€‚ è¯·ä½ æ‰¾å‡ºè¿™ä¸¤ä¸ªæœ‰åºæ•°ç»„çš„ä¸­ä½æ•°ï¼Œå¹¶ä¸”è¦æ±‚ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º O(log(m+n))ã€‚ ä½ å¯ä»¥å‡è®¾ nums1 å’Œ nums2 ä¸ä¼šåŒæ—¶ä¸ºç©ºã€‚ ç¤ºä¾‹ 1: 123nums1 = [1, 3]nums2 = [2]åˆ™ä¸­ä½æ•°æ˜¯ 2.0 ç¤ºä¾‹ 2: 123nums1 = [1, 2]nums2 = [3, 4]åˆ™ä¸­ä½æ•°æ˜¯ (2 + 3)/2 = 2.5 æ–¹æ³•ä¸€ï¼šåˆå¹¶ï¼Œæ’åºï¼Œé™¤ä»¥2 å¯¹äºä¸€ä¸ªæœ‰åºæ•°ç»„ï¼Œå¦‚æœæ•°ç»„é•¿åº¦æ˜¯å¥‡æ•°ï¼Œé‚£ä¹ˆä¸­ä½æ•°å°±æ˜¯ä¸­é—´é‚£ä¸ªå€¼ï¼Œå¦‚æœé•¿åº¦æ˜¯å¶æ•°ï¼Œå°±æ˜¯ä¸­é—´ä¸¤ä¸ªæ•°çš„å¹³å‡æ•°ã€‚ 12345678910111213class Solution: def findMedianSortedArrays(self, nums1, nums2): """ :type nums1: List[int] :type nums2: List[int] :rtype: float """ tmp = nums1 + nums2 tmp.sort() if len(tmp)%2==1: return tmp[int(len(tmp)/2)] else: return (tmp[int(len(tmp)/2)-1] + tmp[int(len(tmp)/2)])/2.0 Time Complexity: O(n) å¤§äºé¢˜ç›®è¦æ±‚çš„æ—¶é—´å¤æ‚åº¦ æ–¹æ³•äºŒï¼šå¯»æ‰¾åˆ’åˆ†ä½ç½® ä¸­ä½æ•°çš„ä½œç”¨ï¼šå°†ä¸€ä¸ªé›†åˆåˆ’åˆ†ä¸ºä¸¤ä¸ªé•¿åº¦ç›¸ç­‰çš„å­é›†ï¼Œå…¶ä¸­ä¸€ä¸ªå­é›†ä¸­çš„å…ƒç´ æ€»æ˜¯å¤§äºå¦ä¸€ä¸ªå­é›†ä¸­çš„å…ƒç´ ã€‚ æ€è·¯ï¼šnums1å’Œnums2åˆ†åˆ«ä»¥i,jä¸ºç•Œåˆ’åˆ†æˆå·¦å³ä¸¤éƒ¨åˆ†ï¼Œä¸æ–­è°ƒæ•´i,j,ä»¥è¾¾æˆä»¥ä¸‹æ¡ä»¶ï¼š len(nums1_å·¦) + len(nums2_å·¦) = len(nums1_å³) + len(nums2_å³) å°±æ˜¯è¯´ï¼Œåˆ’åˆ†åçš„å·¦å³ä¸¤è¾¹çš„é•¿åº¦ç›¸ç­‰ã€‚ Max(nums1å·¦ã€nums2å·¦) â‰¤ Min(nums1å³ã€nums2å³) å°±æ˜¯è¯´ï¼Œå·¦è¾¹çš„å…ƒç´ æ€»æ˜¯å°äºå³è¾¹ã€‚ 12345678910111213141516171819202122232425262728293031323334class Solution: def findMedianSortedArrays(self, nums1, nums2): """ :type nums1: List[int] :type nums2: List[int] :rtype: float """ m, n = len(nums1), len(nums2) if m &gt; n: nums1, nums2, m, n = nums2, nums1, n, m if n == 0: raise ValueError imin, imax, half_len = 0, m, (m+n+1)//2 while imin &lt;= imax: i = (imin + imax)//2 j = half_len - i if i&lt;m and nums2[j-1] &gt; nums1[i]: #iå¤ªå° imin = i+1 elif i&gt;0 and nums1[i-1]&gt;nums2[j]: #iå¤ªå¤§ imax = i-1 else:#æ‰¾åˆ°içš„æ­£ç¡®ä½ç½® if i==0: max_of_left = nums2[j-1]#ä¸´ç•Œé—®é¢˜ï¼Œå…¶ä¸­ä¸€ä¸ªåˆ—è¡¨å…¨åœ¨å³è¾¹ï¼Œå·¦è¾¹ä¸ºç©º elif j==0: max_of_left = nums1[i-1] else: max_of_left = max(nums1[i-1], nums2[j-1]) if(m+n)%2 == 1: #è‹¥åˆ—è¡¨é•¿åº¦ä¸ºå¥‡æ•° return max_of_left if i==m: min_of_right = nums2[j] #ä¸´ç•Œé—®é¢˜ï¼Œå…¶ä¸­ä¸€ä¸ªåˆ—è¡¨å…¨åœ¨å·¦è¾¹ï¼Œå³è¾¹ä¸ºç©º elif j==n: min_of_right = nums1[i] else: min_of_right = min(nums1[i], nums2[j]) return (max_of_left + min_of_right)/2 Time Complexity: O(log(min(m,n))) é¦–å…ˆï¼ŒæŸ¥æ‰¾çš„åŒºé—´æ˜¯ [0,m]ã€‚ è€Œè¯¥åŒºé—´çš„é•¿åº¦åœ¨æ¯æ¬¡å¾ªç¯ä¹‹åéƒ½ä¼šå‡å°‘ä¸ºåŸæ¥çš„ä¸€åŠã€‚ æ‰€ä»¥ï¼Œæˆ‘ä»¬åªéœ€è¦æ‰§è¡Œ (m) æ¬¡å¾ªç¯ã€‚ç”±äºæˆ‘ä»¬åœ¨æ¯æ¬¡å¾ªç¯ä¸­è¿›è¡Œå¸¸é‡æ¬¡æ•°çš„æ“ä½œï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦ä¸º O(log(m)) ã€‚ ç”±äº mâ‰¤nï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦æ˜¯ O(log(min(m,n)))ã€‚ç©ºé—´å¤æ‚åº¦ï¼šO(1)ï¼Œ æˆ‘ä»¬åªéœ€è¦æ’å®šçš„å†…å­˜æ¥å­˜å‚¨ 9 ä¸ªå±€éƒ¨å˜é‡ï¼Œ æ‰€ä»¥ç©ºé—´å¤æ‚åº¦ä¸º O(1)ã€‚ 11. ç››æœ€å¤šæ°´çš„å®¹å™¨ Container With Most Water ç»™å®š n ä¸ªéè´Ÿæ•´æ•° a1ï¼Œa2ï¼Œâ€¦ï¼Œanï¼Œæ¯ä¸ªæ•°ä»£è¡¨åæ ‡ä¸­çš„ä¸€ä¸ªç‚¹ (i, ai) ã€‚åœ¨åæ ‡å†…ç”» n æ¡å‚ç›´çº¿ï¼Œå‚ç›´çº¿ i çš„ä¸¤ä¸ªç«¯ç‚¹åˆ†åˆ«ä¸º (i, ai) å’Œ (i, 0)ã€‚æ‰¾å‡ºå…¶ä¸­çš„ä¸¤æ¡çº¿ï¼Œä½¿å¾—å®ƒä»¬ä¸ x è½´å…±åŒæ„æˆçš„å®¹å™¨å¯ä»¥å®¹çº³æœ€å¤šçš„æ°´ã€‚ è¯´æ˜ï¼šä½ ä¸èƒ½å€¾æ–œå®¹å™¨ï¼Œä¸” n çš„å€¼è‡³å°‘ä¸º 2ã€‚ å›¾ä¸­å‚ç›´çº¿ä»£è¡¨è¾“å…¥æ•°ç»„ [1,8,6,2,5,4,8,3,7]ã€‚åœ¨æ­¤æƒ…å†µä¸‹ï¼Œå®¹å™¨èƒ½å¤Ÿå®¹çº³æ°´ï¼ˆè¡¨ç¤ºä¸ºè“è‰²éƒ¨åˆ†ï¼‰çš„æœ€å¤§å€¼ä¸º 49ã€‚ ç¤ºä¾‹: 12è¾“å…¥: [1,8,6,2,5,4,8,3,7]è¾“å‡º: 49 æ–¹æ³•ä¸€ï¼šç§»åŠ¨æŒ‡é’ˆ è£…æ°´çš„é¢ç§¯å–å†³äºä¸¤æ¡çº¿ä¸­è¾ƒçŸ­çš„é‚£æ¡çš„é•¿åº¦å’Œä¸¤æ¡çº¿ä¹‹é—´æ¨ªåæ ‡çš„å·®å€¼ã€‚ ç”¨åŒæŒ‡é’ˆleftã€rightï¼Œåˆ†åˆ«æŒ‡å‘æ•°ç»„heightçš„é¦–å°¾ã€‚åªæœ‰è¾ƒçŸ­è¾¹ä¼šå¯¹ç››æ°´é‡é€ æˆå½±å“ï¼Œå› æ­¤ç§»åŠ¨è¾ƒçŸ­è¾¹çš„æŒ‡é’ˆï¼Œå¹¶æ¯”è¾ƒå½“å‰ç››æ°´é‡å’Œå½“å‰æœ€å¤§ç››æ°´é‡ã€‚ç›´è‡³å·¦å³æŒ‡é’ˆç›¸é‡ã€‚ areaåœ¨å®½åº¦å˜å°çš„æƒ…å†µä¸‹ï¼Œåªæœ‰å¯èƒ½é«˜åº¦å˜å¤§ï¼Œé¢ç§¯æ‰æœ‰å¯èƒ½å˜å¤§ å¦‚æœheight[left]é•¿åº¦å°äºheight[right]ï¼Œæ— è®ºå¦‚ä½•ç§»åŠ¨rightï¼ŒçŸ­æ¿åœ¨leftï¼Œä¸å¯èƒ½æ‰¾åˆ°æ¯”å½“å‰è®°å½•çš„ area æ›´å¤§çš„å€¼äº†ï¼Œåªèƒ½é€šè¿‡ç§»åŠ¨leftæ¥æ‰¾åˆ°æ–°çš„å¯èƒ½çš„æ›´å¤§é¢ç§¯ã€‚è¿™ç§æ–¹å¼å¯ä»¥éå†åˆ°å®¹é‡æœ€å¤§çš„æƒ…å†µã€‚ 12345678910111213141516171819class Solution: def maxArea(self, height): """ :type height: List[int] :rtype: int """ if height == []: return 0 left, right, area = 0, len(height)-1, 0 while left&lt;right: area = max(area, min(height[left], height[right]) * (right-left)) if height[left]&lt;height[right]:#areaçš„é«˜å–å†³äºå·¦æŒ‡é’ˆ left+=1 else: #areaçš„é«˜å–å†³äºå³æŒ‡é’ˆ right-=1 return area Time Complexity: O(n) O(n)O(n) æ–¹æ³•ä¸€æ”¹è¿› 123456789101112131415161718192021class Solution(object): def maxArea(self, height): """ :type height: List[int] :rtype: int """ l = 0 r = len(height)-1 s = 0 while l &lt; r: width = r-l if height[l] &lt; height[r]: h = height[l] l += 1 else: h = height[r] r -= 1 s = max(s, h*width) return s 54. èºæ—‹çŸ©é˜µ ç»™å®šä¸€ä¸ªåŒ…å« m x n ä¸ªå…ƒç´ çš„çŸ©é˜µï¼ˆm è¡Œ, n åˆ—ï¼‰ï¼Œè¯·æŒ‰ç…§é¡ºæ—¶é’ˆèºæ—‹é¡ºåºï¼Œè¿”å›çŸ©é˜µä¸­çš„æ‰€æœ‰å…ƒç´ ã€‚ ç¤ºä¾‹ 1: 1234567è¾“å…¥:[ [ 1, 2, 3 ], [ 4, 5, 6 ], [ 7, 8, 9 ]]è¾“å‡º: [1,2,3,6,9,8,7,4,5] æ–¹æ³• 12345678910111213141516171819202122232425262728293031323334353637383940class Solution: def spiralOrder(self, matrix): """ :type matrix: List[List[int]] :rtype: List[int] """ if len(matrix)==0: return res = [] # case 0,1,2,3åˆ†åˆ«è¡¨ç¤ºæŒ‰èºæ—‹é¡ºåºè¦éå†çš„ä¸Šã€å³ã€åº•ã€å·¦è¾¹ case = 0 #å°šæœªéå†çš„çŸ©é˜µçš„å››æ¡è¾¹ä½ç½® up = 0 down = len(matrix)-1 left = 0 right = len(matrix[0])-1 while left&lt;=right and up&lt;=down: if case == 0: #éå†ä¸Šè¾¹ for i in range(left, right+1): res.append(matrix[up][i]) up+=1 elif case == 1:#éå†å³è¾¹ for i in range(up, down+1): res.append(matrix[i][right]) right -= 1 elif case == 2: #éå†åº•è¾¹ for i in range(left, right+1)[::-1]: res.append(matrix[down][i]) down -= 1 else: #éå†å·¦è¾¹ for i in range(up, down+1)[::-1]: res.append(matrix[i][left]) left += 1 case = (case + 1) % 4 return res 59. èºæ—‹çŸ©é˜µ II ç»™å®šä¸€ä¸ªæ­£æ•´æ•° nï¼Œç”Ÿæˆä¸€ä¸ªåŒ…å« 1 åˆ° n2 æ‰€æœ‰å…ƒç´ ï¼Œä¸”å…ƒç´ æŒ‰é¡ºæ—¶é’ˆé¡ºåºèºæ—‹æ’åˆ—çš„æ­£æ–¹å½¢çŸ©é˜µã€‚ ç¤ºä¾‹: 1234567è¾“å…¥: 3è¾“å‡º:[ [ 1, 2, 3 ], [ 8, 9, 4 ], [ 7, 6, 5 ]] æ–¹æ³• ç±»ä¼¼äºä¸Šé¢54é¢˜ 1234567891011121314151617181920212223242526272829class Solution: def generateMatrix(self, n: int) -&gt; List[List[int]]: if n == 0: return [] res = [[0 for x in range(n)] for x in range(n)] cnt, case = 1, 0 i, j = 0, 0 weight = 1 res[0][0] = 1 while cnt &lt; n * n: if case == 0: j += 1 #æ¨ªå‘é€’å¢ if j == n - weight: case = 1 elif case == 1: i += 1 #çºµå‘é€’å¢ if i == n - weight: case = 2 elif case == 2: j -= 1 #æ¨ªå‘å‘å·¦ if j == weight - 1: case = 3 weight += 1 elif case == 3: i -= 1 #çºµå‘å‘ä¸Š if i == weight - 1: case = 0 res[i][j] = cnt + 1 cnt += 1 return res 136. åªå‡ºç°ä¸€æ¬¡çš„æ•°å­— ç»™å®šä¸€ä¸ªéç©ºæ•´æ•°æ•°ç»„ï¼Œé™¤äº†æŸä¸ªå…ƒç´ åªå‡ºç°ä¸€æ¬¡ä»¥å¤–ï¼Œå…¶ä½™æ¯ä¸ªå…ƒç´ å‡å‡ºç°ä¸¤æ¬¡ã€‚æ‰¾å‡ºé‚£ä¸ªåªå‡ºç°äº†ä¸€æ¬¡çš„å…ƒç´ ã€‚ è¯´æ˜ï¼šä½ çš„ç®—æ³•åº”è¯¥å…·æœ‰çº¿æ€§æ—¶é—´å¤æ‚åº¦ã€‚ ä½ å¯ä»¥ä¸ä½¿ç”¨é¢å¤–ç©ºé—´æ¥å®ç°å—ï¼Ÿ ç¤ºä¾‹ : 12è¾“å…¥: [4,1,2,1,2]è¾“å‡º: 4 æ–¹æ³•ä¸€ï¼šå¼‚æˆ–ä½è¿ç®— å¼‚æˆ–è¿ç®—æ˜¯å¯ä»¥äº¤æ¢é¡ºåºçš„è¿ç®—ï¼Œä¹Ÿå°±æ˜¯è¯´å’Œå…ƒç´ çš„æ’åˆ—é¡ºåºæ— å…³ï¼Œè‡ªå·±å¼‚æˆ–è‡ªå·±ç­‰äº0,0å¼‚æˆ–åˆ«äººç­‰äºåˆ«äººã€‚ 1234from functools import reduceclass Solution: def singleNumber(self, nums: List[int]) -&gt; int: return reduce(lambda x, y: x^y, nums) æ–¹æ³•äºŒï¼šå­—å…¸ ä½¿ç”¨Counterç›´æ¥æ±‚åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—å³å¯ 1234class Solution: def singleNumber(self, nums: List[int]) -&gt; int: count = collections.Counter(nums) return count.most_common()[-1][0] 977. æœ‰åºæ•°ç»„çš„å¹³æ–¹ ç»™å®šä¸€ä¸ªæŒ‰éé€’å‡é¡ºåºæ’åºçš„æ•´æ•°æ•°ç»„ Aï¼Œè¿”å›æ¯ä¸ªæ•°å­—çš„å¹³æ–¹ç»„æˆçš„æ–°æ•°ç»„ï¼Œè¦æ±‚ä¹ŸæŒ‰éé€’å‡é¡ºåºæ’åºã€‚ ç¤ºä¾‹ 1ï¼š 12è¾“å…¥ï¼š[-4,-1,0,3,10]è¾“å‡ºï¼š[0,1,9,16,100] ç¤ºä¾‹ 2ï¼š 12è¾“å…¥ï¼š[-7,-3,2,3,11]è¾“å‡ºï¼š[4,9,9,49,121] æç¤ºï¼š 1 &lt;= A.length &lt;= 10000 -10000 &lt;= A[i] &lt;= 10000 A å·²æŒ‰éé€’å‡é¡ºåºæ’åºã€‚ æ–¹æ³•ä¸€ï¼šå½’å¹¶æ’åº ç”¨ä¸¤ä¸ªæŒ‡é’ˆåˆ†åˆ«è¯»å–æ•°ç»„çš„éè´Ÿéƒ¨åˆ†ä¸è´Ÿæ•°éƒ¨åˆ† â€”â€” æŒ‡é’ˆ i åå‘è¯»å–è´Ÿæ•°éƒ¨åˆ†ï¼ŒæŒ‡é’ˆ j æ­£å‘è¯»å–éè´Ÿæ•°éƒ¨åˆ†ã€‚ 123456789101112131415161718192021222324252627class Solution: def sortedSquares(self, A): """ :type A: List[int] :rtype: List[int] """ N = len(A) j = 0 while A[j]&lt;0 and j&lt;N-1: j+=1 i = j-1 res = [] while 0&lt;=i and j&lt;N: # å½’å¹¶æ“ä½œ, è°çš„å¹³æ–¹å°ï¼Œè°å…ˆè¾“å‡º if A[i]**2 &lt; A[j]**2: res.append(A[i]**2) i-=1 else: res.append(A[j]**2) j+=1 while i&gt;=0: # å¦‚æœè´Ÿæ•°éƒ¨åˆ†æ²¡æœ‰è¾“å‡ºå®Œï¼Œåˆ™ç›´æ¥è¾“å‡º res.append(A[i]**2) i-=1 while j&lt;N: # å¦‚æœæ­£æ•°éƒ¨åˆ†æ²¡æœ‰è¾“å‡ºå®Œï¼Œåˆ™ç›´æ¥è¾“å‡º res.append(A[j]**2) j+=1 return res Time Complexity: O(n) O(n)O(n) æ–¹æ³•äºŒï¼šæ’åº 12345678910111213class Solution: def sortedSquares(self, A): return sorted(x*x for x in A)``` Time Complexity: O(nlogn) O(nlogn)O(nlogn)# 240. æœç´¢äºŒç»´çŸ©é˜µ IIç¼–å†™ä¸€ä¸ªé«˜æ•ˆçš„ç®—æ³•æ¥æœç´¢ m x n çŸ©é˜µ matrix ä¸­çš„ä¸€ä¸ªç›®æ ‡å€¼ targetã€‚è¯¥çŸ©é˜µå…·æœ‰ä»¥ä¸‹ç‰¹æ€§ï¼šæ¯è¡Œçš„å…ƒç´ ä»å·¦åˆ°å³å‡åºæ’åˆ—ã€‚æ¯åˆ—çš„å…ƒç´ ä»ä¸Šåˆ°ä¸‹å‡åºæ’åˆ—ã€‚ç¤ºä¾‹: ç°æœ‰çŸ©é˜µ matrix å¦‚ä¸‹ï¼š [ [1, 4, 7, 11, 15], [2, 5, 8, 12, 19], [3, 6, 9, 16, 22], [10, 13, 14, 17, 24], [18, 21, 23, 26, 30]] ç»™å®š target = 5ï¼Œè¿”å› trueã€‚ ç»™å®š target = 20ï¼Œè¿”å› falseã€‚ 12345678910111213141516171819202122232425262728## æ–¹æ³•è¿™ä¸ªé¢˜åœ¨å‰‘æŒ‡offeræœ‰è¯¦ç»†è§£é‡Šã€‚æ–¹æ³•æ˜¯ä»å³ä¸Šè§’å‘å·¦ä¸‹è§’è¿›è¡Œéå†ï¼Œæ ¹æ®æ¯”è¾ƒçš„å¤§å°å†³å®šå‘ä¸‹è¿˜æ˜¯å‘å·¦æŸ¥æ‰¾ã€‚å‰‘æŒ‡offerçš„è§£é‡Šæ˜¯æˆ‘ä»¬ä»çŸ©é˜µçš„å·¦ä¸‹è§’æˆ–è€…å³ä¸Šè§’å¼€å§‹éå†ï¼Œè¿™æ ·çŸ¥é“äº†æ¯”è¾ƒçš„ç»“æœæ˜¯å¤§è¿˜æ˜¯å°ï¼Œå°±çŸ¥é“äº†å¯¹åº”çš„å‰è¿›æ–¹å‘ã€‚```pythonclass Solution: def searchMatrix(self, matrix, target): &quot;&quot;&quot; :type matrix: List[List[int]] :type target: int :rtype: bool &quot;&quot;&quot; if not matrix or not matrix[0]: return False rows = len(matrix) cols = len(matrix[0]) row, col = 0, cols-1 #ä»å³ä¸Šè§’å¼€å§‹ while True: if row &lt; rows and col &gt;= 0: if matrix[row][col] == target: return True elif matrix[row][col] &lt; target: row += 1 else: col -= 1 else: return False 74. æœç´¢äºŒç»´çŸ©é˜µ ç¼–å†™ä¸€ä¸ªé«˜æ•ˆçš„ç®—æ³•æ¥åˆ¤æ–­ m x n çŸ©é˜µä¸­ï¼Œæ˜¯å¦å­˜åœ¨ä¸€ä¸ªç›®æ ‡å€¼ã€‚è¯¥çŸ©é˜µå…·æœ‰å¦‚ä¸‹ç‰¹æ€§ï¼š æ¯è¡Œä¸­çš„æ•´æ•°ä»å·¦åˆ°å³æŒ‰å‡åºæ’åˆ—ã€‚ æ¯è¡Œçš„ç¬¬ä¸€ä¸ªæ•´æ•°å¤§äºå‰ä¸€è¡Œçš„æœ€åä¸€ä¸ªæ•´æ•°ã€‚ ç¤ºä¾‹ 1: 12345678è¾“å…¥:matrix = [ [1, 3, 5, 7], [10, 11, 16, 20], [23, 30, 34, 50]]target = 3è¾“å‡º: true æ–¹æ³•ä¸€ è¿™ä¸ªé¢˜ç›®æ˜¯240é¢˜çš„ä¸€ä¸ªç‰¹ä¾‹ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥ä½¿ç”¨240é¢˜çš„ä»£ç å°±èƒ½é€šè¿‡ã€‚æ–¹æ³•æ˜¯ä»çŸ©é˜µçš„å·¦ä¸‹è§’æˆ–è€…å³ä¸Šè§’å¼€å§‹éå†ã€‚ è¿™ä¸ªé¢˜åœ¨å‰‘æŒ‡offeræœ‰è¯¦ç»†è§£é‡Šã€‚æ–¹æ³•æ˜¯ä»å³ä¸Šè§’å‘å·¦ä¸‹è§’è¿›è¡Œéå†ï¼Œæ ¹æ®æ¯”è¾ƒçš„å¤§å°å†³å®šå‘ä¸‹è¿˜æ˜¯å‘å·¦æŸ¥æ‰¾ã€‚ 1234567891011121314151617class Solution: def searchMatrix(self, matrix: List[List[int]], target: int) -&gt; bool: if not matrix or not matrix[0]: return False rows = len(matrix) cols = len(matrix[0]) row, col = 0, cols-1 #ä»å³ä¸Šè§’å¼€å§‹ while True: if row &lt; rows and col &gt;= 0: if matrix[row][col] == target: return True elif matrix[row][col] &lt; target: row += 1 else: col -= 1 else: return False æ–¹æ³•äºŒï¼šåº“å‡½æ•° ä½¿ç”¨åº“å‡½æ•°ä¹Ÿå¯ä»¥å“¦ï¼Œä¸è¿‡åº“å‡½æ•°éƒ½æ˜¯é’ˆå¯¹ä¸€ç»´æ•°ç»„çš„æŸ¥æ‰¾ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æŠŠç»™å‡ºçš„æ•°ç»„å˜æˆä¸€ç»´çš„ã€‚åœ¨numpyä¸­æœ‰reshapeå‡½æ•°ï¼Œå¹¸è¿çš„æ˜¯ï¼Œleetcodeæ”¯æŒNumpy. 12345import numpy as npclass Solution: def searchMatrix(self, matrix: List[List[int]], target: int) -&gt; bool: matrix = np.reshape(matrix, [1, -1]) return target in matrix 347. å‰ K ä¸ªé«˜é¢‘å…ƒç´  ç»™å®šä¸€ä¸ªéç©ºçš„æ•´æ•°æ•°ç»„ï¼Œè¿”å›å…¶ä¸­å‡ºç°é¢‘ç‡å‰ k é«˜çš„å…ƒç´ ã€‚ ç¤ºä¾‹ 1: 12è¾“å…¥: nums = [1,1,1,2,2,3], k = 2è¾“å‡º: [1,2] ç¤ºä¾‹ 2: 12è¾“å…¥: nums = [1], k = 1è¾“å‡º: [1] è¯´æ˜ï¼š ä½ å¯ä»¥å‡è®¾ç»™å®šçš„ k æ€»æ˜¯åˆç†çš„ï¼Œä¸” 1 â‰¤ k â‰¤ æ•°ç»„ä¸­ä¸ç›¸åŒçš„å…ƒç´ çš„ä¸ªæ•°ã€‚ ä½ çš„ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦å¿…é¡»ä¼˜äº O(n log n) , n æ˜¯æ•°ç»„çš„å¤§å°ã€‚ å­—å…¸ è¿™ä¸ªé¢˜è¦æ±‚æ—¶é—´å¤æ‚åº¦æ˜¯O(nlogn)ï¼Œå°±å¯ä»¥æŒ‰ç…§å‡ºç°çš„æ¬¡æ•°å…ˆæ’ä¸ªåºï¼Œç„¶åæ‰¾åˆ°å‡ºç°æœ€å¤šçš„kä¸ªå°±å¥½ã€‚ Counterç±»æœ‰most_common()å‡½æ•°ï¼Œèƒ½æŒ‰å‡ºç°çš„æ¬¡æ•°è¿›è¡Œæ’åºã€‚è¿”å›çš„æ˜¯ä¸ªåˆ—è¡¨ï¼Œåˆ—è¡¨ä¸­æ¯ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªå…ƒç»„ï¼Œå…ƒç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯æ•°å­—ï¼Œç¬¬äºŒä¸ªæ•°å­—æ˜¯å‡ºç°çš„æ¬¡æ•°ã€‚ 12345from collections import Counterclass Solution: def topKFrequent(self, nums: List[int], k: int) -&gt; List[int]: counter = Counter(nums).most_common() return [counter[i][0] for i in range(k)] 560. å’Œä¸ºKçš„å­æ•°ç»„ ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„å’Œä¸€ä¸ªæ•´æ•° kï¼Œä½ éœ€è¦æ‰¾åˆ°è¯¥æ•°ç»„ä¸­å’Œä¸º k çš„è¿ç»­çš„å­æ•°ç»„çš„ä¸ªæ•°ã€‚ ç¤ºä¾‹ 1 : 12è¾“å…¥:nums = [1,1,1], k = 2è¾“å‡º: 2 , [1,1] ä¸ [1,1] ä¸ºä¸¤ç§ä¸åŒçš„æƒ…å†µã€‚ è¯´æ˜ : æ•°ç»„çš„é•¿åº¦ä¸º [1, 20,000]ã€‚ æ•°ç»„ä¸­å…ƒç´ çš„èŒƒå›´æ˜¯ [-1000, 1000] ï¼Œä¸”æ•´æ•° k çš„èŒƒå›´æ˜¯ [-1e7, 1e7]ã€‚ æ–¹æ³•ï¼šå­—å…¸ ä½¿ç”¨ä¸€ä¸ªå­—å…¸ä¿å­˜æ•°ç»„æŸä¸ªä½ç½®ä¹‹å‰çš„æ•°ç»„å’Œï¼Œç„¶åéå†æ•°ç»„æ±‚å’Œï¼Œè¿™æ ·å½“æˆ‘ä»¬æ±‚åˆ°ä¸€ä¸ªä½ç½®çš„å’Œçš„æ—¶å€™ï¼Œå‘å‰æ‰¾sum-kæ˜¯å¦åœ¨æ•°ç»„ä¸­ï¼Œå¦‚æœåœ¨çš„è¯ï¼Œæ›´æ–°ç»“æœä¸ºä¹‹å‰çš„ç»“æœ+(sum-kå‡ºç°çš„æ¬¡æ•°)ã€‚åŒæ—¶ï¼Œå½“å‰è¿™ä¸ªsumå‡ºç°çš„æ¬¡æ•°å°±å¤šäº†ä¸€æ¬¡ã€‚ è¿™ä¸ªå­—å…¸çš„æ„ä¹‰æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå…¶æ„ä¹‰å°±æ˜¯æˆ‘ä»¬åœ¨åˆ°è¾¾iä½ç½®çš„æ—¶å€™ï¼Œå‰ié¡¹çš„å’Œå‡ºç°çš„æ¬¡æ•°çš„ç»Ÿè®¡ã€‚æˆ‘ä»¬æƒ³æ‰¾çš„æ˜¯åœ¨iä½ç½®å‘å‰çš„è¿ç»­åŒºé—´ä¸­ï¼Œæœ‰å¤šå°‘ä¸ªä½ç½®çš„å’Œæ˜¯kã€‚æœ‰äº†è¿™ä¸ªç»Ÿè®¡ï¼Œæˆ‘ä»¬å°±ä¸ç”¨å‘å‰ä¸€ä¸€éå†æ‰¾sum - kåœ¨å“ªäº›ä½ç½®å‡ºç°äº†ï¼Œè€Œæ˜¯ç›´æ¥å¾—å‡ºäº†å‰é¢æœ‰å¤šå°‘ä¸ªåŒºé—´ã€‚æ‰€ä»¥ï¼Œåœ¨æ¯ä¸ªä½ç½®æˆ‘ä»¬éƒ½å¾—åˆ°äº†ä»¥è¿™ä¸ªä½ç½®ä¸ºç»“å°¾çš„å¹¶ä¸”å’Œç­‰äºkçš„åŒºé—´çš„ä¸ªæ•°ï¼Œæ‰€ä»¥æ€»å’Œå°±æ˜¯ç»“æœã€‚ è¿™ä¸ªé¢˜çš„è§£æ³•ä¸éš¾æƒ³å‡ºæ¥ï¼Œå› ä¸ºå¦‚æœè¦é™ä½æ—¶é—´å¤æ‚åº¦ï¼Œåº”è¯¥èƒ½æƒ³åˆ°å¢åŠ ç©ºé—´å¤æ‚åº¦ï¼Œé‚£ä¹ˆè¦ä¹ˆä½¿ç”¨æ•°ç»„ï¼Œè¦ä¹ˆå°±æ˜¯ç”¨å­—å…¸ä¹‹ç±»çš„ï¼Œä¿ç•™ä¹‹å‰çš„ç»“æœã€‚ æ—¶é—´å¤æ‚åº¦æ˜¯O(N)ï¼Œç©ºé—´å¤æ‚åº¦æ˜¯O(N). 12345678910111213class Solution: def subarraySum(self, nums: List[int], k: int) -&gt; int: n = len(nums) d = collections.defaultdict(int) d[0] = 1 res = 0 sum = 0 for i in range(n): sum += nums[i] if sum-k in d: res += d[sum-k] d[sum] += 1 return res å‚è€ƒ LeetCodeï¼š977. Squares of a Sorted Array - Python leetcode11. Container With Most Water ç››æ°´æœ€å¤šçš„å®¹å™¨]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>LeetCode</tag>
        <tag>æ•°ç»„</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[pythonè§£leetcodeåŠ¨æ€è§„åˆ’(2)]]></title>
    <url>%2F2019%2F08%2F10%2Fpython_leetcode-dynamic-programming(2)%2F</url>
    <content type="text"><![CDATA[åŠ¨æ€è§„åˆ’ä¸»è¦æ–¹æ³•æ˜¯ç”»ç½‘æ ¼â­ã€‚ é€’å½’ + è®°å¿†åŒ– â€”â€”&gt; é€’æ¨ï¼ˆåŠ¨æ€è§„åˆ’ï¼‰ çŠ¶æ€çš„å®šä¹‰ï¼šæ•°ç»„ opt[n], dp[n], fib[n] çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼šopt[n] = best_of(opt[n-1], opt[n-2], â€¦) ä»å‰é¢çš„n-1ä¸ªå€¼å¾—åˆ°æœ€ä¼˜çš„ç¬¬nä¸ªå€¼ æœ€ä¼˜å­ç»“æ„ï¼šé€šè¿‡æ±‚å­é—®é¢˜çš„æœ€ä¼˜è§£ï¼Œå¯ä»¥è·å¾—åŸé—®é¢˜çš„æœ€ä¼˜è§£ã€‚ å­¦ä¹ å†…å®¹ï¼š æœ€å¤§æ­£æ–¹å½¢ ä¸åŒçš„å­åºåˆ— 72. ç¼–è¾‘è·ç¦» è±æ–‡æ–¯å¦æœ€çŸ­ç¼–è¾‘è·ç¦» æ‰¾æœ€é•¿å…¬å…±å­ä¸² 718. æœ€é•¿é‡å¤å­æ•°ç»„ 10. æ­£åˆ™è¡¨è¾¾å¼åŒ¹é… 152. ä¹˜ç§¯æœ€å¤§å­åºåˆ— 300. æœ€é•¿ä¸Šå‡å­åºåˆ— è§£ç æ–¹æ³• â“279. å®Œå…¨å¹³æ–¹æ•° æ•´æ•°æ‹†åˆ† 221. æœ€å¤§æ­£æ–¹å½¢ åœ¨ä¸€ä¸ªç”± 0 å’Œ 1 ç»„æˆçš„äºŒç»´çŸ©é˜µå†…ï¼Œæ‰¾åˆ°åªåŒ…å« 1 çš„æœ€å¤§æ­£æ–¹å½¢ï¼Œå¹¶è¿”å›å…¶é¢ç§¯ã€‚ ç¤ºä¾‹: 12345678è¾“å…¥: 1 0 1 0 01 0 1 1 11 1 1 1 11 0 0 1 0è¾“å‡º: 4 æ–¹æ³• è®¾è¿™ä¸ªDP[i][j]æ•°ç»„ä¸ºä»¥i, jä½ç½®ä¸ºå³ä¸‹è§’é¡¶ç‚¹çš„èƒ½å¤Ÿæˆçš„æœ€å¤§æ­£æ–¹å½¢çš„è¾¹é•¿ã€‚æ•°ç»„å¦‚æœæ˜¯ç¬¬ä¸€è¡Œæˆ–è€…ç¬¬ä¸€åˆ—ï¼Œæ˜¾ç„¶dpå’Œmatrixç›¸ç­‰ã€‚å¦‚æœæ˜¯å…¶ä»–ä½ç½®ï¼Œå½“matrix[i][j] = 1æ—¶ï¼Œèƒ½å¤Ÿæˆçš„æ­£æ–¹å½¢ç­‰äºå·¦è¾¹ã€ä¸Šè¾¹ã€å·¦ä¸Šèƒ½å¤Ÿæˆçš„æ­£æ–¹å½¢è¾¹é•¿çš„æœ€å°å€¼+1.ä¸ºä»€ä¹ˆæ˜¯æœ€å°å€¼ï¼Ÿå› ä¸ºåªè¦å­˜åœ¨ä¸€ä¸ª0ï¼Œé‚£ä¹ˆå°±æ²¡æ³•æ„æˆæ›´å¤§çš„æ­£æ–¹å½¢ï¼Œè¿™ä¸ªæ˜¯å¾ˆä¿å®ˆçš„ç­–ç•¥ã€‚ æ—¶é—´å¤æ‚åº¦æ˜¯O(N2)ï¼Œç©ºé—´å¤æ‚åº¦æ˜¯O(N2)ã€‚ 123456789101112131415class Solution: def maximalSquare(self, matrix: List[List[str]]) -&gt; int: if not matrix:return 0 M = len(matrix) N = len(matrix[0]) dp = [[0]*N for _ in range(M)] for i in range(M): dp[i][0] = int(matrix[i][0]) for j in range(N): dp[0][j] = int(matrix[0][j]) for i in range(1,M): for j in range(1,N): if int(matrix[i][j])==1: dp[i][j] = min(dp[i][j-1], dp[i-1][j], dp[i-1][j-1]) +1 return max(map(max, dp)) **2 115.ä¸åŒçš„å­åºåˆ— ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² S å’Œä¸€ä¸ªå­—ç¬¦ä¸² Tï¼Œè®¡ç®—åœ¨ S çš„å­åºåˆ—ä¸­ T å‡ºç°çš„ä¸ªæ•°ã€‚ ä¸€ä¸ªå­—ç¬¦ä¸²çš„ä¸€ä¸ªå­åºåˆ—æ˜¯æŒ‡ï¼Œé€šè¿‡åˆ é™¤ä¸€äº›ï¼ˆä¹Ÿå¯ä»¥ä¸åˆ é™¤ï¼‰å­—ç¬¦ä¸”ä¸å¹²æ‰°å‰©ä½™å­—ç¬¦ç›¸å¯¹ä½ç½®æ‰€ç»„æˆçš„æ–°å­—ç¬¦ä¸²ã€‚ï¼ˆä¾‹å¦‚ï¼Œâ€œACEâ€ æ˜¯ â€œABCDEâ€ çš„ä¸€ä¸ªå­åºåˆ—ï¼Œè€Œ â€œAECâ€ ä¸æ˜¯ï¼‰ ç¤ºä¾‹ 1: 12345678910111213è¾“å…¥: S = &quot;rabbbit&quot;, T = &quot;rabbit&quot;è¾“å‡º: 3è§£é‡Š:å¦‚ä¸‹å›¾æ‰€ç¤º, æœ‰ 3 ç§å¯ä»¥ä» S ä¸­å¾—åˆ° &quot;rabbit&quot; çš„æ–¹æ¡ˆã€‚(ä¸Šç®­å¤´ç¬¦å· ^ è¡¨ç¤ºé€‰å–çš„å­—æ¯)rabbbit^^^^ ^^rabbbit^^ ^^^^rabbbit^^^ ^^^ æ–¹æ³• ç”»ç½‘æ ¼ï¼Œä¸¤ä¸ªå­—ç¬¦ä¸²åˆ†åˆ«ä¸ºæ¨ªçºµè½´ï¼Œé¢„è®¾ç©ºå­—ç¬¦ä¸²ä¸ºåˆå§‹åŒ–è¾¹ç•Œï¼Œæ¯ä¸€æ ¼è¡¨ç¤ºå½“å‰ä½ç½®ä¸ºæ­¢æ‰€èƒ½åŒ¹é…çš„ä¸ªæ•°ã€‚ 123456789101112131415class Solution: def numDistinct(self, s: str, t: str) -&gt; int: M, N = len(s), len(t) dp = [[0]*(M+1) for _ in range(N+1)] # åŠ ä¸€æ˜¯è€ƒè™‘ç©ºå­—ç¬¦ä¸²ä½œä¸ºè¾¹ç•Œ for j in range(M+1): dp[0][j] = 1 #Tæ˜¯ç©ºå­—ç¬¦ä¸²çš„è¯ï¼Œåœ¨Sä¸­åŒ¹é…ä¸€ä¸ªç©ºå­—ç¬¦ä¸² for i in range(1, N+1): for j in range(1, M+1): # å¯ä»¥æŠŠiå’Œjåˆ†åˆ«ä½äºçºµè½´Tå’Œæ¨ªè½´Sä¸Šã€‚ if t[i-1] == s[j-1]: # å¦‚æœç›¸åŒï¼Œå°±å¯ä»¥è¿ä¸Šå·¦ä¸Šè§’çš„åŒ¹é…ä¸ªæ•°ï¼ŒåŠ ä¸Šå·¦è¾¹å·²æœ‰çš„åŒ¹é…ä¸ªæ•° dp[i][j] = dp[i - 1][j - 1] + dp[i][j - 1] else: # å¦‚æœä¸åŒï¼Œåˆ™ä¿æŒå·¦è¾¹å·²æœ‰çš„åŒ¹é…ä¸ªæ•° dp[i][j] = dp[i][j-1] return dp[-1][-1] #å³ä¸‹è§’ä¸ºæœ€ç»ˆåŒ¹é…ä¸ªæ•° 72. ç¼–è¾‘è·ç¦» ç»™å®šä¸¤ä¸ªå•è¯ word1 å’Œ word2ï¼Œè®¡ç®—å‡ºå°† word1 è½¬æ¢æˆ word2 æ‰€ä½¿ç”¨çš„æœ€å°‘æ“ä½œæ•° ã€‚ ä½ å¯ä»¥å¯¹ä¸€ä¸ªå•è¯è¿›è¡Œå¦‚ä¸‹ä¸‰ç§æ“ä½œï¼š 123æ’å…¥ä¸€ä¸ªå­—ç¬¦åˆ é™¤ä¸€ä¸ªå­—ç¬¦æ›¿æ¢ä¸€ä¸ªå­—ç¬¦ ç¤ºä¾‹ 1: 123456è¾“å…¥: word1 = &quot;horse&quot;, word2 = &quot;ros&quot;è¾“å‡º: 3è§£é‡Š: horse -&gt; rorse (å°† &apos;h&apos; æ›¿æ¢ä¸º &apos;r&apos;)rorse -&gt; rose (åˆ é™¤ &apos;r&apos;)rose -&gt; ros (åˆ é™¤ &apos;e&apos;) ç¤ºä¾‹ 2: 12345678è¾“å…¥: word1 = &quot;intention&quot;, word2 = &quot;execution&quot;è¾“å‡º: 5è§£é‡Š: intention -&gt; inention (åˆ é™¤ &apos;t&apos;)inention -&gt; enention (å°† &apos;i&apos; æ›¿æ¢ä¸º &apos;e&apos;)enention -&gt; exention (å°† &apos;n&apos; æ›¿æ¢ä¸º &apos;x&apos;)exention -&gt; exection (å°† &apos;n&apos; æ›¿æ¢ä¸º &apos;c&apos;)exection -&gt; execution (æ’å…¥ &apos;u&apos;) æ–¹æ³•ï¼šé€’å½’ åˆ¤æ–­æœ€åçš„ä¸€ä¸ªå­—ç¬¦æ˜¯å¦ç›¸ç­‰ã€‚ å¦‚æœç›¸ç­‰ï¼Œé‚£ä¹ˆåªç”¨åˆ¤æ–­å‰é¢çš„å­ä¸²å³å¯ï¼Œ å¦‚æœä¸ç­‰ï¼Œéœ€è¦å‰é¢å­ä¸²å˜æˆç›¸ç­‰ä¹‹å+1(åˆ ã€å¢ã€æ¢) æŠŠword1å˜æˆword2ã€‚ 12345678910111213141516171819class Solution: def minDistance(self, word1: str, word2: str) -&gt; int: L1, L2 = len(word1), len(word2) dp = [[-1]*(L2+1) for _ in range(L1+1)] # åˆå§‹åŒ–å…¨éƒ¨å°äº0 return self.getDistance(word1, word2, dp, L1, L2) def getDistance(self, word1, word2, dp, pos1, pos2): if pos1 == 0: return pos2 # posè¡¨ç¤ºå½“å‰ä½ç½®ï¼Œä¹Ÿè¡¨ç¤ºå‰é¢å­ä¸²çš„é•¿åº¦ if pos2 == 0: return pos1 if dp[pos1][pos2] &gt;= 0: return dp[pos1][pos2] # å½“å‰ä½ç½®çš„æ“ä½œæ•° res = 0 if word1[pos1-1] == word2[pos2-1]: res = self.getDistance(word1, word2, dp, pos1-1, pos2-1) else: res = 1 + min(self.getDistance(word1, word2, dp, pos1-1, pos2),#å¦‚æœåˆ é™¤åï¼Œå‰©ä¸‹çš„å‰é¢å­ä¸²çš„æ“ä½œæ•° self.getDistance(word1, word2, dp, pos1, pos2-1),#å¦‚æœæ’å…¥åï¼Œå‰©ä¸‹çš„å‰é¢å­ä¸²çš„æ“ä½œæ•° self.getDistance(word1, word2, dp, pos1-1, pos2-1))#å¦‚æœæ›¿æ¢åï¼Œå‰©ä¸‹çš„å‰é¢å­ä¸²çš„æ“ä½œæ•° dp[pos1][pos2] = res return res æ–¹æ³•ï¼šåŠ¨æ€è§„åˆ’ ä¸Šä¸€ä¸ªæ–¹æ³•å¾ˆå®¹æ˜“æ”¹æˆåŠ¨æ€è§„åˆ’ã€‚äº‹å®ä¸Šï¼Œè¿™ä¸ªé¢˜çš„åŠ¨æ€è§„åˆ’æ¯”è®°å¿†åŒ–æœç´¢è¿˜è¦æ…¢ã€‚ 1234567891011121314151617class Solution: def minDistance(self, word1: str, word2: str) -&gt; int: L1, L2 = len(word1), len(word2) dp = [[0] * (L2 + 1) for _ in range(L1 + 1)] for i in range(L1 + 1): dp[i][0] = i for j in range(L2 + 1): dp[0][j] = j for i in range(1, L1 + 1): for j in range(1, L2 + 1): if word1[i - 1] == word2[j - 1]: dp[i][j] = dp[i - 1][j - 1] else: dp[i][j] = 1 + min(dp[i - 1][j], dp[i][j - 1], dp[i - 1][j - 1]) return dp[L1][L2] 718. æœ€é•¿é‡å¤å­æ•°ç»„ ç»™ä¸¤ä¸ªæ•´æ•°æ•°ç»„ A å’Œ B ï¼Œè¿”å›ä¸¤ä¸ªæ•°ç»„ä¸­å…¬å…±çš„ã€é•¿åº¦æœ€é•¿çš„å­æ•°ç»„çš„é•¿åº¦ã€‚ ç¤ºä¾‹ 1: 12345è¾“å…¥:A: [1,2,3,2,1]B: [3,2,1,4,7]è¾“å‡º: 3è§£é‡Š: é•¿åº¦æœ€é•¿çš„å…¬å…±å­æ•°ç»„æ˜¯ [3, 2, 1]ã€‚ è¯´æ˜: 1 &lt;= len(A), len(B) &lt;= 1000 0 &lt;= A[i], B[i] &lt; 100 æ–¹æ³•:åŠ¨æ€è§„åˆ’ æ˜¯æ‰¾åˆ°å½“å‰èŠ‚ç‚¹ä¹‹å‰è¿ç»­çš„å…¬å…±å­ä¸²é•¿åº¦é—®é¢˜ã€‚ ç”»æ ¼å­ï¼šæ¨ªçºµåæ ‡åˆ†åˆ«æ˜¯Aå’ŒBï¼Œå¯¹åº”æ¯”è¾ƒï¼Œç›¸ç­‰æ—¶ï¼Œæ ¼å­ä¸º1ï¼Œæˆ–è€…å·¦ä¸Šè§’çš„æ•°+1ã€‚ çŠ¶æ€è½¬ç§»å°±2ç§ï¼Œè¦ä¹ˆä¸Šä¸€ä¸ªåŒ¹é…æˆåŠŸï¼Œè¦ä¹ˆè¿™ä¸€ä¸ªåŒ¹é…æˆåŠŸï¼Œå…¶ä»–æƒ…å†µéƒ½ä¸º0ã€‚ æˆ‘ä»¬å¯ä»¥ç”¨åŒ¹é…çŸ©é˜µæ¥åšï¼Œè®©è¡Œä½œä¸ºç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œåˆ—ä¸ºç¬¬äºŒä¸ªå­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆ dp[row][col] åˆ™æ˜¯ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²ç¬¬ row ä½ç½®å’Œç¬¬äºŒä¸ªå­—ç¬¦ä¸²ç¬¬ col ä½ç½®æœ€å¤§çš„åŒ¹é…é•¿åº¦ã€‚ é€’æ¨å…³ç³»ä¸ºï¼Œdp[i][j] = dp[i-1][j-1]+1ï¼Œå½“A[i]== B[j]ã€‚å¦‚æœä¸ç­‰çš„è¯ï¼Œdp[i][j]ä¸º0. 123456789101112class Solution: def findLength(self, A: List[int], B: List[int]) -&gt; int: m, n = len(A), len(B) dp = [[0 for j in range(n)] for i in range(m)] for i in range(m): for j in range(n): if A[i] == B[j]: if i==0 or j==0: dp[i][j]=1 else: dp[i][j] = dp[i-1][j-1] + 1 return max(map(max,dp)) 10. æ­£åˆ™è¡¨è¾¾å¼åŒ¹é… ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² (s) å’Œä¸€ä¸ªå­—ç¬¦æ¨¡å¼ (p)ã€‚å®ç°æ”¯æŒ â€˜.â€™ å’Œ â€™*â€™ çš„æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ã€‚ 12&apos;.&apos; åŒ¹é…ä»»æ„å•ä¸ªå­—ç¬¦ã€‚&apos;*&apos; åŒ¹é…é›¶ä¸ªæˆ–å¤šä¸ªå‰é¢çš„å…ƒç´ ã€‚ åŒ¹é…åº”è¯¥è¦†ç›–æ•´ä¸ªå­—ç¬¦ä¸² (s) ï¼Œè€Œä¸æ˜¯éƒ¨åˆ†å­—ç¬¦ä¸²ã€‚ è¯´æ˜: s å¯èƒ½ä¸ºç©ºï¼Œä¸”åªåŒ…å«ä» a-z çš„å°å†™å­—æ¯ã€‚ p å¯èƒ½ä¸ºç©ºï¼Œä¸”åªåŒ…å«ä» a-z çš„å°å†™å­—æ¯ï¼Œä»¥åŠå­—ç¬¦ . å’Œ *ã€‚ ç¤ºä¾‹ 1: 12345è¾“å…¥:s = &quot;aa&quot;p = &quot;a&quot;è¾“å‡º: falseè§£é‡Š: &quot;a&quot; æ— æ³•åŒ¹é… &quot;aa&quot; æ•´ä¸ªå­—ç¬¦ä¸²ã€‚ ç¤ºä¾‹ 2: 12345è¾“å…¥:s = &quot;aa&quot;p = &quot;a*&quot;è¾“å‡º: trueè§£é‡Š: &apos;*&apos; ä»£è¡¨å¯åŒ¹é…é›¶ä¸ªæˆ–å¤šä¸ªå‰é¢çš„å…ƒç´ , å³å¯ä»¥åŒ¹é… &apos;a&apos; ã€‚å› æ­¤, é‡å¤ &apos;a&apos; ä¸€æ¬¡, å­—ç¬¦ä¸²å¯å˜ä¸º &quot;aa&quot;ã€‚ ç¤ºä¾‹ 3: 12345è¾“å…¥:s = &quot;ab&quot;p = &quot;.*&quot;è¾“å‡º: trueè§£é‡Š: &quot;.*&quot; è¡¨ç¤ºå¯åŒ¹é…é›¶ä¸ªæˆ–å¤šä¸ª(&apos;*&apos;)ä»»æ„å­—ç¬¦(&apos;.&apos;)ã€‚ ç¤ºä¾‹ 4: 12345è¾“å…¥:s = &quot;aab&quot;p = &quot;c*a*b&quot;è¾“å‡º: trueè§£é‡Š: &apos;c&apos; å¯ä»¥ä¸è¢«é‡å¤, &apos;a&apos; å¯ä»¥è¢«é‡å¤ä¸€æ¬¡ã€‚å› æ­¤å¯ä»¥åŒ¹é…å­—ç¬¦ä¸² &quot;aab&quot;ã€‚ ç¤ºä¾‹ 5: 1234è¾“å…¥:s = &quot;mississippi&quot;p = &quot;mis*is*p*.&quot;è¾“å‡º: false æ–¹æ³•ï¼šåŠ¨æ€è§„åˆ’ åŠ¨æ€æ–¹ç¨‹ dp[i][j] è¡¨ç¤º \(s\) ä¸­ [0, i-1] è¿™å‰ \(i\) ä¸ªå­—ç¬¦ä¸ \(p\) çš„ [0, j-1] è¿™å‰ \(j\) ä¸ªå­—ç¬¦ç»„æˆçš„è¡¨ç¤ºå¼æ˜¯å¦åŒ¹é…ã€‚ \[ dp[i+1][j+1] = \begin{cases} dp[i][j], &amp; \text{p[j] == &#39;.&#39; or (s[i] == p[j ])} \\[2ex] dp[i+1][j-1] , &amp; \text{p[j] == &#39;*&#39; and p[j-1] åŒ¹é…0æ¬¡} \\[2ex] dp[i+1][j], &amp;\text{p[j] == &#39;*&#39; and p[j -1] åŒ¹é…1æ¬¡} \\[2ex] dp[i][j+1],&amp;\text{p[j] == &#39;*&#39; and p[j-1] åŒ¹é…è¶…è¿‡1æ¬¡} \end{cases} \] 123456789101112131415161718class Solution: def isMatch(self, s: str, p: str) -&gt; bool: dp = [[False for _ in range(len(p)+1)] for _ in range(len(s)+1)] dp[0][0] = True for j in range(len(p)): if p[j]=='*': # æ˜Ÿå·åŒ¹é…ç©º dp[0][j+1] = dp[0][j-1] for i in range(len(s)): for j in range(len(p)): if p[j] == s[i] or p[j]=='.':# æŒ‰ä½æ¯”è¾ƒï¼Œç›¸ç­‰ dp[i+1][j+1] = dp[i][j] if p[j] =='*':# æ˜Ÿå·åˆ†ä¸¤ç§æƒ…å†µ if p[j-1] != s[i] and p[j-1]!='.': #åŒ¹é…0æ¬¡ dp[i+1][j+1] = dp[i+1][j-1] else: # åŒ¹é…å¤šæ¬¡ã€1æ¬¡ã€0æ¬¡ dp[i+1][j+1] = (dp[i][j+1] or dp[i+1][j] or dp[i+1][j-1]) return dp[len(s)][len(p)] 152. ä¹˜ç§¯æœ€å¤§å­åºåˆ— ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ nums ï¼Œæ‰¾å‡ºä¸€ä¸ªåºåˆ—ä¸­ä¹˜ç§¯æœ€å¤§çš„è¿ç»­å­åºåˆ—ï¼ˆè¯¥åºåˆ—è‡³å°‘åŒ…å«ä¸€ä¸ªæ•°ï¼‰ã€‚ ç¤ºä¾‹ 1: 123è¾“å…¥: [2,3,-2,4]è¾“å‡º: 6è§£é‡Š: å­æ•°ç»„ [2,3] æœ‰æœ€å¤§ä¹˜ç§¯ 6ã€‚ ç¤ºä¾‹ 2: 123è¾“å…¥: [-2,0,-1]è¾“å‡º: 0è§£é‡Š: ç»“æœä¸èƒ½ä¸º 2, å› ä¸º [-2,-1] ä¸æ˜¯å­æ•°ç»„ã€‚ æ–¹æ³•ï¼šåŠ¨æ€è§„åˆ’ æ€è·¯ä¸ 53. æ±‚è¿ç»­å­æ•°ç»„çš„æœ€å¤§å’Œ ç›¸ä¼¼ï¼Œéƒ½æ˜¯é‡‡ç”¨åŠ¨æ€è§„åˆ’ï¼Œmaxvalue[i]è¡¨ç¤ºä»¥a[i]ä¸ºç»“å°¾çš„å­æ•°ç»„ä¸­æœ€å¤§ä¹˜ç§¯ï¼ŒåŒæ—¶ç»´æŠ¤ä¸€ä¸ªå…¨å±€æœ€å¤§å€¼globalmaxã€‚ä¸æ±‚å­æ•°ç»„çš„æœ€å¤§å’Œä¸åŒçš„æ˜¯ï¼Œè¿˜éœ€è¦ç»´è®°å½•å­æ•°ç»„æœ€å°ä¹˜ç§¯minvalue[i]ï¼Œå› ä¸ºå¯èƒ½ä¼šå‡ºç° è´Ÿ Ã— è´Ÿ = æ­£çš„æƒ…å†µã€‚å¹¶ä¸”æœ€å¤§æœ€å°ä¹˜ç§¯åªå¯èƒ½å‡ºç°åœ¨ maxvalue[iâˆ’1]Ã—a[i], minvalue[iâˆ’1]Ã—a[i], a[i]ä¸‰è€…ä¹‹é—´ã€‚ 12345678910class Solution: def maxProduct(self, nums: List[int]) -&gt; int: maxvalue = minvalue = nums[0] globalmax = nums[0] for i in range(1, len(nums)): lastmax = maxvalue maxvalue = max(minvalue * nums[i], lastmax * nums[i], nums[i])#å½“å‰æœ€å¤§ minvalue = min(minvalue * nums[i], lastmax * nums[i], nums[i])#å½“å‰æœ€å° globalmax = max(globalmax, maxvalue) # å…¨å±€æœ€å¤§ return globalmax 300. æœ€é•¿ä¸Šå‡å­åºåˆ— ç»™å®šä¸€ä¸ªæ— åºçš„æ•´æ•°æ•°ç»„ï¼Œæ‰¾åˆ°å…¶ä¸­æœ€é•¿ä¸Šå‡å­åºåˆ—çš„é•¿åº¦ã€‚ ç¤ºä¾‹: 123è¾“å…¥: [10,9,2,5,3,7,101,18]è¾“å‡º: 4 è§£é‡Š: æœ€é•¿çš„ä¸Šå‡å­åºåˆ—æ˜¯ [2,3,7,101]ï¼Œå®ƒçš„é•¿åº¦æ˜¯ 4ã€‚ è¯´æ˜: å¯èƒ½ä¼šæœ‰å¤šç§æœ€é•¿ä¸Šå‡å­åºåˆ—çš„ç»„åˆï¼Œä½ åªéœ€è¦è¾“å‡ºå¯¹åº”çš„é•¿åº¦å³å¯ã€‚ ä½ ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦åº”è¯¥ä¸º O(n2) ã€‚ è¿›é˜¶: ä½ èƒ½å°†ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦é™ä½åˆ° O(n log n) å—? æ–¹æ³•ï¼šåŠ¨æ€è§„åˆ’ æ•°ç»„ dp çš„ dp[i] æ˜¯ä¿å­˜åˆ°ç¬¬ i ä½ç½®ä¸ºæ­¢çš„æœ€é•¿é€’å¢å­åºåˆ—çš„é•¿åº¦ã€‚ æœ€åæ±‚æ‰€æœ‰ä½ç½®çš„æœ€å¤§å€¼ï¼Œè€Œä¸æ˜¯ dp çš„æœ€åå…ƒç´ ã€‚ é€’æ¨å¼ï¼š 123å¾ªç¯ä½ç½®iä¹‹å‰çš„æ‰€æœ‰å…ƒç´  j ï¼š å¦‚æœ num[j] &lt; nums[i]: å½“å‰æœ€å¤§dp[i] = max&#123;dp[i], dp[j]+1&#125;,æ­¤æ—¶dp[j]å·²ç»æ˜¯jä½ç½®ä¸ºæ­¢çš„æœ€å¤§é•¿åº¦ 12345678910class Solution: def lengthOfLIS(self, nums: List[int]) -&gt; int: if not nums: return 0 dp = [1]*len(nums) for i in range(1, len(nums)): for j in range(0,i): if nums[j] &lt; nums[i]: dp[i] = max(dp[i], dp[j]+1) return max(dp) 91. è§£ç æ–¹æ³• ä¸€æ¡åŒ…å«å­—æ¯ A-Z çš„æ¶ˆæ¯é€šè¿‡ä»¥ä¸‹æ–¹å¼è¿›è¡Œäº†ç¼–ç ï¼š 1234&apos;A&apos; -&gt; 1&apos;B&apos; -&gt; 2...&apos;Z&apos; -&gt; 26 ç»™å®šä¸€ä¸ªåªåŒ…å«æ•°å­—çš„éç©ºå­—ç¬¦ä¸²ï¼Œè¯·è®¡ç®—è§£ç æ–¹æ³•çš„æ€»æ•°ã€‚ ç¤ºä¾‹ 1: 123è¾“å…¥: &quot;12&quot;è¾“å‡º: 2è§£é‡Š: å®ƒå¯ä»¥è§£ç ä¸º &quot;AB&quot;ï¼ˆ1 2ï¼‰æˆ–è€… &quot;L&quot;ï¼ˆ12ï¼‰ã€‚ ç¤ºä¾‹ 2: 123è¾“å…¥: &quot;226&quot;è¾“å‡º: 3è§£é‡Š: å®ƒå¯ä»¥è§£ç ä¸º &quot;BZ&quot; (2 26), &quot;VF&quot; (22 6), æˆ–è€… &quot;BBF&quot; (2 2 6) ã€‚ æ–¹æ³• å’Œçˆ¬æ¥¼æ¢¯çš„é¢˜ç›®éå¸¸åƒï¼Œç›´æ¥ä½¿ç”¨dpã€‚ dp[i]ä»£è¡¨è§£æs[:i]å­—ç¬¦ä¸²æ‰€æœ‰å¯èƒ½çš„æ–¹å¼æ•°ç›® 12345678910class Solution: def numDecodings(self, s: str) -&gt; int: dp = [0]*(len(s)+1) dp[0] = 1 for i in range(1, len(dp)): if s[i-1] != '0': dp[i] = dp[i-1] if i!=1 and '09'&lt;s[i-2:i]&lt;'27': dp[i] += dp[i-2] return dp[-1] 279. å®Œå…¨å¹³æ–¹æ•° ç»™å®šæ­£æ•´æ•° nï¼Œæ‰¾åˆ°è‹¥å¹²ä¸ªå®Œå…¨å¹³æ–¹æ•°ï¼ˆæ¯”å¦‚ 1, 4, 9, 16, â€¦ï¼‰ä½¿å¾—å®ƒä»¬çš„å’Œç­‰äº nã€‚ä½ éœ€è¦è®©ç»„æˆå’Œçš„å®Œå…¨å¹³æ–¹æ•°çš„ä¸ªæ•°æœ€å°‘ã€‚ ç¤ºä¾‹ 1: è¾“å…¥: n = 12 è¾“å‡º: 3 è§£é‡Š: 12 = 4 + 4 + 4. ç¤ºä¾‹ 2: è¾“å…¥: n = 13 è¾“å‡º: 2 è§£é‡Š: 13 = 4 + 9. æ–¹æ³• 343. æ•´æ•°æ‹†åˆ† ç»™å®šä¸€ä¸ªæ­£æ•´æ•° nï¼Œå°†å…¶æ‹†åˆ†ä¸ºè‡³å°‘ä¸¤ä¸ªæ­£æ•´æ•°çš„å’Œï¼Œå¹¶ä½¿è¿™äº›æ•´æ•°çš„ä¹˜ç§¯æœ€å¤§åŒ–ã€‚ è¿”å›ä½ å¯ä»¥è·å¾—çš„æœ€å¤§ä¹˜ç§¯ã€‚ ç¤ºä¾‹ 1: 123è¾“å…¥: 2è¾“å‡º: 1è§£é‡Š: 2 = 1 + 1, 1 Ã— 1 = 1ã€‚ ç¤ºä¾‹ 2: 1234è¾“å…¥: 10è¾“å‡º: 36è§£é‡Š: 10 = 3 + 3 + 4, 3 Ã— 3 Ã— 4 = 36ã€‚è¯´æ˜: ä½ å¯ä»¥å‡è®¾ n ä¸å°äº 2 ä¸”ä¸å¤§äº 58ã€‚ åˆ†æ æš´åŠ›è§£æ³•ï¼šå›æº¯éå†å°†ä¸€ä¸ªæ•°åšåˆ†å‰²çš„æ‰€æœ‰å¯èƒ½æ€§ã€‚O(2^n) æ–¹æ³•ä¸€ è§‚å¯Ÿnä»2åˆ°13æ—¶çš„æƒ…å½¢ï¼š 1234567891011122 -&gt; 1 * 13 -&gt; 2 * 14 -&gt; 2 * 25 -&gt; 3 * 26 -&gt; 3 * 37 -&gt; 3 * 2 * 28 -&gt; 3 * 3 * 29 -&gt; 3 * 3 * 310 -&gt; 3 * 3 * 2 * 211 -&gt; 3 * 3 * 3 * 212 -&gt; 3 * 3 * 3 * 313 -&gt; 3 * 3 * 3 * 2 * 2 ä»ä¸Šé¢å¯ä»¥æ‰¾åˆ°å¦‚ä¸‹è§„å¾‹ï¼š 12345n / 3 &lt;= 1 æ—¶ï¼Œåˆ†ä¸ºä¸¤ä¸ªæ•°çš„ä¹˜ç§¯ï¼Œå°½é‡å‡æ‘Šn / 3 &gt; 1 æ—¶ï¼Œåˆ†ä¸ºè‹¥å¹²ä¸ª3å’Œ2çš„ä¹˜ç§¯n % 3 == 0 æ—¶ï¼Œåˆ†ä¸ºnä¸ª3çš„ä¹˜ç§¯n % 3 == 1 æ—¶ï¼Œåˆ†ä¸ºn-1ä¸ª3å’Œä¸¤ä¸ª2çš„ä¹˜ç§¯n % 3 == 2 æ—¶ï¼Œåˆ†ä¸ºnä¸ª3å’Œä¸€ä¸ª2çš„ä¹˜ç§¯ æ•°å­¦è¯æ˜å¯ä»¥å‚è€ƒLeetCode Discussï¼šhttps://leetcode.com/discuss/98276/why-factor-2-or-3-the-math-behind-this-problem 123456789101112class Solution: def integerBreak(self, n: int) -&gt; int: div = n // 3 if div &lt;= 1: return (n // 2) * (n // 2 + n % 2) mod = n % 3 if mod == 0: return 3 ** div elif mod == 1: return 3 ** (div - 1) * 4 elif mod == 2: return 3 ** div * 2 æ–¹æ³•äºŒï¼šåŠ¨æ€è§„åˆ’ dp[i]è¡¨ç¤ºæ•´æ•°iæ‹†åˆ†å¯ä»¥å¾—åˆ°çš„æœ€å¤§ä¹˜ç§¯ï¼Œåˆ™dp[i]åªä¸dp[i - 2], dp[i - 3]ä¸¤ä¸ªçŠ¶æ€æœ‰å…³å¾—åˆ°çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š dp[x] = max(3 * dp[x - 3], 2 * dp[x - 2]) å½“x &lt;= 3æ—¶ï¼Œéœ€è¦å¯¹ç»“æœè¿›è¡Œç‰¹åˆ¤ã€‚ 12345678class Solution: def integerBreak(self, n: int) -&gt; int: if n &lt;= 3: return n - 1 dp = [0] * (n + 1) dp[2], dp[3] = 2, 3 for x in range(4, n + 1): dp[x] = max(3 * dp[x - 3], 2 * dp[x - 2]) return dp[n]]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>LeetCode</tag>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>åŠ¨æ€è§„åˆ’</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[pythonè§£leetcodeå›¾çš„æœ€çŸ­è·¯å¾„é—®é¢˜]]></title>
    <url>%2F2019%2F08%2F07%2Fpython_leetcode%E5%9B%BE%E7%9A%84%E6%9C%80%E7%9F%AD%E8%B7%AF%E5%BE%84%E9%97%AE%E9%A2%98%2F</url>
    <content type="text"><![CDATA[å­¦ä¹ ç›®æ ‡ï¼š Dijkstraç®—æ³• Floyd-Warshallç®—æ³• Bellman-Fordç®—æ³• spfaç®—æ³• leetcode743. ç½‘ç»œå»¶è¿Ÿæ—¶é—´ leetcode787. K ç«™ä¸­è½¬å†…æœ€ä¾¿å®œçš„èˆªç­ Dijkstra(è¿ªæ°æ–¯ç‰¹æ‹‰)ç®—æ³• å…¸å‹çš„å•æºæœ€çŸ­è·¯å¾„ç®—æ³•ï¼Œç”¨äºè®¡ç®—ä¸€ä¸ªèŠ‚ç‚¹åˆ°å…¶ä»–æ‰€æœ‰èŠ‚ç‚¹çš„æœ€çŸ­è·¯å¾„ã€‚ä¸»è¦ç‰¹ç‚¹æ˜¯ä»¥èµ·å§‹ç‚¹ä¸ºä¸­å¿ƒå‘å¤–å±‚å±‚æ‰©å±•ï¼Œç›´åˆ°æ‰©å±•åˆ°ç»ˆç‚¹ä¸ºæ­¢ã€‚æ³¨æ„è¯¥ç®—æ³•è¦æ±‚å›¾ä¸­ä¸å­˜åœ¨è´Ÿæƒè¾¹ã€‚æ—¶é—´å¤æ‚åº¦O(n^2) å…·ä½“æ­¥éª¤ï¼š æ‰¾å‡ºè·¯å¾„æœ€è¿‘çš„èŠ‚ç‚¹Sï¼Œå³å¯åœ¨æœ€çŸ­æ—¶é—´å†…å‰å¾€çš„èŠ‚ç‚¹ å¯¹äºè¯¥èŠ‚ç‚¹çš„æ‰€æœ‰é‚»å±…ï¼Œæ£€æŸ¥æ˜¯å¦æœ‰ç»è¿‡Så‰å¾€å®ƒä»¬çš„æ›´çŸ­è·¯å¾„ï¼Œè‹¥æœ‰ï¼Œå°±æ›´æ–°å…¶è·¯å¾„è·ç¦»ã€‚ é‡å¤å‰ä¸¤æ­¥ï¼Œç›´åˆ°å¯¹æ¯ä¸ªèŠ‚ç‚¹éƒ½è¿™æ ·åšäº†ã€‚ è®¡ç®—æœ€ç»ˆè·ç¦»ã€‚ Floyd-Warshallï¼ˆå¼—æ´›ä¼Šå¾·ç®—æ³•ï¼‰ åˆç§°ä¸ºæ’ç‚¹æ³•ï¼Œæ˜¯ä¸€ç§åˆ©ç”¨åŠ¨æ€è§„åˆ’çš„æ€æƒ³å¯»æ‰¾ç»™å®šçš„åŠ æƒå›¾ä¸­å¤šæºç‚¹ä¹‹é—´æœ€çŸ­è·¯å¾„çš„ç®—æ³•ï¼Œä¸Dijkstraç®—æ³•ç±»ä¼¼ã€‚ æ—¶é—´å¤æ‚åº¦O(n^3) Bellman-Fordç®—æ³• æ˜¯æ±‚å«è´Ÿæƒå›¾çš„å•æºæœ€çŸ­è·¯å¾„çš„ä¸€ç§ç®—æ³•ï¼Œæ•ˆç‡è¾ƒä½ï¼Œä»£ç éš¾åº¦è¾ƒå°ã€‚å…¶åŸç†ä¸ºè¿ç»­è¿›è¡Œæ¾å¼›ï¼Œåœ¨æ¯æ¬¡æ¾å¼›æ—¶æŠŠæ¯æ¡è¾¹éƒ½æ›´æ–°ä¸€ä¸‹ï¼Œè‹¥åœ¨n-1æ¬¡æ¾å¼›åè¿˜èƒ½æ›´æ–°ï¼Œåˆ™è¯´æ˜å›¾ä¸­æœ‰è´Ÿç¯ï¼Œå› æ­¤æ— æ³•å¾—å‡ºç»“æœï¼Œå¦åˆ™å°±å®Œæˆã€‚ åˆå§‹åŒ–ï¼šå°†é™¤æºç‚¹å¤–çš„æ‰€æœ‰é¡¶ç‚¹çš„æœ€çŸ­è·ç¦»ä¼°è®¡å€¼ d[v] â€”â€”&gt;+âˆ, d[s]â€”â€”&gt;0; è¿­ä»£æ±‚è§£ï¼šåå¤å¯¹è¾¹é›†Eä¸­çš„æ¯æ¡è¾¹è¿›è¡Œæ¾å¼›æ“ä½œï¼Œä½¿å¾—é¡¶ç‚¹é›†Vä¸­çš„æ¯ä¸ªé¡¶ç‚¹vçš„æœ€çŸ­è·ç¦»ä¼°è®¡å€¼é€æ­¥é€¼è¿‘å…¶æœ€çŸ­è·ç¦»ï¼›ï¼ˆè¿è¡Œ|v|-1æ¬¡ï¼‰ æ£€éªŒè´Ÿæƒå›è·¯ï¼šåˆ¤æ–­è¾¹é›†Eä¸­çš„æ¯ä¸€æ¡è¾¹çš„ä¸¤ä¸ªç«¯ç‚¹æ˜¯å¦æ”¶æ•›ã€‚å¦‚æœå­˜åœ¨æœªæ”¶æ•›çš„é¡¶ç‚¹ï¼Œåˆ™ç®—æ³•è¿”å›falseï¼Œè¡¨æ˜é—®é¢˜æ— è§£ï¼›å¦åˆ™ç®—æ³•è¿”å›trueï¼Œå¹¶ä¸”ä»æºç‚¹å¯è¾¾çš„é¡¶ç‚¹vçš„æœ€çŸ­è·ç¦»ä¿å­˜åœ¨ d[v]ä¸­ã€‚ 743. ç½‘ç»œå»¶è¿Ÿæ—¶é—´ æœ‰ N ä¸ªç½‘ç»œèŠ‚ç‚¹ï¼Œæ ‡è®°ä¸º 1 åˆ° Nã€‚ ç»™å®šä¸€ä¸ªåˆ—è¡¨ timesï¼Œè¡¨ç¤ºä¿¡å·ç»è¿‡æœ‰å‘è¾¹çš„ä¼ é€’æ—¶é—´ã€‚ times[i] = (u, v, w)ï¼Œå…¶ä¸­ u æ˜¯æºèŠ‚ç‚¹ï¼Œv æ˜¯ç›®æ ‡èŠ‚ç‚¹ï¼Œ w æ˜¯ä¸€ä¸ªä¿¡å·ä»æºèŠ‚ç‚¹ä¼ é€’åˆ°ç›®æ ‡èŠ‚ç‚¹çš„æ—¶é—´ã€‚ ç°åœ¨ï¼Œæˆ‘ä»¬å‘å½“å‰çš„èŠ‚ç‚¹ K å‘é€äº†ä¸€ä¸ªä¿¡å·ã€‚éœ€è¦å¤šä¹…æ‰èƒ½ä½¿æ‰€æœ‰èŠ‚ç‚¹éƒ½æ”¶åˆ°ä¿¡å·ï¼Ÿå¦‚æœä¸èƒ½ä½¿æ‰€æœ‰èŠ‚ç‚¹æ”¶åˆ°ä¿¡å·ï¼Œè¿”å› -1ã€‚ æ³¨æ„: N çš„èŒƒå›´åœ¨ [1, 100] ä¹‹é—´ã€‚ K çš„èŒƒå›´åœ¨ [1, N] ä¹‹é—´ã€‚ times çš„é•¿åº¦åœ¨ [1, 6000] ä¹‹é—´ã€‚ æ‰€æœ‰çš„è¾¹ times[i] = (u, v, w) éƒ½æœ‰ 1 &lt;= u, v &lt;= N ä¸” 0 &lt;= w &lt;= 100ã€‚ é¢˜ç›®å¤§æ„ å•æºæœ‰å‘åŠ æƒå›¾ä¸­ï¼Œæ±‚æºèŠ‚ç‚¹Kåˆ°æ‰€æœ‰å…¶å®ƒç›®æ ‡èŠ‚ç‚¹çš„æœ€çŸ­è·¯å¾„ï¼Œå–æœ€å¤§å€¼ã€‚å¦‚æœæœ‰èŠ‚ç‚¹ä¸å¯æŠµè¾¾ï¼Œè¿”å›-1. æ–¹æ³•1ï¼šDijkstraç®—æ³• æ—¶é—´å¤æ‚åº¦æ˜¯ O(N ^ 2 + E)ï¼Œç©ºé—´å¤æ‚åº¦æ˜¯O(N+E). 12345678910111213141516171819class Solution: def networkDelayTime(self, times: List[List[int]], N: int, K: int) -&gt; int: K -= 1 # èµ·ç‚¹ nodes = collections.defaultdict(list) # å­˜å‚¨èŠ‚ç‚¹çš„é‚»æ¥ç‚¹å’Œç›¸è¿è¾¹çš„æƒé‡ã€‚ for u,v,w in times: nodes[u-1].append((v-1, w)) dist = [float('inf')] * N # èµ·ç‚¹åˆ°æ‰€æœ‰èŠ‚ç‚¹è·ç¦»ã€‚ dist[K] = 0 done = set() # è®°å½•å¤„ç†è¿‡çš„èŠ‚ç‚¹ for _ in range(N): # è·å–ç¦»èµ·ç‚¹æœ€è¿‘çš„èŠ‚ç‚¹ smallest = min((d,i) for (i,d) in enumerate(dist) if i not in done)[1] for v,w in nodes[smallest]:#æ‰¾æœ€è¿‘ç‚¹çš„æ‰€æœ‰é‚»æ¥ç‚¹ã€‚ if v not in done and dist[smallest]+w &lt; dist[v]: # æ›´æ–°é‚»æ¥ç‚¹çš„è·ç¦» dist[v] = dist[smallest]+w done.add(smallest) # è¯¥èŠ‚ç‚¹æ ‡è®°ä¸ºå¤„ç†è¿‡ return -1 if float('inf') in dist else max(dist) æ–¹æ³•2:Floyd-Warshallç®—æ³•ã€‚ è¿™ä¸ªç®—æ³•è¶…æ—¶ Time Limit Exceed(TLE). æ—¶é—´å¤æ‚åº¦O(n^3)ï¼Œ ç©ºé—´å¤æ‚åº¦O(n^2)ã€‚ 12345678910111213class Solution: def networkDelayTime(self, times: List[List[int]], N: int, K: int) -&gt; int: d = [[float('inf')] * N for _ in range(N)] # äºŒç»´çŸ©é˜µ for time in times: u, v, w = time[0] - 1, time[1] - 1, time[2] d[u][v] = w for i in range(N): d[i][i] = 0 for k in range(N): # éå†æ›´æ–°è·ç¦» for i in range(N): for j in range(N): d[i][j] = min(d[i][j], d[i][k] + d[k][j]) return -1 if float('inf') in d[K - 1] else max(d[K - 1]) æ–¹æ³•3ï¼šBellman-Fordç®—æ³• è¿™ä¸ªç®—æ³•è¶…æ—¶TLEã€‚ æ—¶é—´å¤æ‚åº¦O(ne)ï¼Œ ç©ºé—´å¤æ‚åº¦O(n)ã€‚ 1234567891011class Solution: def networkDelayTime(self, times: List[List[int]], N: int, K: int) -&gt; int: dist = [float('inf')] * N dist[K - 1] = 0 for _ in range(N): for time in times: u = time[0] - 1 v = time[1] - 1 w = time[2] dist[v] = min(dist[v], dist[u] + w) return -1 if float('inf') in dist else max(dist) 787. K ç«™ä¸­è½¬å†…æœ€ä¾¿å®œçš„èˆªç­ æœ‰ n ä¸ªåŸå¸‚é€šè¿‡ m ä¸ªèˆªç­è¿æ¥ã€‚æ¯ä¸ªèˆªç­éƒ½ä»åŸå¸‚ u å¼€å§‹ï¼Œä»¥ä»·æ ¼ w æŠµè¾¾ vã€‚ ç°åœ¨ç»™å®šæ‰€æœ‰çš„åŸå¸‚å’Œèˆªç­ï¼Œä»¥åŠå‡ºå‘åŸå¸‚ src å’Œç›®çš„åœ° dstï¼Œä½ çš„ä»»åŠ¡æ˜¯æ‰¾åˆ°ä» src åˆ° dst æœ€å¤šç»è¿‡ k ç«™ä¸­è½¬çš„æœ€ä¾¿å®œçš„ä»·æ ¼ã€‚ å¦‚æœæ²¡æœ‰è¿™æ ·çš„è·¯çº¿ï¼Œåˆ™è¾“å‡º -1ã€‚ ç¤ºä¾‹ 1: 1234è¾“å…¥: n = 3, edges = [[0,1,100],[1,2,100],[0,2,500]]src = 0, dst = 2, k = 1è¾“å‡º: 200 æç¤ºï¼š n èŒƒå›´æ˜¯ [1, 100]ï¼ŒåŸå¸‚æ ‡ç­¾ä» 0 åˆ° n - 1. èˆªç­æ•°é‡èŒƒå›´æ˜¯ [0, n * (n - 1) / 2]. æ¯ä¸ªèˆªç­çš„æ ¼å¼ (src, dst, price). æ¯ä¸ªèˆªç­çš„ä»·æ ¼èŒƒå›´æ˜¯ [1, 10000]. k èŒƒå›´æ˜¯ [0, n - 1]. èˆªç­æ²¡æœ‰é‡å¤ï¼Œä¸”ä¸å­˜åœ¨ç¯è·¯ æ–¹æ³•ï¼šé˜Ÿåˆ—+BFS å¯ä»¥ç›´æ¥åˆ¤æ–­åœ¨æŒ‡å®šçš„kæ­¥ä»¥å†…èƒ½ä¸èƒ½èµ°åˆ°dstï¼Œä¸ä¼šè¿›è¡Œæ›´å¤šçš„æœç´¢äº†ï¼Œå› æ­¤è¿™ä¸ªæ–¹æ³•è¦å¿«å¾ˆå¤šã€‚ è¿™ä¸ªé˜Ÿåˆ—å­˜æ”¾çš„æ˜¯å½“æˆ‘ä»¬è¿›è¡Œç¬¬stepæ¬¡æœç´¢æ—¶ï¼Œæœç´¢åˆ°çš„å½“å‰çš„èŠ‚ç‚¹ï¼Œä»¥åŠèµ°åˆ°å½“å‰èŠ‚ç‚¹çš„èŠ±è´¹ã€‚æ‰€ä»¥å½“å½“å‰èŠ‚ç‚¹èµ°åˆ°dstæ—¶ï¼Œæ›´æ–°æœ€å°èŠ±è´¹ã€‚ æ—¶é—´å¤æ‚åº¦æ˜¯O(KN)ï¼Œç©ºé—´å¤æ‚åº¦æ˜¯O(N). 123456789101112131415161718192021class Solution: def findCheapestPrice(self, n: int, flights: List[List[int]], src: int, dst: int, K: int) -&gt; int: graph = collections.defaultdict(dict) for u, v, e in flights: graph[u][v] = e ans = float('inf') que = collections.deque() que.append((src, 0)) step = 0 while que: for i in range(len(que)): cur, cost = que.popleft() if cur == dst: ans = min(ans, cost) #èµ°åˆ°dst,æ›´æ–°æœ€å°èŠ±è´¹ for v, w in graph[cur].items(): # æ‰€æœ‰é‚»å±…ç‚¹ if cost + w &gt; ans: continue que.append((v, cost + w)) # èµ°åˆ°å½“å‰èŠ‚ç‚¹çš„æ›´å°çš„èŠ±è´¹ if step &gt; K: break step += 1 return -1 if ans == float('inf') else ans]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>LeetCode</tag>
        <tag>å›¾</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€Šå‰‘æŒ‡offerã€‹ç¬¬2ç« 03-15é¢˜(python)]]></title>
    <url>%2F2019%2F08%2F06%2Fcoding-interviews_chapter2problem03-15%2F</url>
    <content type="text"><![CDATA[3.æ•°ç»„ä¸­é‡å¤çš„æ•°å­— 4.äºŒç»´æ•°ç»„ä¸­çš„æŸ¥æ‰¾ 3.æ•°ç»„ä¸­é‡å¤çš„æ•°å­— ç‰›å®¢ç½‘ online judge åœ°å€ åœ¨ä¸€ä¸ªé•¿åº¦ä¸ºnçš„æ•°ç»„é‡Œçš„æ‰€æœ‰æ•°å­—éƒ½åœ¨0åˆ°n-1çš„èŒƒå›´å†…ã€‚ æ•°ç»„ä¸­æŸäº›æ•°å­—æ˜¯é‡å¤çš„ï¼Œä½†ä¸çŸ¥é“æœ‰å‡ ä¸ªæ•°å­—æ˜¯é‡å¤çš„ã€‚ä¹Ÿä¸çŸ¥é“æ¯ä¸ªæ•°å­—é‡å¤å‡ æ¬¡ã€‚è¯·æ‰¾å‡ºæ•°ç»„ä¸­ä»»æ„ä¸€ä¸ªé‡å¤çš„æ•°å­—ã€‚ ä¾‹å¦‚ï¼Œå¦‚æœè¾“å…¥é•¿åº¦ä¸º7çš„æ•°ç»„{2,3,1,0,2,5,3}ï¼Œé‚£ä¹ˆå¯¹åº”çš„è¾“å‡ºæ˜¯ç¬¬ä¸€ä¸ªé‡å¤çš„æ•°å­—2ã€‚ 3.1 å¯ä»¥ä¿®æ”¹åŸå§‹æ•°ç»„ æ–¹æ³•ï¼šäº¤æ¢æ•°å­— äº¤æ¢æ•°å­—åˆ°å¯¹åº”ä½ç½® 1234567891011121314151617class Solution: # è¿™é‡Œè¦ç‰¹åˆ«æ³¨æ„~æ‰¾åˆ°ä»»æ„é‡å¤çš„ä¸€ä¸ªå€¼å¹¶èµ‹å€¼åˆ°duplication[0] # å‡½æ•°è¿”å›True/False def duplicate(self, numbers, duplication): if len(numbers)&lt;2: duplication[0] = -1 return False for i in range(len(numbers)): while i != numbers[i]: if numbers[i] == numbers[numbers[i]]: duplication[0] = numbers[i] return True # æ³¨æ„è¿™é‡Œä¸èƒ½ç›´æ¥multiple assignment temp = numbers[i] numbers[i] = numbers[numbers[i]] numbers[temp] = temp return False 3.2 ä¸èƒ½ä¿®æ”¹åŸå§‹æ•°ç»„ æ–¹æ³•ä¸€ï¼šäºŒåˆ†æŸ¥æ‰¾ ç±»ä¼¼äºäºŒåˆ†æŸ¥æ‰¾ï¼Œå¤šäº†ä¸€æ­¥è®¡æ•° 123456789101112131415161718192021class Solution: # è¿™é‡Œè¦ç‰¹åˆ«æ³¨æ„~æ‰¾åˆ°ä»»æ„é‡å¤çš„ä¸€ä¸ªå€¼å¹¶èµ‹å€¼åˆ°duplication[0] # å‡½æ•°è¿”å›True/False def duplicate(self, numbers, duplication): if len(set(numbers)) == len(numbers): duplication[0] = -1 return False left = 1 right = len(numbers)-1 while left &lt; right: mid = left + (right-left+1)//2 count = 0 for num in numbers: if num &lt; mid: count += 1 if count &lt; mid:# å³åŠè¾¹æœ‰é‡å¤ left = mid else: # å·¦åŠè¾¹æœ‰é‡å¤ right = mid -1 duplication[0] = left return True æ–¹æ³•äºŒï¼šå¿«æ…¢æŒ‡é’ˆ ä½¿ç”¨å¿«æ…¢æŒ‡é’ˆï¼Œåˆ¤æ–­æ•°ç»„ä¸­æ˜¯å¦æœ‰é€»è¾‘ä¸Šçš„ç¯å­˜åœ¨ã€‚å¯»æ‰¾ç¯çš„èµ·ç‚¹ã€‚ æ³¨æ„ï¼šé¢˜ç›®çš„è¿”å›æ–¹å¼ã€å¿«æ…¢æŒ‡é’ˆçš„åˆå§‹åŒ–æ–¹å¼ã€‚ 123456789101112131415161718class Solution: # è¿™é‡Œè¦ç‰¹åˆ«æ³¨æ„~æ‰¾åˆ°ä»»æ„é‡å¤çš„ä¸€ä¸ªå€¼å¹¶èµ‹å€¼åˆ°duplication[0] # å‡½æ•°è¿”å›True/False def duplicate(self, nums, duplication): if len(set(nums)) == len(nums): duplication[0] = -1 return False fast = nums[nums[0]] slow = nums[0] while fast != slow: fast = nums[nums[fast]] slow = nums[slow] fast = 0 while fast != slow: fast = nums[nums[fast]] slow = nums[slow] duplication[0] = nums[fast] return True]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>å‰‘æŒ‡offer</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[pythonè§£leetcodeæ‹“æ‰‘æ’åº]]></title>
    <url>%2F2019%2F08%2F05%2Fpython_leetcode-topological-sort%2F</url>
    <content type="text"><![CDATA[åœ¨å›¾è®ºä¸­ï¼Œæ‹“æ‰‘æ’åºï¼ˆTopological Sortingï¼‰æ˜¯ä¸€ä¸ªæœ‰å‘æ— ç¯å›¾ï¼ˆDAG, Directed Acyclic Graphï¼‰çš„æ‰€æœ‰é¡¶ç‚¹çš„çº¿æ€§åºåˆ—ã€‚ä¸”è¯¥åºåˆ—å¿…é¡»æ»¡è¶³ä¸‹é¢ä¸¤ä¸ªæ¡ä»¶ï¼š æ¯ä¸ªé¡¶ç‚¹å‡ºç°ä¸”åªå‡ºç°ä¸€æ¬¡ã€‚ è‹¥å­˜åœ¨ä¸€æ¡ä»é¡¶ç‚¹ A åˆ°é¡¶ç‚¹ B çš„è·¯å¾„ï¼Œé‚£ä¹ˆåœ¨åºåˆ—ä¸­é¡¶ç‚¹ A å‡ºç°åœ¨é¡¶ç‚¹ B çš„å‰é¢ã€‚ æœ‰å‘æ— ç¯å›¾ï¼ˆDAGï¼‰æ‰æœ‰æ‹“æ‰‘æ’åºï¼ŒéDAGå›¾æ²¡æœ‰æ‹“æ‰‘æ’åºä¸€è¯´ã€‚ å­¦ä¹ ç›®æ ‡ï¼š - å®ç°æ‹“æ‰‘æ’åºçš„ Kahn ç®—æ³•ã€DFS ç®—æ³• - Leetcode 207.è¯¾ç¨‹è¡¨ - Leetcode 210.è¯¾ç¨‹è¡¨ II æ‹“æ‰‘æ’åºè¿”å›çš„ç»“æœæ˜¯æœ‰å‘å›¾ä¸­æ‰€æœ‰ç‚¹ä¾æ®æœ‰å‘è¾¹æŒ‡å‘é¡ºåºçš„æ’åˆ—è€Œæˆçš„ç‚¹ã€‚ é‚£ä¹ˆè¯¥å¦‚ä½•è·å¾—ä¸€ä¸ªæœ‰å‘å›¾çš„æ‹“æ‰‘æ’åºçš„ç»“æœï¼Ÿ æœ€ç›´è§‚çš„æ–¹æ³•æ­¥éª¤å¦‚ä¸‹ æ‰¾åˆ°å›¾ä¸­å…¥åº¦ï¼ˆindegreeï¼‰ä¸º0çš„ç‚¹ï¼Œç„¶åè®°å½•è¿™ä¸ªç‚¹å¹¶åˆ é™¤è¿™ä¸ªç‚¹çš„æ‰€æœ‰å‡ºåº¦ï¼ˆoutdegreeï¼‰ï¼Œä¹Ÿå°±æ˜¯è¿æ¥äº†è¿™ä¸ªç‚¹çš„å…¶ä»–ç‚¹çš„å…¥åº¦ æ£€æŸ¥å›¾ä¸­æ˜¯å¦æœ‰å…¥åº¦ä¸º0çš„ç‚¹ï¼Œå¦‚æœæœ‰é‡å¤æ­¥éª¤ï¼ˆ1ï¼‰ é‡å¤æ­¥éª¤ï¼ˆ1ï¼‰-ï¼ˆ2ï¼‰ç›´è‡³æ— æ³•æ‰¾åˆ°å…¥åº¦ä¸º0çš„ç‚¹ï¼Œæ­¤æ—¶å¦‚æœè®°å½•çš„ç‚¹çš„æ•°ç›®ä¸æ‰€æœ‰ç‚¹çš„æ•°ç›®ç›¸åŒï¼Œé‚£ä¹ˆè¯´æ˜å›¾ä¸­ä¸å­˜åœ¨é—­åˆçš„ç¯ï¼Œåä¹‹åˆ™å­˜åœ¨ã€‚ åº”ç”¨ï¼šæ‹“æ‰‘æ’åºé€šå¸¸ç”¨æ¥â€œæ’åºâ€å…·æœ‰ä¾èµ–å…³ç³»çš„ä»»åŠ¡ã€‚ 207. è¯¾ç¨‹è¡¨ Course Schedule ç°åœ¨ä½ æ€»å…±æœ‰ n é—¨è¯¾éœ€è¦é€‰ï¼Œè®°ä¸º 0 åˆ° n-1ã€‚ åœ¨é€‰ä¿®æŸäº›è¯¾ç¨‹ä¹‹å‰éœ€è¦ä¸€äº›å…ˆä¿®è¯¾ç¨‹ã€‚ ä¾‹å¦‚ï¼Œæƒ³è¦å­¦ä¹ è¯¾ç¨‹ 0 ï¼Œä½ éœ€è¦å…ˆå®Œæˆè¯¾ç¨‹ 1 ï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªåŒ¹é…æ¥è¡¨ç¤ºä»–ä»¬: [0,1] ç»™å®šè¯¾ç¨‹æ€»é‡ä»¥åŠå®ƒä»¬çš„å…ˆå†³æ¡ä»¶ï¼Œåˆ¤æ–­æ˜¯å¦å¯èƒ½å®Œæˆæ‰€æœ‰è¯¾ç¨‹çš„å­¦ä¹ ï¼Ÿ ç¤ºä¾‹ 1: 123è¾“å…¥: 2, [[1,0]] è¾“å‡º: trueè§£é‡Š: æ€»å…±æœ‰ 2 é—¨è¯¾ç¨‹ã€‚å­¦ä¹ è¯¾ç¨‹ 1 ä¹‹å‰ï¼Œä½ éœ€è¦å®Œæˆè¯¾ç¨‹ 0ã€‚æ‰€ä»¥è¿™æ˜¯å¯èƒ½çš„ã€‚ ç¤ºä¾‹ 2: 123è¾“å…¥: 2, [[1,0],[0,1]]è¾“å‡º: falseè§£é‡Š: æ€»å…±æœ‰ 2 é—¨è¯¾ç¨‹ã€‚å­¦ä¹ è¯¾ç¨‹ 1 ä¹‹å‰ï¼Œä½ éœ€è¦å…ˆå®Œæˆâ€‹è¯¾ç¨‹ 0ï¼›å¹¶ä¸”å­¦ä¹ è¯¾ç¨‹ 0 ä¹‹å‰ï¼Œä½ è¿˜åº”å…ˆå®Œæˆè¯¾ç¨‹ 1ã€‚è¿™æ˜¯ä¸å¯èƒ½çš„ã€‚ è¯´æ˜: è¾“å…¥çš„å…ˆå†³æ¡ä»¶æ˜¯ç”±è¾¹ç¼˜åˆ—è¡¨è¡¨ç¤ºçš„å›¾å½¢ï¼Œè€Œä¸æ˜¯é‚»æ¥çŸ©é˜µã€‚è¯¦æƒ…è¯·å‚è§å›¾çš„è¡¨ç¤ºæ³•ã€‚ ä½ å¯ä»¥å‡å®šè¾“å…¥çš„å…ˆå†³æ¡ä»¶ä¸­æ²¡æœ‰é‡å¤çš„è¾¹ã€‚ æç¤º: è¿™ä¸ªé—®é¢˜ç›¸å½“äºæŸ¥æ‰¾ä¸€ä¸ªå¾ªç¯æ˜¯å¦å­˜åœ¨äºæœ‰å‘å›¾ä¸­ã€‚å¦‚æœå­˜åœ¨å¾ªç¯ï¼Œåˆ™ä¸å­˜åœ¨æ‹“æ‰‘æ’åºï¼Œå› æ­¤ä¸å¯èƒ½é€‰å–æ‰€æœ‰è¯¾ç¨‹è¿›è¡Œå­¦ä¹ ã€‚ é€šè¿‡ DFS è¿›è¡Œæ‹“æ‰‘æ’åº - ä¸€ä¸ªå…³äºCourseraçš„ç²¾å½©è§†é¢‘æ•™ç¨‹ï¼ˆ21åˆ†é’Ÿï¼‰ï¼Œä»‹ç»æ‹“æ‰‘æ’åºçš„åŸºæœ¬æ¦‚å¿µã€‚ æ‹“æ‰‘æ’åºä¹Ÿå¯ä»¥é€šè¿‡ BFS å®Œæˆã€‚ æ–¹æ³•:é˜Ÿåˆ— éå†æœ‰å‘å›¾ä¸­æ‰€æœ‰çš„è¾¹å¯ä»¥æ„é€ å‡ºä¸Šé¢æåˆ°çš„ä¸¤ä¸ªæ•°æ®ç»“æ„ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(e) ä»In-Degree arrayä¸­æ‰¾æ‰€æœ‰ç‚¹ä¸­å…¥åº¦æ•°ä¸º0çš„ç‚¹ï¼Œæ„æˆåˆå§‹é˜Ÿåˆ—ï¼Œæ—¶é—´å¤æ‚åº¦O(n) é€šè¿‡é˜Ÿé¦–å‡ºåˆ—ï¼Œè°ƒæ•´ä¸é˜Ÿé¦–å…ƒç´ å‡ºåº¦ç›¸è¿çš„æ‰€æœ‰ç‚¹çš„å…¥åº¦æ•°ï¼Œå¹¶æ£€æŸ¥è¿™äº›ç‚¹çš„å…¥åº¦æ•°æ˜¯å¦ä¸º0ï¼Œè‹¥æ˜¯åˆ™å…¥é˜Ÿåˆ— é‡å¤æ­¥éª¤(3)ç›´è‡³é˜Ÿåˆ—ä¸ºç©ºï¼Œæ­¤æ—¶è‹¥ä»é˜Ÿåˆ—ä¸­å‡ºåˆ—çš„æ‰€æœ‰ç‚¹çš„æ•°ç›®ä¸ºåŸæ¥æœ‰å‘å›¾ä¸­æ‰€æœ‰ç‚¹çš„æ•°ç›®ï¼Œåˆ™å›¾ä¸­ä¸å­˜åœ¨é—­åˆçš„ç¯ï¼Œä¸”å‡ºåˆ—çš„é¡ºåºæ˜¯ä¸€ç§å¯è¡Œçš„éå†æ–¹æ³•ã€‚æ­¥éª¤(3)(4)çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(n+e) 123456789101112131415161718192021222324class Solution: def canFinish(self, numCourses: int, prerequisites: List[List[int]]) -&gt; bool: indegree = [0 for i in range(numCourses)] # æ¯ä¸ªå…ƒç´ çš„å…¥åº¦æ•° (å…ˆå†³æ¡ä»¶æ•°) connection = &#123;i:[] for i in range(numCourses)&#125; # å­˜æ”¾æ¯ä¸ªå…ƒç´ çš„å‡ºåº¦è¿æ¥çš„æ‰€æœ‰å…ƒç´  for link in prerequisites: connection[link[1]].append(link[0]) indegree[link[0]] += 1 zero_indegree = [] # ï¼ˆå…ˆè§‰æ¡ä»¶ä¸º0ï¼‰å…¥åº¦æ•°ä¸º0çš„å…ƒç´ è¦å…¥é˜Ÿ for i in range(numCourses): if indegree[i]==0: zero_indegree.append(i) i=0 #éå†é˜Ÿåˆ—ä¸­çš„å…ƒç´ ï¼Œå‡ºé˜Ÿçš„å…ƒç´ çš„ç›¸è¿æ¥æ‰€æœ‰å…ƒç´ å…ƒç´ éƒ½å¯ä»¥-1å‡å°‘ä¸€ä¸ªå…ˆå†³æ¡ä»¶ while i&lt;len(zero_indegree): for node in connection[zero_indegree[i]]: indegree[node] -= 1 if indegree[node] == 0: zero_indegree.append(node)# å…¥é˜Ÿ i += 1 if len(zero_indegree) == numCourses: return True else: return False 210. è¯¾ç¨‹è¡¨ II Course Schedule II ç°åœ¨ä½ æ€»å…±æœ‰ n é—¨è¯¾éœ€è¦é€‰ï¼Œè®°ä¸º 0 åˆ° n-1ã€‚ åœ¨é€‰ä¿®æŸäº›è¯¾ç¨‹ä¹‹å‰éœ€è¦ä¸€äº›å…ˆä¿®è¯¾ç¨‹ã€‚ ä¾‹å¦‚ï¼Œæƒ³è¦å­¦ä¹ è¯¾ç¨‹ 0 ï¼Œä½ éœ€è¦å…ˆå®Œæˆè¯¾ç¨‹ 1 ï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªåŒ¹é…æ¥è¡¨ç¤ºä»–ä»¬: [0,1] ç»™å®šè¯¾ç¨‹æ€»é‡ä»¥åŠå®ƒä»¬çš„å…ˆå†³æ¡ä»¶ï¼Œè¿”å›ä½ ä¸ºäº†å­¦å®Œæ‰€æœ‰è¯¾ç¨‹æ‰€å®‰æ’çš„å­¦ä¹ é¡ºåºã€‚ å¯èƒ½ä¼šæœ‰å¤šä¸ªæ­£ç¡®çš„é¡ºåºï¼Œä½ åªè¦è¿”å›ä¸€ç§å°±å¯ä»¥äº†ã€‚å¦‚æœä¸å¯èƒ½å®Œæˆæ‰€æœ‰è¯¾ç¨‹ï¼Œè¿”å›ä¸€ä¸ªç©ºæ•°ç»„ã€‚ ç¤ºä¾‹ 1: 123è¾“å…¥: 2, [[1,0]] è¾“å‡º: [0,1]è§£é‡Š: æ€»å…±æœ‰ 2 é—¨è¯¾ç¨‹ã€‚è¦å­¦ä¹ è¯¾ç¨‹ 1ï¼Œä½ éœ€è¦å…ˆå®Œæˆè¯¾ç¨‹ 0ã€‚å› æ­¤ï¼Œæ­£ç¡®çš„è¯¾ç¨‹é¡ºåºä¸º [0,1] ã€‚ ç¤ºä¾‹ 2: 1234è¾“å…¥: 4, [[1,0],[2,0],[3,1],[3,2]]è¾“å‡º: [0,1,2,3] or [0,2,1,3]è§£é‡Š: æ€»å…±æœ‰ 4 é—¨è¯¾ç¨‹ã€‚è¦å­¦ä¹ è¯¾ç¨‹ 3ï¼Œä½ åº”è¯¥å…ˆå®Œæˆè¯¾ç¨‹ 1 å’Œè¯¾ç¨‹ 2ã€‚å¹¶ä¸”è¯¾ç¨‹ 1 å’Œè¯¾ç¨‹ 2 éƒ½åº”è¯¥æ’åœ¨è¯¾ç¨‹ 0 ä¹‹åã€‚ å› æ­¤ï¼Œä¸€ä¸ªæ­£ç¡®çš„è¯¾ç¨‹é¡ºåºæ˜¯ [0,1,2,3] ã€‚å¦ä¸€ä¸ªæ­£ç¡®çš„æ’åºæ˜¯ [0,2,1,3] ã€‚ æ–¹æ³• åŒ207é¢˜çš„è§£æ³•ä¸€æ ·ï¼Œåªéœ€è¦ä¿®æ”¹returnå³å¯ 123456789101112131415161718192021222324class Solution: def findOrder(self, numCourses: int, prerequisites: List[List[int]]) -&gt; List[int]: indegree = [0 for i in range(numCourses)] # æ¯ä¸ªå…ƒç´ çš„å…¥åº¦æ•° (å…ˆå†³æ¡ä»¶æ•°) connection = &#123;i:[] for i in range(numCourses)&#125; # å­˜æ”¾æ¯ä¸ªå…ƒç´ çš„å‡ºåº¦è¿æ¥çš„æ‰€æœ‰å…ƒç´  for link in prerequisites: connection[link[1]].append(link[0]) indegree[link[0]] += 1 zero_indegree = [] # ï¼ˆå…ˆè§‰æ¡ä»¶ä¸º0ï¼‰å…¥åº¦æ•°ä¸º0çš„å…ƒç´ è¦å…¥é˜Ÿ for i in range(numCourses): if indegree[i]==0: zero_indegree.append(i) i=0 #éå†é˜Ÿåˆ—ä¸­çš„å…ƒç´ ï¼Œå‡ºé˜Ÿçš„å…ƒç´ çš„ç›¸è¿æ¥æ‰€æœ‰å…ƒç´ å…ƒç´ éƒ½å¯ä»¥-1å‡å°‘ä¸€ä¸ªå…ˆå†³æ¡ä»¶ while i&lt;len(zero_indegree): for node in connection[zero_indegree[i]]: indegree[node] -= 1 if indegree[node] == 0: zero_indegree.append(node)# å…¥é˜Ÿ i += 1 if len(zero_indegree) == numCourses: return zero_indegree else: return [] å‚è€ƒ LeetCode è§£é¢˜æŠ¥å‘Š(207,210)â€“æ‹“æ‰‘æ’åº(Topological Sort)]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>LeetCode</tag>
        <tag>å›¾</tag>
        <tag>æ‹“æ‰‘æ’åº</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[csvæ–‡ä»¶ä¸å­—å…¸ä¹‹é—´çš„è½¬æ¢]]></title>
    <url>%2F2019%2F08%2F03%2Fcsv%E6%96%87%E4%BB%B6%E4%B8%8E%E5%AD%97%E5%85%B8%E4%B9%8B%E9%97%B4%E7%9A%84%E8%BD%AC%E6%8D%A2%2F</url>
    <content type="text"><![CDATA[csvæ–‡ä»¶è½¬æ¢ä¸ºå­—å…¸ ç¬¬ä¸€è¡Œä¸ºkeyï¼Œå…¶ä½™è¡Œä¸ºvalue æ¯ä¸€è¡Œä¸ºkey,valueçš„è®°å½• å­—å…¸è½¬æ¢ä¸ºcsvæ–‡ä»¶ ç¬¬ä¸€è¡Œä¸ºkeyï¼Œå…¶ä½™è¡Œä¸ºvalue æ¯ä¸€è¡Œä¸ºkey,valueçš„è®°å½• å­—å…¸è½¬æ¢ä¸ºcsvæ–‡ä»¶ æ¯ä¸€è¡Œä¸ºkey,valueçš„è®°å½• ç¬¬ä¸€è¡Œä¸ºkeyï¼Œå…¶ä½™è¡Œä¸ºvalue è¾“å‡ºåˆ—è¡¨å­—å…¸ æ¯ä¸€è¡Œä¸ºkey,valueçš„è®°å½• 12345def dict2csv(dict,file): with open(file,'w') as f: w=csv.writer(f) # write each key/value pair on a separate row w.writerows(dict.items()) å‚è€ƒ csvæ–‡ä»¶ä¸å­—å…¸ï¼Œåˆ—è¡¨ç­‰ä¹‹é—´çš„è½¬æ¢å°ç»“ã€Pythonã€‘]]></content>
      <categories>
        <category>code</category>
      </categories>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç‰›å®¢å°ç™½æœˆèµ›16é¢˜è§£]]></title>
    <url>%2F2019%2F07%2F13%2F%E7%89%9B%E5%AE%A2%E5%B0%8F%E7%99%BD%E6%9C%88%E8%B5%9B16%E9%A2%98%E8%A7%A3%2F</url>
    <content type="text"><![CDATA[æœ¬æ–‡æ¥è‡ªç‰›å®¢ç½‘çš„å°ç™½æœˆèµ›16çš„é¢˜ A å°çŸ³çš„ç­¾åˆ°é¢˜ B å°é›¨çš„ä¸‰è§’å½¢ C å°çŸ³çš„æµ·å²›ä¹‹æ—… D å°é˜³ä¹°æ°´æœ E å°é›¨çš„çŸ©é˜µ F å°çŸ³çš„å¦¹å­ G å°çŸ³çš„å›¾å½¢ H å°é˜³çš„è´å£³ I çŸ³å¤´å‰ªåˆ€å¸ƒ J å°é›¨ååœ°é“ A-å°çŸ³çš„ç­¾åˆ°é¢˜ ç‰›å®¢å°ç™½æœˆèµ›16-Aå°çŸ³çš„ç­¾åˆ°é¢˜ å°çŸ³å’Œå°é˜³ç©æ¸¸æˆï¼Œä¸€å…±æœ‰ \(n\) ä¸ªæ•°ï¼Œåˆ†åˆ«ä¸º \(1âˆ¼n\) ã€‚ä¸¤äººè½®æµå–æ•°ï¼Œå°çŸ³å…ˆæ‰‹ã€‚å¯¹äºæ¯è½®å–æ•°ï¼Œéƒ½å¿…é¡»é€‰æ‹©å‰©ä¸‹æ•°ä¸­çš„ä»»æ„ä¸€ä¸ªæ•° \(x\)ï¼ŒåŒæ—¶è¿˜è¦å–èµ° \(x,âŒŠ\frac{x}{2}âŒ‹,âŒŠ\frac{âŒŠ\frac{x}{2}âŒ‹}{2}âŒ‹â€¦\) å¦‚æœæŸä¸ªæ•°ä¸å­˜åœ¨ï¼Œå°±åœæ­¢å–æ•°ï¼ˆä¸èƒ½ä¸€ä¸ªæ•°éƒ½ä¸å–ï¼‰ã€‚è°å–èµ°æœ€åä¸€ä¸ªæ•°ï¼Œè°å°±è¾“äº†ã€‚å°çŸ³æƒ³çŸ¥é“è‡ªå·±èƒ½å¦è·èƒœã€‚ å¦‚æœå°çŸ³èƒ½èµ¢ï¼Œè¾“å‡º â€œShiâ€ï¼Œå¦åˆ™è¾“å‡º â€œYangâ€ï¼ˆå‡ä¸è¾“å‡ºå¼•å·ï¼‰ã€‚ è¾“å…¥æè¿°:å…±ä¸€è¡Œï¼Œè¾“å…¥ä¸€ä¸ªæ•° \(n\) ã€‚ è¾“å‡ºæè¿°:å…±ä¸€è¡Œï¼Œè¾“å‡º â€œShiâ€ æˆ– â€œYangâ€ï¼ˆä¸è¾“å‡ºå¼•å·ï¼‰ã€‚ ç¤ºä¾‹1: è¾“å…¥1ï¼Œè¾“å‡º Yang è¯´æ˜ï¼šå°çŸ³åªèƒ½å–èµ° 1ï¼Œå°é˜³èµ¢ã€‚ ç¤ºä¾‹2 è¾“å…¥2ï¼Œè¾“å‡ºShi è¯´æ˜ï¼šè‹¥å°çŸ³å–èµ° 1ï¼Œåˆ™å°é˜³åªèƒ½å–èµ° 2ï¼Œå°çŸ³èµ¢ã€‚ å¤‡æ³¨:\(1 â‰¤nâ‰¤10^3\) æ–¹æ³•ï¼šåšå¼ˆè®ºSG æˆ‘ä»¬å‘ç°å½“ \(n&gt;1\) æ—¶å…ˆæ‰‹ï¼ˆå°çŸ³ï¼‰æ€»æ˜¯èµ¢ã€‚ å¦‚ä½•è¯æ˜ï¼šä¸€å¼€å§‹æœ‰ \(1âˆ¼n\) , \(n\) ä¸ªæ•°ï¼Œå‡è®¾å…ˆæ‰‹å¿…è´¥ï¼Œé‚£ä¹ˆå…ˆæ‰‹é€‰ 1ï¼Œåæ‰‹å°±è¿›å…¥äº†å¿…è´¥çŠ¶æ€ã€‚ æ‰€ä»¥å‡è®¾é”™è¯¯ï¼Œé‚£ä¹ˆå…ˆæ‰‹å°±ä¸æ˜¯å¿…è´¥ï¼Œå…ˆæ‰‹ä¸€å®šæœ‰ä¸€ç§æ–¹å¼èƒ½èµ¢ã€‚ 12345n = int(input())if n==1: print('Yang')else: print('Shi') B-å°é›¨çš„ä¸‰è§’å½¢ ç‰›å®¢å°ç™½æœˆèµ›16-Bå°é›¨çš„ä¸‰è§’å½¢ å°é›¨æ‰‹ä¸Šæœ‰ä¸€ä¸ªå¡«æ»¡äº†æ•°å­—çš„ä¸‰è§’å½¢ã€‚è¿™ä¸ªä¸‰è§’å½¢ä¸€å…±æœ‰ \(n\) å±‚ï¼Œå…¶ä¸­ç¬¬ \(i\) å±‚å…±æœ‰ \(i\) ä¸ªæ•°ï¼Œä¸”ç¬¬ 1 ä¸ªæ•°å’Œç¬¬ \(i\) ä¸ªæ•°å‡ä¸º \(i\) ã€‚å…¶ä½™çš„æ•°ä¸­ï¼Œç¬¬ \(j\) ä¸ªæ•°æ˜¯ä¸Šä¸€å±‚ä¸­ç¬¬ \(jâˆ’1\) ä¸ªæ•°å’Œç¬¬ \(j\) ä¸ªæ•°çš„å’Œã€‚å°é›¨æƒ³çŸ¥é“è¿™ä¸ªä¸‰è§’å½¢ç¬¬ \(x\) å±‚åˆ°ç¬¬ \(y\) å±‚æ‰€æœ‰æ•°çš„å’Œï¼Œä¸€å…±æœ‰ \(m\) ä¸ªè¯¢é—®ã€‚ è¾“å…¥æè¿°: ç¬¬ä¸€è¡Œä¸¤ä¸ªæ­£æ•´æ•° \(n,m\)ï¼Œè¡¨ç¤ºè¿™ä¸ªä¸‰è§’å½¢çš„å±‚æ•°å’Œè¯¢é—®ä¸ªæ•°ã€‚ æ¥ä¸‹æ¥ \(m\) è¡Œï¼Œæ¯è¡Œä¸¤ä¸ªæ­£æ•´æ•° \(x,y\)ï¼Œè¡¨ç¤ºä¸€æ¬¡è¯¢é—®ã€‚ è¾“å‡ºæè¿°: è¾“å‡ºå…± \(m\) è¡Œï¼Œæ¯è¡Œä¸¤ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºä¸€ç»„è¯¢é—®çš„ç­”æ¡ˆï¼Œå¯¹ \(10^9+7\) å–æ¨¡ã€‚ ç¤ºä¾‹1 123456789101112131415161718è¾“å…¥5 31 21 53 5è¾“å‡º58378è¯´æ˜ç”»å‡ºè¿™ä¸ªä¸‰è§’å½¢ï¼š12 23 4 34 7 7 45 11 14 11 5 ç¬¬1-2å±‚çš„å’Œä¸º \(1+2+2 = 5\) ç¬¬1-5å±‚çš„å’Œä¸º \(1+2+2+3+4+3+4+7+7+4+5+11+14+11+5 = 83\) ç¬¬3-5å±‚çš„å’Œä¸º \(3+4+3+4+7+7+4+5+11+14+11+5 = 78\) å¤‡æ³¨ï¼š\(1 â‰¤nâ‰¤10^3, 1â‰¤xâ‰¤yâ‰¤n\) æ–¹æ³•ï¼šæ•°å­¦ æ•°æ®èŒƒå›´ç»™çš„å¾ˆå°ï¼Œå¯ä»¥ \(O(n^2)\) æš´åŠ›æ„é€ ä¸‰è§’å½¢ï¼Œé¢„å¤„ç†å‡ºæ¯ä¸€è¡Œçš„æ€»å’Œï¼Œæ¯ä¸ªè¯¢é—®æŠŠ \(xâˆ¼y\) è¡Œçš„å’ŒåŠ èµ·æ¥å³å¯ï¼ˆè‹¥é¢„å¤„ç†å‡ºç¬¬ \(1âˆ¼i\) è¡Œçš„å’Œï¼Œåˆ™å¯ä»¥åšåˆ° \(O(1)\) æŸ¥è¯¢ï¼‰ã€‚ æ›´å¿«çš„åšæ³•ï¼Ÿæ¯ä¸€è¡Œçš„å’Œå…¶å®æ˜¯æœ‰è§„å¾‹çš„ï¼Œåˆ†åˆ«ä¸º \(1,4,10,22,46,94â‹¯\)ï¼Œé™¤äº†ç¬¬ 1 è¡Œçš„å’Œä¸º 1 å¤–ï¼Œç¬¬ \(i\) è¡Œçš„å’Œä¸º \(6â‹…2iâˆ’2âˆ’2\)ï¼Œé‚£ä¹ˆç¬¬ \(1âˆ¼i (i&gt;1)\) è¡Œçš„å’Œä¸º \[ 1+6â‹…20âˆ’2+6â‹…22âˆ’2+6â‹…23âˆ’2+â‹¯+6â‹…2iâˆ’2âˆ’2\\ =1+6â‹…(2iâˆ’1âˆ’1)âˆ’2â‹…(iâˆ’1)\\ =6â‹…2iâˆ’1âˆ’2â‹…iâˆ’3\\ \] æ‰€ä»¥ç¬¬ \(xâˆ¼y\) è¡Œçš„å’Œå°±èƒ½ç”¨å‰ç¼€å’Œè®¡ç®—å‡º \(3(2^{y}-2^{x-1}) + 2(x-y)-2\)ï¼Œæ³¨æ„ç‰¹åˆ¤ \(x=1,x=2,y=1\) çš„æƒ…å†µï¼Œè¿™æ ·å°±èƒ½å¤Ÿæ¯æ¬¡ \(O(logâ¡n)\) æŸ¥è¯¢ã€‚ 12345n,m = map(int, input().split(' '))M = int(1e9+7)for _ in range(m): x, y = map(int, input().split(' ')) print((3*(2**y - 2**(x-1)) + 2*(x-y) - 2)%M) C-å°çŸ³çš„æµ·å²›ä¹‹æ—… ç‰›å®¢å°ç™½æœˆèµ›16-Cå°çŸ³çš„æµ·ç›—ä¹‹æ—… æš‘å‡åˆ°äº†ï¼Œå°çŸ³å’Œå°é›¨åˆ°æµ·å²›ä¸Šç©ã€‚ ä»æ°´å¹³æ–¹å‘çœ‹æµ·å²›å¯ä»¥çœ‹æˆ \(n\) ä¸ªå°å—ï¼Œæ¯ä¸€ä¸ªå°å—éƒ½æœ‰ä¸€ä¸ªé«˜åº¦ \(h_i\)ï¼Œ æ°´ä½ä¸€å¼€å§‹ä¸º 0ï¼Œéšç€æ°´ä½çš„ä¸Šå‡ï¼Œæµ·å²›åˆ†æˆäº†è‹¥å¹²å—ã€‚ç°åœ¨æœ‰ \(m\) ä¸ªè¯¢é—®ï¼Œæ±‚å½“æ°´ä½ä¸º \(a_i\) æ—¶ï¼Œæµ·å²›ä¼šåˆ†æˆå¤šå°‘å—ã€‚ è¾“å…¥æè¿°: ç¬¬ä¸€è¡Œè¾“å…¥ä¸¤ä¸ªæ­£æ•´æ•° n,mï¼Œåˆ†åˆ«è¡¨ç¤ºæµ·å²›å°å—ä¸ªæ•°å’Œè¯¢é—®ä¸ªæ•°ã€‚ ç¬¬äºŒè¡Œè¾“å…¥ n ä¸ªæ•´æ•° \(h_i\)ï¼Œè¡¨ç¤ºæ¯ä¸€å—çš„é«˜åº¦ã€‚ ç¬¬ä¸‰è¡Œè¾“å…¥ mä¸ªæ•´æ•° aiï¼Œè¡¨ç¤ºæ¯ä¸€ä¸ªè¯¢é—®ï¼Œä¿è¯è¾“å…¥çš„ ai å•è°ƒé€’å¢ã€‚ è¾“å‡ºæè¿°: å…± m è¡Œï¼Œåˆ†åˆ«å¯¹åº” m ä¸ªè¯¢é—®çš„ç­”æ¡ˆã€‚ ç¤ºä¾‹1 123456789101112131415è¾“å…¥7 31 2 3 1 2 1 31 2 3è¾“å‡º320è¯´æ˜å½“æ°´ä½é«˜åº¦ä¸º 1 æ—¶ï¼Œå²›å±¿è¢«åˆ†æˆ 3 å—ï¼Œ2 3ï¼›2ï¼›3å½“æ°´ä½é«˜åº¦ä¸º 2 æ—¶ï¼Œå²›å±¿è¢«åˆ†æˆ 2 å—ï¼š3ï¼›3 ã€‚å½“æ°´ä½é«˜åº¦ä¸º 3 æ—¶ï¼Œå²›å±¿å…¨éƒ¨è¢«æ·¹æ²¡ï¼Œå‰©ä½™ 0 å— ã€‚ æ–¹æ³•ï¼šæšä¸¾ 123456789n, m = map(int, input().split())h = list(map(int, input().split()))a = list(map(int, input().split()))for a_i in a: ans = int(h[0] &gt; a_i) #ç¬¬ä¸€å—é«˜äºæ°´ä½æ˜¯1ï¼Œä½äºæ°´ä½æ˜¯0 for j in range(1, len(h)): if h[j]&gt;a_i and h[j-1]&lt;=a_i: ans += 1 print(ans) D-å°é˜³ä¹°æ°´æœ ç‰›å®¢å°ç™½æœˆèµ›16-Då°é˜³ä¹°æ°´æœ æ°´æœåº—é‡Œæœ‰ \(n\) ä¸ªæ°´æœæ’æˆä¸€åˆ—ã€‚åº—é•¿è¦æ±‚é¡¾å®¢åªèƒ½ä¹°ä¸€æ®µè¿ç»­çš„æ°´æœã€‚ å°é˜³å¯¹æ¯ä¸ªæ°´æœéƒ½æœ‰ä¸€ä¸ªå–œçˆ±ç¨‹åº¦ \(a_i\)ï¼Œæœ€ç»ˆçš„æ»¡æ„åº¦ä¸ºä»–ä¹°åˆ°çš„æ°´æœçš„å–œæ¬¢ç¨‹åº¦ä¹‹å’Œã€‚ å¦‚æœå’Œä¸ºæ­£ï¼ˆä¸ç®¡æ˜¯æ­£å¤šå°‘ï¼Œåªè¦å¤§äº 0 å³å¯ï¼‰ï¼Œä»–å°±æ»¡æ„äº†ã€‚ å°é˜³æƒ³çŸ¥é“åœ¨ä»–æ»¡æ„çš„æ¡ä»¶ä¸‹æœ€å¤šèƒ½ä¹°å¤šå°‘ä¸ªæ°´æœã€‚ ä½ èƒ½å¸®å¸®ä»–å—ï¼Ÿ è¾“å…¥æè¿°: ç¬¬ä¸€è¡Œè¾“å…¥ä¸€ä¸ªæ­£æ•´æ•° nï¼Œè¡¨ç¤ºæ°´æœæ€»æ•°ã€‚ ç¬¬äºŒè¡Œè¾“å…¥ n ä¸ªæ•´æ•° \(a_i\)ï¼Œè¡¨ç¤ºå°é˜³å¯¹æ¯ä¸ªæ°´æœçš„å–œçˆ±ç¨‹åº¦ã€‚ è¾“å‡ºæè¿°: ä¸€è¡Œä¸€ä¸ªæ•´æ•°è¡¨ç¤ºç»“æœã€‚ ç¤ºä¾‹1 12345è¾“å…¥50 0 -7 -6 1è¾“å‡º1 æ–¹æ³•ï¼šå’Œå¤§äº0çš„æœ€é•¿è¿ç»­å­åºåˆ— pythonè¶…æ—¶å¾ˆéš¾é€šè¿‡ï¼Œç”¨C++ éå†iä»1-nï¼Œå‰iä¸ªæ•°ä¸­ï¼Œæ‰¾åˆ°é‚£ä¸ªæ¯”så°çš„æœ€å·¦è¾¹ä½ç½®ï¼Œè®¾ä¸ºr, r-iä¹‹é—´çš„å­ä¸²å°±æ˜¯æœ€é•¿å­ä¸²ã€‚ æ‰€æœ‰æ»¡è¶³æ¡ä»¶çš„å­ä¸²çš„0~å³è¾¹ç•Œçš„å’Œ \(&gt;\) 0~å·¦è¾¹ç•Œçš„å’Œï¼Œæ‰€ä»¥è¦æ‰¾åˆ°é‚£ä¸ªæœ€å·¦è¾¹çš„å·¦è¾¹ç•Œã€‚ 123456789101112131415161718192021222324252627282930#include&lt;bits/stdc++.h&gt;using namespace std;int a[2000061],s,x,ans;int main()&#123; int n; scanf("%d",&amp;n); for(int i=1; i&lt;=n; i++) &#123; scanf("%d",&amp;x); s+=x; a[i]=min(a[i-1],s); int l=0,r=i-1; while(l&lt;=r) &#123; int mid=(l+r)/2; if(a[mid]&lt;s) &#123; r=mid-1; &#125; else l=mid+1; &#125; if(r!=-2) &#123; ans=max(ans,i-r-1); &#125; &#125; cout&lt;&lt;ans&lt;&lt;endl;&#125; E-å°é›¨çš„çŸ©é˜µ ç‰›å®¢å°ç™½æœˆèµ›16-Eå°é›¨çš„çŸ©é˜µ é›¨æœ‰ä¸€ä¸ª nÃ—n çš„çŸ©é˜µï¼Œèµ·ç‚¹åœ¨(1,1)ï¼Œç»ˆç‚¹åœ¨(n,n)ï¼Œåªèƒ½å‘ä¸‹æˆ–å‘å³èµ°ï¼Œä¸”æ¯æ¬¡åªèƒ½èµ° 1 æ­¥ã€‚çŸ©é˜µä¸Šæ¯ä¸ªç‚¹éƒ½æœ‰ä¸€ä¸ªç‚¹æƒ \(a_{i,j}\) ã€‚ æ±‚èµ°åˆ°ç»ˆç‚¹çš„è·¯å¾„æœ‰å¤šå°‘ä¸åŒçš„ç‚¹æƒå’Œã€‚ è¾“å…¥æè¿°: ç¬¬ä¸€è¡Œï¼Œè¾“å…¥ä¸€ä¸ªæ­£æ•´æ•° n ã€‚ æ¥ä¸‹æ¥ n+1 è¡Œï¼Œæ¯è¡Œ n ä¸ªæ•°ï¼Œè¡¨ç¤º \(a_{i,j}\) è¾“å‡ºæè¿°: å…±ä¸€è¡Œï¼Œè¾“å‡ºæœ‰å¤šå°‘ä¸åŒçš„ç‚¹æƒå’Œã€‚ ç¤ºä¾‹1 123456è¾“å…¥21 52 4è¾“å‡º2 å¤‡æ³¨: \(1 â‰¤nâ‰¤8, 0 â‰¤a_{i,j}â‰¤50\) æ–¹æ³•ï¼šéå†+é€’å½’ ä» (1,1) çˆ†æœåˆ°(n,n)ï¼ŒæŠŠç­”æ¡ˆå»ä¸€ä¸‹é‡å³å¯ã€‚ 12345678910111213141516171819n = int(input())a = []for _ in range(n): a.append(list(map(int, input().split())))path = [] #ä¸åŒçš„è·¯å¾„def dp(num,i,j): num+=a[i][j] if i==n-1 and j==n-1 and (num not in path) : path.append(num) return 0 if(i&lt;n-1): dp(num,i+1,j); if(j&lt;n-1): dp(num,i,j+1); dp(0,0,0)print(len(path)) G-å°çŸ³çš„å›¾å½¢ ç‰›å®¢å°ç™½æœˆèµ›16-Gå°çŸ³çš„å›¾å½¢ å°çŸ³æƒ³åœ¨ä¸€é¢å¢™æ—è¾¹å»ºé€ ä¸€æ®µé•¿åº¦ä¸º n çš„ç¯±ç¬†æ¥å›´å‡ºä¸€å—åœ°ã€‚ æ±‚æœ€å¤§çš„åœ°çš„é¢ç§¯ã€‚ è¾“å…¥æè¿°: å…±ä¸€è¡Œï¼Œè¾“å…¥ä¸€ä¸ªæ•´æ•° n ã€‚ è¾“å‡ºæè¿°:å…±ä¸€è¡Œï¼Œè¾“å‡ºæœ€å¤§é¢ç§¯ï¼Œä¿ç•™ 3 ä½å°æ•°ã€‚ ç¤ºä¾‹1 12è¾“å…¥1è¾“å‡º0.159 å¤‡æ³¨:\(1 â‰¤nâ‰¤10^3\) æ–¹æ³•ï¼šæ•°å­¦å‡ ä½• å‘ç°åŠåœ†æ—¶é¢ç§¯æœ€å¤§ï¼ˆæ˜¾ç„¶ï¼‰ã€‚ \(n=Ï€R, R=\frac{Ï€R^2}{2} = \frac{n^2}{2Ï€}\) é¢ç§¯ \(n=Ï€R, R=\frac{n}{Ï€}\) 1print("%.3f"%(int(input())**2/6.2831853)) å‚è€ƒ ç‰›å®¢å°ç™½æœˆèµ›16é¢˜è§£]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>ç‰›å®¢</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[pythonè§£leetcodeè´ªå¿ƒç®—æ³•]]></title>
    <url>%2F2019%2F07%2F04%2Fpython_leetcode-greedy-algorithms%2F</url>
    <content type="text"><![CDATA[è·³è·ƒæ¸¸æˆ II è·³è·ƒæ¸¸æˆ ç§»æ‰Kä½æ•°å­— åˆ†å‘é¥¼å¹² åˆ¤æ–­å­åºåˆ—ï¼ˆä¸éœ€è¦è¿ç»­ï¼‰ è´ªå¿ƒç®—æ³•å°±æ˜¯æ¯æ¬¡éƒ½è´ªå¿ƒåœ°é€‰æ‹©å½“å‰æœ€å¥½çš„é‚£ä¸ª(å±€éƒ¨æœ€ä¼˜è§£)ï¼Œä¸å»è€ƒè™‘ä»¥åçš„æƒ…å†µï¼Œè€Œä¸”é€‰æ‹©äº†å°±ä¸èƒ½å¤Ÿâ€œåæ‚”â€äº†ï¼Œå¦‚æœåŸé—®é¢˜æ»¡è¶³è´ªå¿ƒé€‰æ‹©æ€§è´¨å’Œæœ€ä¼˜å­ç»“æ„ï¼Œé‚£ä¹ˆæœ€åå¾—åˆ°çš„è§£å°±æ˜¯æœ€ä¼˜è§£ã€‚ æ¯ä¸€æ­¥çš„æœ€ä¼˜è§£ä¸€å®šåŒ…å«ä¸Šä¸€æ­¥çš„æœ€ä¼˜è§£ã€‚ åŒºåˆ«äºå…¶ä»–ç®—æ³•ï¼š åŠ¨æ€è§„åˆ’ï¼šæ¯æ¬¡éƒ½æ˜¯ç»¼åˆæ‰€æœ‰å­é—®é¢˜çš„è§£å¾—åˆ°å½“å‰çš„æœ€ä¼˜è§£(å…¨å±€æœ€ä¼˜è§£)ï¼Œè€Œä¸æ˜¯è´ªå¿ƒåœ°é€‰æ‹©ï¼› å›æº¯æ³•ï¼šå°è¯•é€‰æ‹©ä¸€æ¡è·¯ï¼Œå¦‚æœé€‰æ‹©é”™äº†çš„è¯å¯ä»¥â€œåæ‚”â€ï¼Œä¹Ÿå°±æ˜¯å›è¿‡å¤´æ¥é‡æ–°é€‰æ‹©å…¶ä»–çš„è¯•è¯•ã€‚ 45. è·³è·ƒæ¸¸æˆ II ç»™å®šä¸€ä¸ªéè´Ÿæ•´æ•°æ•°ç»„ï¼Œä½ æœ€åˆä½äºæ•°ç»„çš„ç¬¬ä¸€ä¸ªä½ç½®ã€‚ æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ ä»£è¡¨ä½ åœ¨è¯¥ä½ç½®å¯ä»¥è·³è·ƒçš„æœ€å¤§é•¿åº¦ã€‚ ä½ çš„ç›®æ ‡æ˜¯ä½¿ç”¨æœ€å°‘çš„è·³è·ƒæ¬¡æ•°åˆ°è¾¾æ•°ç»„çš„æœ€åä¸€ä¸ªä½ç½®ã€‚ ç¤ºä¾‹: è¾“å…¥: [2,3,1,1,4] è¾“å‡º: 2 è§£é‡Š: è·³åˆ°æœ€åä¸€ä¸ªä½ç½®çš„æœ€å°è·³è·ƒæ•°æ˜¯ 2ã€‚ ä»ä¸‹æ ‡ä¸º 0 è·³åˆ°ä¸‹æ ‡ä¸º 1 çš„ä½ç½®ï¼Œè·³ 1 æ­¥ï¼Œç„¶åè·³ 3 æ­¥åˆ°è¾¾æ•°ç»„çš„æœ€åä¸€ä¸ªä½ç½®ã€‚ è¯´æ˜: å‡è®¾ä½ æ€»æ˜¯å¯ä»¥åˆ°è¾¾æ•°ç»„çš„æœ€åä¸€ä¸ªä½ç½®ã€‚ æ–¹æ³•ï¼šè´ªå¿ƒç®—æ³• æˆ‘ä»¬æ¯æ¬¡è´ªå¿ƒçš„æ‰¾åœ¨è‡ªå·±å½“å‰èƒ½åˆ°è¾¾çš„å‡ ä¸ªä½ç½®é‡Œé¢ï¼Œè·³åˆ°å“ªä¸ªä½ç½®çš„æ—¶å€™ï¼Œåœ¨ä¸‹ä¸€æ­¥èƒ½è·³çš„æœ€è¿œã€‚ç„¶åï¼Œæˆ‘ä»¬å½“å‰æ­¥å°±è·³åˆ°è¿™ä¸ªä½ç½®ä¸Šå»ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨è¿™ä¸€æ­¥çš„è·³è·ƒæ—¶ï¼Œç»™ä¸‹ä¸€æ­¥ç•™ä¸‹äº†æœ€å¥½çš„ç»“æœã€‚ æ‰€ä»¥ï¼Œä½¿ç”¨ä¸€ä¸ªcurè¡¨ç¤ºå½“å‰æ­¥èƒ½åˆ°è¾¾çš„æœ€è¿œä½ç½®ï¼Œä½¿ç”¨preè¡¨ç¤ºä¸Šä¸€æ¬¡èƒ½åˆ°è¾¾çš„æœ€è¿œä½ç½®ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬åº”è¯¥éå†åœ¨ä¸Šä¸€æ­¥çš„è¦†ç›–èŒƒå›´å†…ï¼Œå½“å‰èƒ½è·³çš„æœ€è¿œä½ç½®æ¥æ›´æ–°curã€‚ä¸€ä¸ªèŠ‚çœè®¡ç®—èµ„æºçš„æ–¹å¼æ˜¯ï¼Œä¿å­˜ä»¥å‰å·²ç»æ£€æŸ¥äº†çš„ä½ç½®ä¸ºPosï¼Œè¿™æ ·æ¯æ¬¡æ£€æŸ¥çš„èŒƒå›´æ˜¯pos~preã€‚ 12345678910111213class Solution: def jump(self, nums: List[int]) -&gt; int: cur = 0 pre = 0 jump = 0 # éœ€è¦è·³è·ƒå¤šå°‘æ¬¡ pos = 0 # å½“å‰çš„ä½ç½® while cur &lt; len(nums)-1: jump +=1 #ä¸€è½®è·³è·ƒä¸€æ­¥ pre = cur # ä¸Šä¸€æ­¥èƒ½è·¨è¶Šæœ€è¿œçš„ä½ç½®ç»™äº†pre while pos &lt;= pre: cur = max(cur,pos+nums[pos]) # curæ˜¯å½“å‰èŒƒå›´å†…èƒ½è·¨è¶Šæœ€è¿œçš„ä½ç½® pos += 1 return jump 55. è·³è·ƒæ¸¸æˆ ç»™å®šä¸€ä¸ªéè´Ÿæ•´æ•°æ•°ç»„ï¼Œä½ æœ€åˆä½äºæ•°ç»„çš„ç¬¬ä¸€ä¸ªä½ç½®ã€‚ æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ ä»£è¡¨ä½ åœ¨è¯¥ä½ç½®å¯ä»¥è·³è·ƒçš„æœ€å¤§é•¿åº¦ã€‚ åˆ¤æ–­ä½ æ˜¯å¦èƒ½å¤Ÿåˆ°è¾¾æœ€åä¸€ä¸ªä½ç½®ã€‚ ç¤ºä¾‹ 1: 123è¾“å…¥: [2,3,1,1,4]è¾“å‡º: trueè§£é‡Š: ä»ä½ç½® 0 åˆ° 1 è·³ 1 æ­¥, ç„¶åè·³ 3 æ­¥åˆ°è¾¾æœ€åä¸€ä¸ªä½ç½®ã€‚ ç¤ºä¾‹ 2: 123è¾“å…¥: [3,2,1,0,4]è¾“å‡º: falseè§£é‡Š: æ— è®ºæ€æ ·ï¼Œä½ æ€»ä¼šåˆ°è¾¾ç´¢å¼•ä¸º 3 çš„ä½ç½®ã€‚ä½†è¯¥ä½ç½®çš„æœ€å¤§è·³è·ƒé•¿åº¦æ˜¯ 0 ï¼Œ æ‰€ä»¥ä½ æ°¸è¿œä¸å¯èƒ½åˆ°è¾¾æœ€åä¸€ä¸ªä½ç½®ã€‚ æ–¹æ³•ï¼šè´ªå¿ƒç®—æ³• ç”¨ä¸€ä¸ªå˜é‡reachä¿å­˜å½“å‰èƒ½åˆ°è¾¾çš„æœ€åä½ç½®ç´¢å¼•ï¼Œé‚£ä¹ˆåœ¨æ¯ä¸ªä½ç½®çš„æ—¶å€™åˆ¤æ–­è¿™ä¸ªä½ç½®èƒ½ä¸èƒ½åˆ°è¾¾ï¼Œå³ä½ç½®çš„ç´¢å¼•å¤§äºäº†reachè¯´æ˜å‰é¢æ— è®ºæ€ä¹ˆèµ°ä¹Ÿèµ°ä¸åˆ°è¿™ä¸ªä½ç½®ï¼Œå°±è¿”å›False 12345678class Solution: def canJump(self, nums: List[int]) -&gt; bool: reach = 0 for i, num in enumerate(nums): if i&gt;reach: return False reach = max(reach, i+num) return True 402. ç§»æ‰Kä½æ•°å­— ç»™å®šä¸€ä¸ªä»¥å­—ç¬¦ä¸²è¡¨ç¤ºçš„éè´Ÿæ•´æ•° numï¼Œç§»é™¤è¿™ä¸ªæ•°ä¸­çš„ k ä½æ•°å­—ï¼Œä½¿å¾—å‰©ä¸‹çš„æ•°å­—æœ€å°ã€‚ æ³¨æ„: num çš„é•¿åº¦å°äº 10002 ä¸” â‰¥ kã€‚ num ä¸ä¼šåŒ…å«ä»»ä½•å‰å¯¼é›¶ã€‚ ç¤ºä¾‹ 1 : 123è¾“å…¥: num = &quot;1432219&quot;, k = 3è¾“å‡º: &quot;1219&quot;è§£é‡Š: ç§»é™¤æ‰ä¸‰ä¸ªæ•°å­— 4, 3, å’Œ 2 å½¢æˆä¸€ä¸ªæ–°çš„æœ€å°çš„æ•°å­— 1219ã€‚ ç¤ºä¾‹ 2 : 123è¾“å…¥: num = &quot;10200&quot;, k = 1è¾“å‡º: &quot;200&quot;è§£é‡Š: ç§»æ‰é¦–ä½çš„ 1 å‰©ä¸‹çš„æ•°å­—ä¸º 200. æ³¨æ„è¾“å‡ºä¸èƒ½æœ‰ä»»ä½•å‰å¯¼é›¶ã€‚ ç¤ºä¾‹ 3 : 123è¾“å…¥: num = &quot;10&quot;, k = 2è¾“å‡º: &quot;0&quot;è§£é‡Š: ä»åŸæ•°å­—ç§»é™¤æ‰€æœ‰çš„æ•°å­—ï¼Œå‰©ä½™ä¸ºç©ºå°±æ˜¯0ã€‚ æ–¹æ³•ï¼šæ ˆ éå†æ•°å­—å­—ç¬¦ä¸²ï¼Œå½“å½“å‰çš„å­—ç¬¦æ¯”æ ˆæœ€åçš„å­—ç¬¦å°çš„æ—¶å€™ï¼Œè¯´æ˜è¦æŠŠæ ˆçš„æœ€åçš„è¿™ä¸ªå­—ç¬¦åˆ é™¤æ‰ã€‚ç„¶åç”¨ç°åœ¨çš„å­—ç¬¦è¿›è¡Œæ›¿æ¢ï¼Œæ˜¯ä¸æ˜¯æ•°å­—æ¯”ä»¥å‰çš„é‚£ç§æƒ…å†µæ›´å°äº†ï¼Ÿæ‰€ä»¥åŒæ ·çš„é“ç†ï¼Œåšä¸€ä¸ªwhileå¾ªç¯ï¼ æœ€åï¼Œå¦‚æœKè¿˜æ²¡ç”¨å®Œï¼Œé‚£è¦åˆ é™¤å“ªé‡Œçš„å­—ç¬¦å‘¢ï¼Ÿæ¯‹åº¸ç½®ç–‘è‚¯å®šæ˜¯æœ€åçš„å­—ç¬¦ï¼Œå› ä¸ºå‰é¢çš„å­—ç¬¦éƒ½æ˜¯å°å­—ç¬¦ã€‚ 1234567891011121314151617181920class Solution: def removeKdigits(self, num: str, k: int) -&gt; str: if len(num) == k: return '0' stack = [] for n in num: # whileæ¯è½®å¾ªç¯åˆ é™¤å±€éƒ¨æœ€å¤§å€¼ while stack and k and int(stack[-1]) &gt; int(n): stack.pop() # åˆ é™¤æ ˆä¸­æœ€å¤§çš„ä¸€ä¸ªå€¼ k -= 1 stack.append(n) # æ ˆé‡Œçš„å€¼ç”±å°åˆ°å¤§,æ–°åŠ å…¥æ ˆçš„å€¼æœ€å¤§ while k: # kè¿˜æœ‰å‰©ä½™ stack.pop() k -= 1 if not stack: return '0' return str(int(''.join(stack))) 455. åˆ†å‘é¥¼å¹² å‡è®¾ä½ æ˜¯ä¸€ä½å¾ˆæ£’çš„å®¶é•¿ï¼Œæƒ³è¦ç»™ä½ çš„å­©å­ä»¬ä¸€äº›å°é¥¼å¹²ã€‚ä½†æ˜¯ï¼Œæ¯ä¸ªå­©å­æœ€å¤šåªèƒ½ç»™ä¸€å—é¥¼å¹²ã€‚å¯¹æ¯ä¸ªå­©å­ i ï¼Œéƒ½æœ‰ä¸€ä¸ªèƒƒå£å€¼ gi ï¼Œè¿™æ˜¯èƒ½è®©å­©å­ä»¬æ»¡è¶³èƒƒå£çš„é¥¼å¹²çš„æœ€å°å°ºå¯¸ï¼›å¹¶ä¸”æ¯å—é¥¼å¹² j ï¼Œéƒ½æœ‰ä¸€ä¸ªå°ºå¯¸ sj ã€‚å¦‚æœ sj &gt;= gi ï¼Œæˆ‘ä»¬å¯ä»¥å°†è¿™ä¸ªé¥¼å¹² j åˆ†é…ç»™å­©å­ i ï¼Œè¿™ä¸ªå­©å­ä¼šå¾—åˆ°æ»¡è¶³ã€‚ä½ çš„ç›®æ ‡æ˜¯å°½å¯èƒ½æ»¡è¶³è¶Šå¤šæ•°é‡çš„å­©å­ï¼Œå¹¶è¾“å‡ºè¿™ä¸ªæœ€å¤§æ•°å€¼ã€‚ æ³¨æ„ï¼š ä½ å¯ä»¥å‡è®¾èƒƒå£å€¼ä¸ºæ­£ã€‚ ä¸€ä¸ªå°æœ‹å‹æœ€å¤šåªèƒ½æ‹¥æœ‰ä¸€å—é¥¼å¹²ã€‚ ç¤ºä¾‹ 1: 12345678è¾“å…¥: [1,2,3], [1,1]è¾“å‡º: 1è§£é‡Š: ä½ æœ‰ä¸‰ä¸ªå­©å­å’Œä¸¤å—å°é¥¼å¹²ï¼Œ3ä¸ªå­©å­çš„èƒƒå£å€¼åˆ†åˆ«æ˜¯ï¼š1,2,3ã€‚è™½ç„¶ä½ æœ‰ä¸¤å—å°é¥¼å¹²ï¼Œç”±äºä»–ä»¬çš„å°ºå¯¸éƒ½æ˜¯1ï¼Œä½ åªèƒ½è®©èƒƒå£å€¼æ˜¯1çš„å­©å­æ»¡è¶³ã€‚æ‰€ä»¥ä½ åº”è¯¥è¾“å‡º1ã€‚ ç¤ºä¾‹ 2: 12345678è¾“å…¥: [1,2], [1,2,3]è¾“å‡º: 2è§£é‡Š: ä½ æœ‰ä¸¤ä¸ªå­©å­å’Œä¸‰å—å°é¥¼å¹²ï¼Œ2ä¸ªå­©å­çš„èƒƒå£å€¼åˆ†åˆ«æ˜¯1,2ã€‚ä½ æ‹¥æœ‰çš„é¥¼å¹²æ•°é‡å’Œå°ºå¯¸éƒ½è¶³ä»¥è®©æ‰€æœ‰å­©å­æ»¡è¶³ã€‚æ‰€ä»¥ä½ åº”è¯¥è¾“å‡º2. æ–¹æ³•ï¼šè´ªå¿ƒç®—æ³• é¦–å…ˆå¯¹è´ªå©ªç³»æ•°gã€é¥¼å¹²å°ºå¯¸sä»å°åˆ°å¤§æ’åº ä»¤æŒ‡é’ˆiæŒ‡å‘gçš„æœ«å°¾ï¼ŒæŒ‡é’ˆjæŒ‡å‘sçš„æœ«å°¾ å½“gå’Œså‡â‰¥0æ—¶ï¼Œæ‰§è¡Œå¾ªç¯ï¼š è‹¥g[i] â‰¤ s[j] åˆ™ä»¤è®¡æ•°å™¨+1ï¼Œå¹¶ä»¤j -= 1 ï¼ˆå°†jå·é¥¼å¹²åˆ†é…ç»™iå·å­©å­ï¼Œå¹¶ä»¤jæŒ‡å‘ä¸‹ä¸€ä¸ªæ›´å°çš„é¥¼å¹²ï¼‰ ä»¤i -= 1 ï¼ˆå°†iæŒ‡å‘ä¸‹ä¸€ä¸ªè´ªå©ªç³»æ•°æ›´å°çš„å­©å­ï¼‰ 123456789101112class Solution: def findContentChildren(self, g: List[int], s: List[int]) -&gt; int: g.sort() s.sort() # æ’åº cnt = 0 i, j = len(g) - 1, len(s) - 1 while min(i, j) &gt;= 0: if g[i] &lt;= s[j]: cnt += 1 j -= 1 #ä¸‹ä¸€ä¸ªæ›´å°çš„é¥¼å¹² i -= 1 #ä¸‹ä¸€ä¸ªèƒƒå£æ›´å°çš„å­©å­ return cnt 392. åˆ¤æ–­å­åºåˆ— æ–¹æ³•]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>LeetCode</tag>
        <tag>è´ªå¿ƒç®—æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[pythonè§£leetcodeå­—ç¬¦ä¸²(2)]]></title>
    <url>%2F2019%2F07%2F02%2Fpython_leetcode-string(2)%2F</url>
    <content type="text"><![CDATA[æœ€é•¿å›æ–‡å­ä¸² æœ€é•¿å…¬å…±å‰ç¼€ æŠ¥æ•° å­—ç¬¦ä¸²ç›¸ä¹˜ æœ€åä¸€ä¸ªå•è¯çš„é•¿åº¦ äºŒè¿›åˆ¶æ±‚å’Œ éªŒè¯å›æ–‡ä¸² åè½¬å­—ç¬¦ä¸²ä¸­çš„å…ƒéŸ³å­—æ¯ èµé‡‘ä¿¡ 5. æœ€é•¿å›æ–‡å­ä¸² æœ€é•¿å›æ–‡å­ä¸² ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² sï¼Œæ‰¾åˆ° s ä¸­æœ€é•¿çš„å›æ–‡å­ä¸²ã€‚ä½ å¯ä»¥å‡è®¾ s çš„æœ€å¤§é•¿åº¦ä¸º 1000ã€‚ ç¤ºä¾‹ 1ï¼š 123è¾“å…¥: â€œbabadâ€è¾“å‡º: â€œbabâ€æ³¨æ„: â€œabaâ€ ä¹Ÿæ˜¯ä¸€ä¸ªæœ‰æ•ˆç­”æ¡ˆã€‚ ç¤ºä¾‹ 2ï¼š 12è¾“å…¥: â€œcbbdâ€è¾“å‡º: â€œbbâ€ æ–¹æ³•ï¼šé©¬æ‹‰è½¦ç®—æ³• é©¬æ‹‰è½¦ç®—æ³•(Manacherâ€™s algorithm)æ˜¯ç”¨æ¥æŸ¥æ‰¾ä¸€ä¸ªå­—ç¬¦ä¸²çš„æœ€é•¿å›æ–‡å­ä¸²çš„çº¿æ€§æ–¹æ³•ï¼Œç”±ä¸€ä¸ªå«Manacherçš„äººåœ¨1975å¹´å‘æ˜çš„ï¼Œè¿™ä¸ªæ–¹æ³•çš„æœ€å¤§è´¡çŒ®æ˜¯åœ¨äºå°†æ—¶é—´å¤æ‚åº¦æå‡åˆ°äº†çº¿æ€§ï¼Œè¿™æ˜¯éå¸¸äº†ä¸èµ·çš„ã€‚ æ€è·¯ï¼š å¯¹å­—ç¬¦ä¸²è¿›è¡Œé¢„å¤„ç†ï¼Œä¸¤ä¸ªå­—ç¬¦ä¹‹é—´åŠ ä¸Šç‰¹æ®Šç¬¦å· # ç”¨ä¸€ä¸ªåˆ—è¡¨ P æ¥è®°å½•ä»¥æ¯ä¸ªå­—ç¬¦ i ä¸ºä¸­å¿ƒçš„å›æ–‡é•¿åº¦ï¼Œ éå†æ•´ä¸ªå­—ç¬¦ä¸²ï¼š æ¯”è¾ƒ è‹¥ i å°äºæœ€å³è¾¹ç•Œï¼šé‚£å°±æ‰¾å®ƒç›¸å¯¹içš„å¯¹ç§°ä½ç½®ï¼Œå¾—å‡ºå›æ–‡é•¿åº¦ï¼Œè¦æ˜¯å¯¹ç§°ä½ç½®çš„å›æ–‡é•¿åº¦æ›´é•¿ï¼Œåˆ™é€‰æ‹©æ›´å°çš„ å³è¾¹ç•Œ-i, å¦åˆ™ P[i] å°±å–ä¸º0 +1å¾ªç¯ï¼Œæ‰©å±•æ¢ç´¢ i çš„è¾¹ç•Œ å¦‚æœå®ƒçš„è¾¹ç•Œè¶…è¿‡å³è¾¹ç•Œï¼Œåˆ™å–è€Œä»£ä¹‹ æœ€åå–å¾—æœ€é•¿å›æ–‡ã€‚ 123456789101112131415161718192021222324252627282930313233343536class Solution: def longestPalindrome(self, s): """ :type s: str :rtype: str """ def preProcess(s): if not s: return ['^', '$'] T = ['^'] for c in s: T += ['#', c] T += ['#', '$'] return T T = preProcess(s) P = [0] * len(T) center, right = 0, 0 for i in range(1, len(T)-1): i_mirror = 2 * center-i if right &gt; i: P[i] = min(right-i, P[i_mirror]) else: P[i] = 0 while T[i + 1 + P[i]] == T[i - 1 - P[i]]: P[i] += 1 if i + P[i] &gt; right: center, right = i, i+P[i] max_i = 0 for i in range(1, len(T)-1): if P[i] &gt; P[max_i]: max_i = i start = round((max_i - 1 - P[max_i]) / 2) return s[start : start + P[max_i]] Time Complexity: O(n) Auxiliary Space: O(n) 14. æœ€é•¿å…¬å…±å‰ç¼€ ç¼–å†™ä¸€ä¸ªå‡½æ•°æ¥æŸ¥æ‰¾å­—ç¬¦ä¸²æ•°ç»„ä¸­çš„æœ€é•¿å…¬å…±å‰ç¼€ã€‚ å¦‚æœä¸å­˜åœ¨å…¬å…±å‰ç¼€ï¼Œè¿”å›ç©ºå­—ç¬¦ä¸² â€œâ€ã€‚ ç¤ºä¾‹ 1: 12è¾“å…¥: [â€œflowerâ€,â€œflowâ€,â€œflightâ€]è¾“å‡º: â€œflâ€ ç¤ºä¾‹ 2: 123è¾“å…¥: [â€œdogâ€,â€œracecarâ€,â€œcarâ€]è¾“å‡º: â€œâ€è§£é‡Š: è¾“å…¥ä¸å­˜åœ¨å…¬å…±å‰ç¼€ã€‚ è¯´æ˜:æ‰€æœ‰è¾“å…¥åªåŒ…å«å°å†™å­—æ¯ a-z ã€‚ æ–¹æ³•ï¼šç”¨ zip() å’Œ set() å‡½æ•° å¦‚æœset()çš„é•¿åº¦å¤§äº1ï¼Œåˆ™è¿”å›å½“å‰çš„æœ€é•¿å…¬å…±å‰ç¼€ã€‚enumerate(zip(*strs)) è¿”å›æ¯ä¸ªå•è¯çš„å­—ç¬¦åºå·å’Œå…ƒç»„ã€‚ 123456789101112class Solution: def longestCommonPrefix(self, strs): """ :type strs: List[str] :rtype: str """ if not strs: return "" for i, letter_group in enumerate(zip(*strs)): if len(set(letter_group)) &gt; 1: return strs[0][:i] return min(strs) Time Complexity: O(n) 38. æŠ¥æ•° æŠ¥æ•°åºåˆ—æ˜¯ä¸€ä¸ªæ•´æ•°åºåˆ—ï¼ŒæŒ‰ç…§å…¶ä¸­çš„æ•´æ•°çš„é¡ºåºè¿›è¡ŒæŠ¥æ•°ï¼Œå¾—åˆ°ä¸‹ä¸€ä¸ªæ•°ã€‚å…¶å‰äº”é¡¹å¦‚ä¸‹ï¼š 123451. 12. 113. 214. 12115. 111221 1 è¢«è¯»ä½œ â€œone 1â€ (â€œä¸€ä¸ªä¸€â€) , å³ 11ã€‚ 11 è¢«è¯»ä½œ â€œtwo 1sâ€ (â€œä¸¤ä¸ªä¸€â€ï¼‰, å³ 21ã€‚ 21 è¢«è¯»ä½œ â€œone 2â€, â€œone 1â€ ï¼ˆâ€œä¸€ä¸ªäºŒâ€ , â€œä¸€ä¸ªä¸€â€) , å³ 1211ã€‚ ç»™å®šä¸€ä¸ªæ­£æ•´æ•° nï¼ˆ1 â‰¤ n â‰¤ 30ï¼‰ï¼Œè¾“å‡ºæŠ¥æ•°åºåˆ—çš„ç¬¬ n é¡¹ã€‚ æ³¨æ„ï¼šæ•´æ•°é¡ºåºå°†è¡¨ç¤ºä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ã€‚ ç¤ºä¾‹ 1: 12è¾“å…¥: 1è¾“å‡º: &quot;1&quot; ç¤ºä¾‹ 2: 12è¾“å…¥: 4è¾“å‡º: &quot;1211&quot; æ–¹æ³• å¤–å¾ªç¯éå†åºæ•°ï¼Œå†…å¾ªç¯ç»Ÿè®¡ä¸ªæ•°å’Œè¿æ¥å­—ç¬¦ä¸² 1234567891011121314151617181920class Solution: def countAndSay(self, n: int) -&gt; str: res = '1' for i in range(n-1): pre = res[0] # åˆå§‹åŒ– count = 1 ans = '' # å¯¹ä¸Šä¸€ç»“æœè¿›è¡Œè®¡æ•°å’Œæ‹¼æ¥å­—ç¬¦ for j in range(1, len(res)): cur = res[j] # éå†resä¸­çš„å­—ç¬¦æ¥ç»Ÿè®¡ä¸ªæ•° if cur == pre: count +=1 else: ans = ans + str(count) + str(pre) pre = cur count = 1 res = ans + str(count) + str(pre) # æ‹¼æ¥jå¾ªç¯çš„æœ€åä¸€ä¸ªå­—ç¬¦ return res 43. å­—ç¬¦ä¸²ç›¸ä¹˜ ç»™å®šä¸¤ä¸ªä»¥å­—ç¬¦ä¸²å½¢å¼è¡¨ç¤ºçš„éè´Ÿæ•´æ•° num1 å’Œ num2ï¼Œè¿”å› num1 å’Œ num2 çš„ä¹˜ç§¯ï¼Œå®ƒä»¬çš„ä¹˜ç§¯ä¹Ÿè¡¨ç¤ºä¸ºå­—ç¬¦ä¸²å½¢å¼ã€‚ ç¤ºä¾‹ 1: 12è¾“å…¥: num1 = â€œ2â€, num2 = â€œ3â€è¾“å‡º: â€œ6â€ ç¤ºä¾‹ 2: 12è¾“å…¥: num1 = â€œ123â€, num2 = â€œ456â€è¾“å‡º: â€œ56088â€ è¯´æ˜ï¼š num1 å’Œ num2 çš„é•¿åº¦å°äº110ã€‚ num1 å’Œ num2 åªåŒ…å«æ•°å­— 0-9ã€‚ num1 å’Œ num2 å‡ä¸ä»¥é›¶å¼€å¤´ï¼Œé™¤éæ˜¯æ•°å­— 0 æœ¬èº«ã€‚ ä¸èƒ½ä½¿ç”¨ä»»ä½•æ ‡å‡†åº“çš„å¤§æ•°ç±»å‹ï¼ˆæ¯”å¦‚ BigIntegerï¼‰æˆ–ç›´æ¥å°†è¾“å…¥è½¬æ¢ä¸ºæ•´æ•°æ¥å¤„ç†ã€‚ æ–¹æ³• æŒ‰ä¹˜æ³•è¿ç®—çš„æ–¹å¼æ¥å®ç° 123456789101112131415161718class Solution: def multiply(self, num1: str, num2: str) -&gt; str: res = [0] * (len(num1) + len(num2)) # åˆå§‹åŒ–ï¼Œå­˜æ”¾ä¹˜ç§¯çš„æ•°ç»„ pos = len(res) - 1 for n1 in reversed(num1): tempPos = pos for n2 in reversed(num2): res[tempPos] += int(n1) * int(n2) res[tempPos - 1] += res[tempPos] // 10 # è¿›ä½ res[tempPos] %= 10 # å–ä½™ tempPos -= 1 pos -= 1 st = 0 while st &lt; len(res) - 1 and res[st] == 0: # ç»Ÿè®¡å‰é¢æœ‰å‡ ä¸ª0 st += 1 return ''.join(map(str, res[st:])) # å»æ‰0ï¼Œå˜æˆå­—ç¬¦ä¸² 58. æœ€åä¸€ä¸ªå•è¯çš„é•¿åº¦ ç»™å®šä¸€ä¸ªä»…åŒ…å«å¤§å°å†™å­—æ¯å’Œç©ºæ ¼ â€™ â€™ çš„å­—ç¬¦ä¸²ï¼Œè¿”å›å…¶æœ€åä¸€ä¸ªå•è¯çš„é•¿åº¦ã€‚ å¦‚æœä¸å­˜åœ¨æœ€åä¸€ä¸ªå•è¯ï¼Œè¯·è¿”å› 0 ã€‚ è¯´æ˜ï¼šä¸€ä¸ªå•è¯æ˜¯æŒ‡ç”±å­—æ¯ç»„æˆï¼Œä½†ä¸åŒ…å«ä»»ä½•ç©ºæ ¼çš„å­—ç¬¦ä¸²ã€‚ ç¤ºä¾‹: è¾“å…¥: â€œHello Worldâ€ è¾“å‡º: 5 æ–¹æ³•ï¼šåº“å‡½æ•° 123class Solution: def lengthOfLastWord(self, s: str) -&gt; int: return len(s.strip().split(' ')[-1]) 67. äºŒè¿›åˆ¶æ±‚å’Œ ç»™å®šä¸¤ä¸ªäºŒè¿›åˆ¶å­—ç¬¦ä¸²ï¼Œè¿”å›ä»–ä»¬çš„å’Œï¼ˆç”¨äºŒè¿›åˆ¶è¡¨ç¤ºï¼‰ã€‚ è¾“å…¥ä¸ºéç©ºå­—ç¬¦ä¸²ä¸”åªåŒ…å«æ•°å­— 1 å’Œ 0ã€‚ ç¤ºä¾‹ 1: 12è¾“å…¥: a = &quot;11&quot;, b = &quot;1&quot;è¾“å‡º: &quot;100&quot; ç¤ºä¾‹ 2: 12è¾“å…¥: a = &quot;1010&quot;, b = &quot;1011&quot;è¾“å‡º: &quot;10101&quot; æ–¹æ³•ï¼šè¿›åˆ¶è½¬æ¢å‡½æ•° å…ˆå°†ä¸¤ä¸ªåŠ æ•°è½¬æˆ10è¿›åˆ¶ï¼Œå†æŠŠå’Œè½¬æ¢æˆäºŒè¿›åˆ¶è¿”å›å³å¯ã€‚è™½ç„¶é€Ÿåº¦è¿˜æŒºå¿«çš„ï¼Œä½†è¿™ä¹ˆåšå¿½ç•¥äº†å¯èƒ½çš„å¤§æ•´æ•°ç›¸åŠ çš„ç»†èŠ‚ï¼ˆå› ä¸ºPythonå¸®ä½ å¤„ç†äº†ï¼‰ã€‚ 123class Solution: def addBinary(self, a: str, b: str) -&gt; str: return bin(int(a,2) + int(b,2))[2:] 125. éªŒè¯å›æ–‡ä¸² ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²ï¼ŒéªŒè¯å®ƒæ˜¯å¦æ˜¯å›æ–‡ä¸²ï¼Œåªè€ƒè™‘å­—æ¯å’Œæ•°å­—å­—ç¬¦ï¼Œå¯ä»¥å¿½ç•¥å­—æ¯çš„å¤§å°å†™ã€‚ è¯´æ˜ï¼šæœ¬é¢˜ä¸­ï¼Œæˆ‘ä»¬å°†ç©ºå­—ç¬¦ä¸²å®šä¹‰ä¸ºæœ‰æ•ˆçš„å›æ–‡ä¸²ã€‚ ç¤ºä¾‹ 1: 12è¾“å…¥: &quot;A man, a plan, a canal: Panama&quot;è¾“å‡º: true ç¤ºä¾‹ 2: 12è¾“å…¥: &quot;race a car&quot;è¾“å‡º: false æ–¹æ³•ï¼šåˆ—è¡¨ç”Ÿæˆå¼ isalnum()èƒ½åˆ¤æ–­å­—ç¬¦æ˜¯ä¸æ˜¯å­—æ¯æ•°å­—çš„ï¼Œç”¨åˆ—è¡¨è¡¨è¾¾å¼å°±èƒ½äº§ç”Ÿæœ‰æ•ˆå­—ç¬¦ä¸²ï¼Œç„¶åå°±å¯ä»¥çœ‹æ˜¯ä¸æ˜¯å›æ–‡ã€‚ 12345class Solution: def isPalindrome(self, s: str) -&gt; bool: isvalid = lambda x : x == x[::-1] string = ''.join([x for x in s.lower() if x.isalnum()]) return isvalid(string) æ–¹æ³•ï¼šæ­£åˆ™è¡¨è¾¾å¼ æ›¿æ¢éå­—æ¯æ•°å­—å­—ç¬¦ 1234567891011121314class Solution: def isPalindrome(self, s: str) -&gt; bool: s = s.lower() s = re.sub('\W', '', s) # æ­£åˆ™ subæ›¿æ¢, \WåŒ¹é…ä»»ä½•éå•è¯å­—ç¬¦ã€‚ç­‰ä»·äº '[^A-Za-z0-9_]'ã€‚ N = len(s) left, right = 0, N-1 while left &lt;= right: if s[left] != s[right]: return False left += 1 right -= 1 return True 345. åè½¬å­—ç¬¦ä¸²ä¸­çš„å…ƒéŸ³å­—æ¯ ç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼Œä»¥å­—ç¬¦ä¸²ä½œä¸ºè¾“å…¥ï¼Œåè½¬è¯¥å­—ç¬¦ä¸²ä¸­çš„å…ƒéŸ³å­—æ¯ã€‚ ç¤ºä¾‹ 1: 12è¾“å…¥: &quot;hello&quot;è¾“å‡º: &quot;holle&quot; ç¤ºä¾‹ 2: 12è¾“å…¥: &quot;leetcode&quot;è¾“å‡º: &quot;leotcede&quot; è¯´æ˜: å…ƒéŸ³å­—æ¯ä¸åŒ…å«å­—æ¯â€œyâ€ã€‚ æ–¹æ³•ï¼šæ ˆ è¿™ä¸ªé¢˜çš„æ„æ€æ˜¯æŠŠæ”¶å°¾å‘ä¸­é—´èµ°çš„æ—¶å€™é‡åˆ°çš„æ‰€æœ‰å…ƒéŸ³å­—ç¬¦æ¢ä½ç½®ã€‚ä¹Ÿå°±æ˜¯è¯´ â€œabecuiâ€â€“&gt;â€œibuceaâ€; æŠŠæŸä¸ªä¸œè¥¿è¿›è¡Œç¿»è½¬ï¼Œå¾ˆå®¹æ˜“æƒ³åˆ°æ ˆã€‚æ‰€ä»¥æŠŠå…ƒéŸ³å­—ç¬¦è¿›æ ˆï¼Œå†æ¬¡éå†çš„æ—¶å€™é‡åˆ°å…ƒéŸ³å­—ç¬¦å°±å‡ºæ ˆå³å¯ã€‚ 123456789101112131415class Solution: def reverseVowels(self, s: str) -&gt; str: vstack = [] for c in s: if c in "aeiouAEIOU": vstack.append(c) res = [] for c in s: if c in "aeiouAEIOU": res.append(vstack.pop()) else: res.append(c) return ''.join(res) 383. èµé‡‘ä¿¡ ç»™å®šä¸€ä¸ªèµé‡‘ä¿¡ (ransom) å­—ç¬¦ä¸²å’Œä¸€ä¸ªæ‚å¿—(magazine)å­—ç¬¦ä¸²ï¼Œåˆ¤æ–­ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²ransomèƒ½ä¸èƒ½ç”±ç¬¬äºŒä¸ªå­—ç¬¦ä¸²magazinesé‡Œé¢çš„å­—ç¬¦æ„æˆã€‚å¦‚æœå¯ä»¥æ„æˆï¼Œè¿”å› true ï¼›å¦åˆ™è¿”å› falseã€‚ (é¢˜ç›®è¯´æ˜ï¼šä¸ºäº†ä¸æš´éœ²èµé‡‘ä¿¡å­—è¿¹ï¼Œè¦ä»æ‚å¿—ä¸Šæœç´¢å„ä¸ªéœ€è¦çš„å­—æ¯ï¼Œç»„æˆå•è¯æ¥è¡¨è¾¾æ„æ€ã€‚) æ³¨æ„ï¼š ä½ å¯ä»¥å‡è®¾ä¸¤ä¸ªå­—ç¬¦ä¸²å‡åªå«æœ‰å°å†™å­—æ¯ã€‚ 123canConstruct(&quot;a&quot;, &quot;b&quot;) -&gt; falsecanConstruct(&quot;aa&quot;, &quot;ab&quot;) -&gt; falsecanConstruct(&quot;aa&quot;, &quot;aab&quot;) -&gt; true æ–¹æ³• ç›´æ¥Counterï¼Œç„¶ååˆ¤æ–­å‰è€…çš„æ¯ä¸ªå­—ç¬¦å‡ºç°æ¬¡æ•°éƒ½å°äºåè€…å³å¯ã€‚ 12345678class Solution: def canConstruct(self, ransomNote: str, magazine: str) -&gt; bool: rcount = collections.Counter(ransomNote) mcount = collections.Counter(magazine) for r, c in rcount.items(): if c &gt; mcount[r]: return False return True å‚è€ƒ LeetCode003:æœ€é•¿å›æ–‡å­—ç¬¦-è€è¡¨Pro]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>LeetCode</tag>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>å­—ç¬¦ä¸²</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[pythonè§£leetcodeäºŒå‰æ ‘(2)]]></title>
    <url>%2F2019%2F06%2F21%2Fpython_leetcode-binary-tree(2)%2F</url>
    <content type="text"><![CDATA[ç›¸åŒçš„æ ‘ (ä¸¤æ£µæ ‘æ˜¯å¦ç›¸åŒ) å¯¹ç§°äºŒå‰æ ‘ ï¼ˆä¸€ä¸ªäºŒå‰æ ‘æ˜¯å¦å¯¹ç§°ï¼‰ äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦ äºŒå‰æ ‘çš„æœ€å°æ·±åº¦ è·¯å¾„æ€»å’Œ (æ‰¾å‡ºæ ‘çš„ä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´çš„æœ€é•¿è·ç¦») è·¯å¾„æ€»å’Œ II ï¼ˆæ‰¾å‡ºå’Œä¸ºæŸä¸€å€¼çš„è·¯å¾„ï¼‰ äºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œ è·¯å¾„æ€»å’Œ III æ±‚æ ¹åˆ°å¶å­èŠ‚ç‚¹æ•°å­—ä¹‹å’Œï¼ˆæ‰¾æ‰€æœ‰è·¯å¾„ï¼‰ äºŒå‰æ ‘çš„æ‰€æœ‰è·¯å¾„ äºŒå‰æ ‘çš„ç›´å¾„ æœ€é•¿åŒå€¼è·¯å¾„ äºŒå‰æœç´¢æ ‘ç»“ç‚¹æœ€å°è·ç¦» äºŒå‰æœç´¢æ ‘çš„èŒƒå›´å’Œ 100. ç›¸åŒçš„æ ‘ ç»™å®šä¸¤ä¸ªäºŒå‰æ ‘ï¼Œç¼–å†™ä¸€ä¸ªå‡½æ•°æ¥æ£€éªŒå®ƒä»¬æ˜¯å¦ç›¸åŒã€‚ å¦‚æœä¸¤ä¸ªæ ‘åœ¨ç»“æ„ä¸Šç›¸åŒï¼Œå¹¶ä¸”èŠ‚ç‚¹å…·æœ‰ç›¸åŒçš„å€¼ï¼Œåˆ™è®¤ä¸ºå®ƒä»¬æ˜¯ç›¸åŒçš„ã€‚ ç¤ºä¾‹ 1: 1234567è¾“å…¥: 1 1 / \ / \ 2 3 2 3 [1,2,3], [1,2,3]è¾“å‡º: true ç¤ºä¾‹ 2: 1234567è¾“å…¥: 1 1 / \ 2 2 [1,2], [1,null,2]è¾“å‡º: false ç¤ºä¾‹ 3: 1234567è¾“å…¥: 1 1 / \ / \ 2 1 1 2 [1,2,1], [1,1,2]è¾“å‡º: false æ–¹æ³•:é€’å½’ 1234567891011121314151617# Definition for a binary tree node.# class TreeNode:# def __init__(self, x):# self.val = x# self.left = None# self.right = Noneclass Solution: def isSameTree(self, p: TreeNode, q: TreeNode) -&gt; bool: if not p and not q: return True if not p or not q: return False if p.val == q.val: return self.isSameTree(p.left, q.left) and self.isSameTree(p.right, q.right) else: return False 101. å¯¹ç§°äºŒå‰æ ‘ ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œæ£€æŸ¥å®ƒæ˜¯å¦æ˜¯é•œåƒå¯¹ç§°çš„ã€‚ ä¾‹å¦‚ï¼ŒäºŒå‰æ ‘ [1,2,2,3,4,4,3] æ˜¯å¯¹ç§°çš„ã€‚ 12345 1 / \ 2 2 / \ / \3 4 4 3 ä½†æ˜¯ä¸‹é¢è¿™ä¸ª [1,2,2,null,3,null,3] åˆ™ä¸æ˜¯é•œåƒå¯¹ç§°çš„: 12345 1 / \2 2 \ \ 3 3 æ–¹æ³•ä¸€ï¼šDFS ä¸€ä¸ªäºŒå‰æ ‘éå†çš„è¿‡ç¨‹ä¸­ä¸ä¸€å®šä¸€å®šåªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œä¹Ÿå¯ä»¥åŒæ—¶ä¼ äº†ä¸¤ä¸ªå‚æ•°åˆ†åˆ«æ˜¯å·¦å³å¥½å¤„æ˜¯å¯ä»¥ç›´æ¥æ¯”è¾ƒï¼Œå½“ç„¶è¿™ä¸ªæ—¶å€™éœ€è¦æŠŠrootæ”¾åˆ°ä¸¤ä¸ªå‚æ•°ä¸Šè¿›è¡Œæ¯”è¾ƒã€‚ é€’å½’å¾ˆé‡è¦çš„ä¸€éƒ¨åˆ†æ˜¯ç»ˆæ­¢æ¡ä»¶çš„ç¡®å®šã€‚ 123456789101112131415class Solution: def isSymmetric(self, root: TreeNode) -&gt; bool: if not root: return True return self.isMirror(root.left, root.right) def isMirror(self, left, right): if not left and not right: return True if not left or not right: return False if left.val != right.val: return False return self.isMirror(left.left, right.right) and self.isMirror(left.right, right.left) 104.äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦ LeetCode 104. Maximum Depth of Binary Tree ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œæ‰¾å‡ºå…¶æœ€å¤§æ·±åº¦ã€‚ äºŒå‰æ ‘çš„æ·±åº¦ä¸ºæ ¹èŠ‚ç‚¹åˆ°æœ€è¿œå¶å­èŠ‚ç‚¹çš„æœ€é•¿è·¯å¾„ä¸Šçš„èŠ‚ç‚¹æ•°ã€‚ è¯´æ˜: å¶å­èŠ‚ç‚¹æ˜¯æŒ‡æ²¡æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ã€‚ ç¤ºä¾‹ï¼š ç»™å®šäºŒå‰æ ‘ [3,9,20,null,null,15,7]ï¼Œ 12345 3 / \9 20 / \ 15 7 è¿”å›å®ƒçš„æœ€å¤§æ·±åº¦ 3 ã€‚ æ–¹æ³•ä¸€ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢ æ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDFSï¼‰ï¼Œé€’å½’æ±‚è§£ã€‚ 12345class Solution: def maxDepth(self, root: TreeNode) -&gt; int: if not root: return 0 return 1 + max(self.maxDepth(root.left), self.maxDepth(root.right)) æ–¹æ³•äºŒï¼šå¹¿åº¦ä¼˜å…ˆæœç´¢ å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆBFSï¼‰ï¼Œåˆ©ç”¨é˜Ÿåˆ—æ±‚è§£ã€‚ 12345678910111213141516class Solution: def maxDepth(self, root: TreeNode) -&gt; int: if not root: return 0 depth = 0 q = [root] while len(q) != 0: depth += 1 for _ in range(len(q)): if q[0].left: q.append(q[0].left) if q[0].right: q.append(q[0].right) del q[0] return depth 111. äºŒå‰æ ‘çš„æœ€å°æ·±åº¦ ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œæ‰¾å‡ºå…¶æœ€å°æ·±åº¦ã€‚ æœ€å°æ·±åº¦æ˜¯ä»æ ¹èŠ‚ç‚¹åˆ°æœ€è¿‘å¶å­èŠ‚ç‚¹çš„æœ€çŸ­è·¯å¾„ä¸Šçš„èŠ‚ç‚¹æ•°é‡ã€‚ è¯´æ˜: å¶å­èŠ‚ç‚¹æ˜¯æŒ‡æ²¡æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ã€‚ ç¤ºä¾‹: 12345678ç»™å®šäºŒå‰æ ‘ [3,9,20,null,null,15,7], 3 / \ 9 20 / \ 15 7è¿”å›å®ƒçš„æœ€å°æ·±åº¦ 2. æ–¹æ³•ï¼šé€’å½’ + BFS å‘ç°è¿™å±‚æœ‰ä¸ªå¶å­çš„è¯ï¼Œå°±ç›´æ¥è¿”å›å°±è¡Œäº† å¶å­çš„æ·±åº¦æ˜¯1 1234567891011class Solution: def minDepth(self, root: TreeNode) -&gt; int: if not root: return 0 # å½“rootä¸ºç©ºçš„æ—¶å€™ç›´æ¥è¿”å›0 left = self.minDepth(root.left) right = self.minDepth(root.right) if not left:# åˆ¤æ–­æ ‘çš„æ·±åº¦åº”è¯¥åˆ°å¶å­èŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯å·¦å³å­ç»“ç‚¹éƒ½ä¸ºç©ºçš„é‚£ä¸ªç»“ç‚¹ return right + 1 if not right: return left + 1 return 1 + min(left, right) 112.è·¯å¾„æ€»å’Œ LeetCode 112. Path Sum ç»™å®šä¸€ä¸ªäºŒå‰æ ‘å’Œä¸€ä¸ªç›®æ ‡å’Œï¼Œåˆ¤æ–­è¯¥æ ‘ä¸­æ˜¯å¦å­˜åœ¨æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹çš„è·¯å¾„ï¼Œè¿™æ¡è·¯å¾„ä¸Šæ‰€æœ‰èŠ‚ç‚¹å€¼ç›¸åŠ ç­‰äºç›®æ ‡å’Œã€‚ è¯´æ˜: å¶å­èŠ‚ç‚¹æ˜¯æŒ‡æ²¡æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ã€‚ ç¤ºä¾‹: ç»™å®šå¦‚ä¸‹äºŒå‰æ ‘ï¼Œä»¥åŠç›®æ ‡å’Œ sum = 22ï¼Œ 1234567 5 / \ 4 8 / / \ 11 13 4 / \ \7 2 1 è¿”å› true, å› ä¸ºå­˜åœ¨ç›®æ ‡å’Œä¸º 22 çš„æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹çš„è·¯å¾„ 5-&gt;4-&gt;11-&gt;2ã€‚ æ–¹æ³•ä¸€ï¼šDFS + é€’å½’ ç”¨æ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDFSï¼‰éå†æ‰€æœ‰å¯èƒ½çš„ä»æ ¹åˆ°å¶çš„è·¯å¾„ï¼Œè¦æ³¨æ„æ¯æ·±ä¸€å±‚è¦ä»å’Œä¸­å‡å»ç›¸åº”èŠ‚ç‚¹çš„æ•°å€¼ã€‚ä¸‹é¢æ˜¯é€’å½’å®ç°çš„ä»£ç ã€‚ 12345678class Solution: def hasPathSum(self, root: TreeNode, sum: int) -&gt; bool: if not root: return False if root.left or root.right: return self.hasPathSum(root.left, sum-root.val) or self.hasPathSum(root.right, sum-root.val) else: return True if sum == root.val else False æ–¹æ³•äºŒï¼šDFS + æ ˆ DFSçš„éé€’å½’å®ç°ï¼Œç”¨æ ˆå®ç°ã€‚ 1234567891011class Solution: def hasPathSum(self, root: TreeNode, sum: int) -&gt; bool: stack = [(root, sum)] while len(stack) != 0: node, tmp_sum = stack.pop() if node: if not node.left and not node.right and node.val == tmp_sum: return True stack.append((node.right, tmp_sum-node.val)) stack.append((node.left, tmp_sum-node.val)) return False æ–¹æ³•ä¸‰ï¼šBFS + é˜Ÿåˆ— 1234567891011class Solution: def hasPathSum(self, root: TreeNode, sum: int) -&gt; bool: queue = [(root, sum)] while len(queue) != 0: node, tmp_sum = queue.pop() if node: if not node.left and not node.right and node.val == tmp_sum: return True queue.insert(0, (node.right, tmp_sum-node.val)) queue.insert(0, (node.left, tmp_sum-node.val)) return False æ–¹æ³•å››ï¼šååºéå† + æ ˆ ç›´æ¥å°†è·¯å¾„ä¿å­˜åœ¨æ ˆä¸­ï¼Œæ¯æ¬¡è¿›å…¥ä¸åŒçš„å±‚ä¸éœ€è¦è®°å½•å½“å‰çš„å’Œ 123456789101112131415161718192021class Solution: def hasPathSum(self, root: TreeNode, sum: int) -&gt; bool: pre, cur = None, root tmp_sum = 0 stack = [] while cur or len(stack) &gt; 0: while cur: stack.append(cur) tmp_sum += cur.val cur = cur.left # æœ€å·¦å­æ ‘ cur = stack[-1] if not cur.left and not cur.right and tmp_sum == sum: return True if cur.right and pre != cur.right: cur = cur.right # å³å­æ ‘ else: pre = cur stack.pop() # å·¦å­æ ‘ tmp_sum -= cur.val cur = None return False 113. è·¯å¾„æ€»å’Œ II ç»™å®šä¸€ä¸ªäºŒå‰æ ‘å’Œä¸€ä¸ªç›®æ ‡å’Œï¼Œæ‰¾åˆ°æ‰€æœ‰ä»æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹è·¯å¾„æ€»å’Œç­‰äºç»™å®šç›®æ ‡å’Œçš„è·¯å¾„ã€‚ è¯´æ˜: å¶å­èŠ‚ç‚¹æ˜¯æŒ‡æ²¡æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ã€‚ ç¤ºä¾‹: 123456789101112131415ç»™å®šå¦‚ä¸‹äºŒå‰æ ‘ï¼Œä»¥åŠç›®æ ‡å’Œ sum = 22ï¼Œ 5 / \ 4 8 / / \ 11 13 4 / \ / \ 7 2 5 1è¿”å›:[ [5,4,11,2], [5,8,4,5]] æ–¹æ³•:å›æº¯ æ³¨æ„pathä¼ å‚ï¼Œè¦å†™æˆpath[:] 12345678910111213141516class Solution: def pathSum(self, root: TreeNode, sum: int) -&gt; List[List[int]]: res = [] self.dfs(root,sum,res,[]) return res def dfs(self, root, target, res, path): if not root:return path += [root.val] if sum(path) == target and not root.left and not root.right: res.append(path) return if root.left: self.dfs(root.left,target,res,path[:]) if root.right: self.dfs(root.right,target,res,path[:]) path.pop(-1) # å›æº¯ 124. äºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œ ç»™å®šä¸€ä¸ªéç©ºäºŒå‰æ ‘ï¼Œè¿”å›å…¶æœ€å¤§è·¯å¾„å’Œã€‚ æœ¬é¢˜ä¸­ï¼Œè·¯å¾„è¢«å®šä¹‰ä¸ºä¸€æ¡ä»æ ‘ä¸­ä»»æ„èŠ‚ç‚¹å‡ºå‘ï¼Œè¾¾åˆ°ä»»æ„èŠ‚ç‚¹çš„åºåˆ—ã€‚è¯¥è·¯å¾„è‡³å°‘åŒ…å«ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä¸”ä¸ä¸€å®šç»è¿‡æ ¹èŠ‚ç‚¹ã€‚ ç¤ºä¾‹ 1: 1234567è¾“å…¥: [1,2,3] 1 / \ 2 3è¾“å‡º: 6 ç¤ºä¾‹ 2: 123456789è¾“å…¥: [-10,9,20,null,null,15,7] -10 / \ 9 20 / \ 15 7è¾“å‡º: 42 æ–¹æ³•:é€’å½’ ä¸€æ¡è·¯å¾„å¿…å®šæœ‰ä¸€ä¸ªèŠ‚ç‚¹æœ€æ¥è¿‘æ ¹èŠ‚ç‚¹ï¼Œè€Œè¯¥æ¡è·¯å¾„çš„å’Œå°±æ˜¯è¿™ä¸ªèŠ‚ç‚¹çš„å€¼åŠ ä¸Šå®ƒå·¦å³è·¯å¾„çš„å’Œã€‚æˆ‘ä»¬ç°åœ¨è¦æ±‚æœ€å¤§è·¯å¾„å’Œï¼Œé‚£ä¹ˆå°±è¦åˆ†åˆ«å¾—åˆ°å·¦å³ä¸¤æ¡è·¯å¾„çš„æœ€å¤§å’Œã€‚ è€Œå·¦è·¯å¾„çš„æœ€å¤§å’Œä¸ºå·¦èŠ‚ç‚¹çš„å€¼åŠ ä¸Šå®ƒå·¦å³è·¯å¾„ä¸­è¾ƒå¤§çš„è·¯å¾„å’Œï¼Œå³è·¯å¾„æœ€å¤§å’Œä¸ºå³èŠ‚ç‚¹çš„å€¼åŠ ä¸Šå®ƒå·¦å³è·¯å¾„ä¸­è¾ƒå¤§çš„è·¯å¾„å’Œã€‚ æ³¨æ„å¦‚æœæŸæ¡å­è·¯å¾„çš„å’Œä¸ºè´Ÿï¼Œåº”è¯¥å°†è¯¥æ¡å­è·¯å¾„ç›´æ¥ç æ‰ã€‚ 1234567891011121314class Solution: def maxPathSum(self, root: TreeNode) -&gt; int: self.maxSum = float('-inf') self._maxPathSum(root) return self.maxSum def _maxPathSum(self,root): if root is None: return 0 left = self._maxPathSum(root.left) right = self._maxPathSum(root.right) if left&lt;0: left = 0 if right&lt;0: right = 0 self.maxSum = max(self.maxSum, root.val + left + right) return max(left, right) + root.val 437. è·¯å¾„æ€»å’Œ III ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œå®ƒçš„æ¯ä¸ªç»“ç‚¹éƒ½å­˜æ”¾ç€ä¸€ä¸ªæ•´æ•°å€¼ã€‚ æ‰¾å‡ºè·¯å¾„å’Œç­‰äºç»™å®šæ•°å€¼çš„è·¯å¾„æ€»æ•°ã€‚ è·¯å¾„ä¸éœ€è¦ä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œä¹Ÿä¸éœ€è¦åœ¨å¶å­èŠ‚ç‚¹ç»“æŸï¼Œä½†æ˜¯è·¯å¾„æ–¹å‘å¿…é¡»æ˜¯å‘ä¸‹çš„ï¼ˆåªèƒ½ä»çˆ¶èŠ‚ç‚¹åˆ°å­èŠ‚ç‚¹ï¼‰ã€‚ äºŒå‰æ ‘ä¸è¶…è¿‡1000ä¸ªèŠ‚ç‚¹ï¼Œä¸”èŠ‚ç‚¹æ•°å€¼èŒƒå›´æ˜¯ [-1000000,1000000] çš„æ•´æ•°ã€‚ ç¤ºä¾‹ï¼š 123456789101112131415root = [10,5,-3,3,2,null,11,3,-2,null,1], sum = 8 10 / \ 5 -3 / \ \ 3 2 11 / \ \3 -2 1è¿”å› 3ã€‚å’Œç­‰äº 8 çš„è·¯å¾„æœ‰:1. 5 -&gt; 32. 5 -&gt; 2 -&gt; 13. -3 -&gt; 11 æ–¹æ³• 1234567891011121314class Solution: def pathSum(self, root: TreeNode, sum: int) -&gt; int: if not root:return 0 return self.dfs(root, sum) + self.pathSum(root.left, sum) + self.pathSum(root.right, sum) def dfs(self, root, sum): res = 0 if not root:return res sum -= root.val if sum == 0: res += 1 res += self.dfs(root.left, sum) res += self.dfs(root.right, sum) return res 129. æ±‚æ ¹åˆ°å¶å­èŠ‚ç‚¹æ•°å­—ä¹‹å’Œ ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œå®ƒçš„æ¯ä¸ªç»“ç‚¹éƒ½å­˜æ”¾ä¸€ä¸ª 0-9 çš„æ•°å­—ï¼Œæ¯æ¡ä»æ ¹åˆ°å¶å­èŠ‚ç‚¹çš„è·¯å¾„éƒ½ä»£è¡¨ä¸€ä¸ªæ•°å­—ã€‚ ä¾‹å¦‚ï¼Œä»æ ¹åˆ°å¶å­èŠ‚ç‚¹è·¯å¾„ 1-&gt;2-&gt;3 ä»£è¡¨æ•°å­— 123ã€‚ è®¡ç®—ä»æ ¹åˆ°å¶å­èŠ‚ç‚¹ç”Ÿæˆçš„æ‰€æœ‰æ•°å­—ä¹‹å’Œã€‚ è¯´æ˜: å¶å­èŠ‚ç‚¹æ˜¯æŒ‡æ²¡æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ã€‚ ç¤ºä¾‹: 123456789101112è¾“å…¥: [4,9,0,5,1] 4 / \ 9 0 / \5 1è¾“å‡º: 1026è§£é‡Š:ä»æ ¹åˆ°å¶å­èŠ‚ç‚¹è·¯å¾„ 4-&gt;9-&gt;5 ä»£è¡¨æ•°å­— 495.ä»æ ¹åˆ°å¶å­èŠ‚ç‚¹è·¯å¾„ 4-&gt;9-&gt;1 ä»£è¡¨æ•°å­— 491.ä»æ ¹åˆ°å¶å­èŠ‚ç‚¹è·¯å¾„ 4-&gt;0 ä»£è¡¨æ•°å­— 40.å› æ­¤ï¼Œæ•°å­—æ€»å’Œ = 495 + 491 + 40 = 1026. æ–¹æ³• å’Œ257é¢˜æ±‚æ‰€æœ‰è·¯å¾„æ˜¯ä¸€æ ·çš„ã€‚ res = 0å½“åšå‚æ•°ä¼ ç»™å‡½æ•°ï¼Œé‚£ä¹ˆå‡½æ•°æœ€åçš„ç»“æœä¸ä¼šå½±å“åˆ°resï¼Œä½†æ˜¯å¦‚æœæŠŠres = [0]å³å¯ã€‚ 12345678910111213class Solution: def sumNumbers(self, root: TreeNode) -&gt; int: if not root:return 0 res = [0] self.dfs(root, res, root.val) return res[0] def dfs(self,root, res, path): if not root.left and not root.right: res[0] += path if root.left: self.dfs(root.left, res, path*10+root.left.val) if root.right: self.dfs(root.right, res, path*10+root.right.val) 257. äºŒå‰æ ‘çš„æ‰€æœ‰è·¯å¾„ ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œè¿”å›æ‰€æœ‰ä»æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹çš„è·¯å¾„ã€‚ è¯´æ˜: å¶å­èŠ‚ç‚¹æ˜¯æŒ‡æ²¡æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ã€‚ ç¤ºä¾‹: 12345678910è¾“å…¥: 1 / \2 3 \ 5è¾“å‡º: [&quot;1-&gt;2-&gt;5&quot;, &quot;1-&gt;3&quot;]è§£é‡Š: æ‰€æœ‰æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹çš„è·¯å¾„ä¸º: 1-&gt;2-&gt;5, 1-&gt;3 æ–¹æ³• æŠŠpathä½œä¸ºå­—ç¬¦ä¸²ï¼Œresä½œä¸ºæ•°ç»„ä¿å­˜å­—ç¬¦ä¸²ã€‚ 12345678910111213class Solution: def binaryTreePaths(self, root: TreeNode) -&gt; List[str]: if not root:return [] res = [] self.dfs(root, res, ''+str(root.val)) return res def dfs(self, root, res, path): if not root.left and not root.right: res.append(path) if root.left: self.dfs(root.left, res, path+'-&gt;'+str(root.left.val)) if root.right: self.dfs(root.right, res, path+'-&gt;'+str(root.right.val)) 543. äºŒå‰æ ‘çš„ç›´å¾„ ç»™å®šä¸€æ£µäºŒå‰æ ‘ï¼Œä½ éœ€è¦è®¡ç®—å®ƒçš„ç›´å¾„é•¿åº¦ã€‚ä¸€æ£µäºŒå‰æ ‘çš„ç›´å¾„é•¿åº¦æ˜¯ä»»æ„ä¸¤ä¸ªç»“ç‚¹è·¯å¾„é•¿åº¦ä¸­çš„æœ€å¤§å€¼ã€‚è¿™æ¡è·¯å¾„å¯èƒ½ç©¿è¿‡æ ¹ç»“ç‚¹ã€‚ ç¤ºä¾‹ : 12345678ç»™å®šäºŒå‰æ ‘ 1 / \ 2 3 / \ 4 5 è¿”å› 3, å®ƒçš„é•¿åº¦æ˜¯è·¯å¾„ [4,2,1,3] æˆ–è€… [5,2,1,3]ã€‚ æ³¨æ„ï¼šä¸¤ç»“ç‚¹ä¹‹é—´çš„è·¯å¾„é•¿åº¦æ˜¯ä»¥å®ƒä»¬ä¹‹é—´è¾¹çš„æ•°ç›®è¡¨ç¤ºã€‚ æ–¹æ³•ï¼šé€’å½’ çœ‹å¶å­èŠ‚ç‚¹çš„å·¦å³å­æ ‘çš„æ·±åº¦éƒ½æ˜¯0ï¼Œé‚£ä¹ˆï¼Œå®ƒçš„æ·±åº¦æ˜¯0ï¼Œä¸€ä¸ªæ•°çš„æ·±åº¦æ˜¯å…¶å·¦å³å­æ ‘çš„æœ€å¤§å€¼+1ã€‚ æ ‘æ€»çš„æœ€å¤§å®½åº¦æ˜¯å…¶å·¦å³å­æ ‘é«˜åº¦çš„å’Œä¸­çš„æœ€å¤§å€¼ã€‚ æ±‚æœ€å¤§è·ç¦»çš„è¿‡ç¨‹éœ€è¦åœ¨é€’å½’é‡Œé¢å†™ï¼Œæ‰€ä»¥è¿™ä¸ªæ­¥éª¤æ¯”è¾ƒå·§å¦™ï¼Œä¸€ä¸ªé€’å½’å®ç°äº†ä¸¤ä¸ªä½œç”¨ã€‚ 123456789101112131415class Solution: def diameterOfBinaryTree(self, root: TreeNode) -&gt; int: if not root: return 0 self.diameter = 0 self.getDepth(root) return self.diameter def getDepth(self, root): if not root: return 0 left = self.getDepth(root.left) right = self.getDepth(root.right) self.diameter = max(self.diameter, left+right) return 1 + max(left, right) 687. æœ€é•¿åŒå€¼è·¯å¾„ ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œæ‰¾åˆ°æœ€é•¿çš„è·¯å¾„ï¼Œè¿™ä¸ªè·¯å¾„ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹å…·æœ‰ç›¸åŒå€¼ã€‚ è¿™æ¡è·¯å¾„å¯ä»¥ç»è¿‡ä¹Ÿå¯ä»¥ä¸ç»è¿‡æ ¹èŠ‚ç‚¹ã€‚ æ³¨æ„ï¼šä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´çš„è·¯å¾„é•¿åº¦ç”±å®ƒä»¬ä¹‹é—´çš„è¾¹æ•°è¡¨ç¤ºã€‚ ç¤ºä¾‹ 1: 12345678è¾“å…¥: 5 / \ 4 5 / \ \ 1 1 5è¾“å‡º:2 ç¤ºä¾‹ 2: 12345678è¾“å…¥: 1 / \ 4 5 / \ \ 4 4 5è¾“å‡º:2 æ³¨æ„: ç»™å®šçš„äºŒå‰æ ‘ä¸è¶…è¿‡10000ä¸ªç»“ç‚¹ã€‚ æ ‘çš„é«˜åº¦ä¸è¶…è¿‡1000ã€‚ æ–¹æ³•:é€’å½’ + dfs æ±‚ä¸€ä¸ªé¡¶ç‚¹åˆ°æ‰€æœ‰æ ¹èŠ‚ç‚¹çš„è·¯å¾„ï¼Œæ—¶åˆ»ä¿ç•™ç›¸ç­‰å…ƒç´ çš„æœ€å¤§å€¼ã€‚ç›¸ç­‰å…ƒç´ çš„æœ€å¤§å€¼æ˜¯å·¦å³å­æ ‘çš„ç›¸ç­‰å…ƒç´ çš„æœ€å¤§å€¼+1ï¼Œæ‰€ä»¥æ˜¯é€’å½’ã€‚ å®šä¹‰çš„DFSå‡½æ•°æ˜¯è·å¾—åœ¨é€šè¿‡rootèŠ‚ç‚¹çš„æƒ…å†µä¸‹ï¼Œæœ€é•¿å•è‡‚è·¯å¾„ã€‚å…¶ä¸­æ›´æ–°çš„resæ˜¯å·¦å³è‡‚éƒ½ç®—ä¸Šçš„ã€‚æ‰€ä»¥è¿™ä¸ªé¢˜å’Œæ™®é€šçš„é¢˜æ˜¯æœ‰ç‚¹ä¸ä¸€æ ·ã€‚ 12345678910111213class Solution: def longestUnivaluePath(self, root: TreeNode) -&gt; int: longest = [0] def dfs(root): if not root: return 0 left_len, right_len = dfs(root.left), dfs(root.right) left = left_len + 1 if root.left and root.left.val == root.val else 0 right = right_len + 1 if root.right and root.right.val == root.val else 0 longest[0] = max(longest[0], left + right) return max(left, right) dfs(root) return longest[0] 783. äºŒå‰æœç´¢æ ‘ç»“ç‚¹æœ€å°è·ç¦» è¯¥é¢˜å’Œ530. äºŒå‰æœç´¢æ ‘çš„æœ€å°ç»å¯¹å·® ä¸€æ ·ã€‚å¯ä»¥ç”¨ç›¸åŒæ–¹æ³•è§£é¢˜ã€‚ ç»™å®šä¸€ä¸ªäºŒå‰æœç´¢æ ‘çš„æ ¹ç»“ç‚¹ root, è¿”å›æ ‘ä¸­ä»»æ„ä¸¤èŠ‚ç‚¹çš„å·®çš„æœ€å°å€¼ã€‚ ç¤ºä¾‹ï¼š 123è¾“å…¥: root = [4,2,6,1,3,null,null]è¾“å‡º: 1è§£é‡Š: æ³¨æ„ï¼Œrootæ˜¯æ ‘ç»“ç‚¹å¯¹è±¡(TreeNode object)ï¼Œè€Œä¸æ˜¯æ•°ç»„ã€‚ ç»™å®šçš„æ ‘ [4,2,6,1,3,null,null] å¯è¡¨ç¤ºä¸ºä¸‹å›¾: 12345 4 / \ 2 6 / \ 1 3 æœ€å°çš„å·®å€¼æ˜¯ 1, å®ƒæ˜¯èŠ‚ç‚¹1å’ŒèŠ‚ç‚¹2çš„å·®å€¼, ä¹Ÿæ˜¯èŠ‚ç‚¹3å’ŒèŠ‚ç‚¹2çš„å·®å€¼ã€‚ æ³¨æ„ï¼š äºŒå‰æ ‘çš„å¤§å°èŒƒå›´åœ¨ 2 åˆ° 100ã€‚ äºŒå‰æ ‘æ€»æ˜¯æœ‰æ•ˆçš„ï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„å€¼éƒ½æ˜¯æ•´æ•°ï¼Œä¸”ä¸é‡å¤ã€‚ æ–¹æ³•ï¼šä¸­åºéå†+é€’å½’ ä¸­åºéå†ï¼Œå¾—åˆ°æœ‰åºåˆ—è¡¨ï¼Œç„¶åæ‰¾å‡ºç›¸é‚»çš„ä¸¤ä¸ªèŠ‚ç‚¹å·®å€¼çš„æœ€å°å€¼ 1234567891011class Solution: def minDiffInBST(self, root: TreeNode) -&gt; int: vals = [] def inOrder(root): if not root: return inOrder(root.left) vals.append(root.val) inOrder(root.right) inOrder(root) return min([vals[i+1]-vals[i] for i in range(len(vals)-1)]) 938. äºŒå‰æœç´¢æ ‘çš„èŒƒå›´å’Œ ç»™å®šäºŒå‰æœç´¢æ ‘çš„æ ¹ç»“ç‚¹ rootï¼Œè¿”å› L å’Œ Rï¼ˆå«ï¼‰ä¹‹é—´çš„æ‰€æœ‰ç»“ç‚¹çš„å€¼çš„å’Œã€‚ äºŒå‰æœç´¢æ ‘ä¿è¯å…·æœ‰å”¯ä¸€çš„å€¼ã€‚ ç¤ºä¾‹ 1ï¼š 12è¾“å…¥ï¼šroot = [10,5,15,3,7,null,18], L = 7, R = 15è¾“å‡ºï¼š32 ç¤ºä¾‹ 2ï¼š 12è¾“å…¥ï¼šroot = [10,5,15,3,7,13,18,1,null,6], L = 6, R = 10è¾“å‡ºï¼š23 æç¤ºï¼šæ ‘ä¸­çš„ç»“ç‚¹æ•°é‡æœ€å¤šä¸º 10000 ä¸ªã€‚æœ€ç»ˆçš„ç­”æ¡ˆä¿è¯å°äº 2^31ã€‚ æ–¹æ³•ï¼šBST+é€’å½’ 1234567891011121314class Solution: def rangeSumBST(self, root: TreeNode, L: int, R: int) -&gt; int: if not root: return 0 res = 0 if L &lt;= root.val &lt;= R: res += root.val res += self.rangeSumBST(root.left, L, R) res += self.rangeSumBST(root.right, L, R) elif root.val &lt; L: res += self.rangeSumBST(root.right, L, R) elif root.val &gt; R: res += self.rangeSumBST(root.left, L, R) return res å‚è€ƒ 687. Longest Univalue Path è§£é¢˜æŠ¥å‘Šï¼ˆPython &amp; C++ï¼‰- è´Ÿé›ªæ˜çƒ›]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>LeetCode</tag>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>äºŒå‰æ ‘</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[pythonè§£LeetCodeäºŒåˆ†æŸ¥æ‰¾(2)]]></title>
    <url>%2F2019%2F06%2F10%2Fpython_leetcode-binary-search(2)%2F</url>
    <content type="text"><![CDATA[åœ¨leetcodeä¸­å±äºç®€å•çº§åˆ«çš„é¢˜ç›®ã€‚ ç¬¬ä¸€ä¸ªé”™è¯¯çš„ç‰ˆæœ¬ æœç´¢æ—‹è½¬æ’åºæ•°ç»„ æœç´¢æ—‹è½¬æ’åºæ•°ç»„ II å¯»æ‰¾æ—‹è½¬æ’åºæ•°ç»„ä¸­çš„æœ€å°å€¼ 278. ç¬¬ä¸€ä¸ªé”™è¯¯çš„ç‰ˆæœ¬ ä½ æ˜¯äº§å“ç»ç†ï¼Œç›®å‰æ­£åœ¨å¸¦é¢†ä¸€ä¸ªå›¢é˜Ÿå¼€å‘æ–°çš„äº§å“ã€‚ä¸å¹¸çš„æ˜¯ï¼Œä½ çš„äº§å“çš„æœ€æ–°ç‰ˆæœ¬æ²¡æœ‰é€šè¿‡è´¨é‡æ£€æµ‹ã€‚ç”±äºæ¯ä¸ªç‰ˆæœ¬éƒ½æ˜¯åŸºäºä¹‹å‰çš„ç‰ˆæœ¬å¼€å‘çš„ï¼Œæ‰€ä»¥é”™è¯¯çš„ç‰ˆæœ¬ä¹‹åçš„æ‰€æœ‰ç‰ˆæœ¬éƒ½æ˜¯é”™çš„ã€‚ å‡è®¾ä½ æœ‰ n ä¸ªç‰ˆæœ¬ [1, 2, â€¦, n]ï¼Œä½ æƒ³æ‰¾å‡ºå¯¼è‡´ä¹‹åæ‰€æœ‰ç‰ˆæœ¬å‡ºé”™çš„ç¬¬ä¸€ä¸ªé”™è¯¯çš„ç‰ˆæœ¬ã€‚ ä½ å¯ä»¥é€šè¿‡è°ƒç”¨ bool isBadVersion(version) æ¥å£æ¥åˆ¤æ–­ç‰ˆæœ¬å· version æ˜¯å¦åœ¨å•å…ƒæµ‹è¯•ä¸­å‡ºé”™ã€‚å®ç°ä¸€ä¸ªå‡½æ•°æ¥æŸ¥æ‰¾ç¬¬ä¸€ä¸ªé”™è¯¯çš„ç‰ˆæœ¬ã€‚ä½ åº”è¯¥å°½é‡å‡å°‘å¯¹è°ƒç”¨ API çš„æ¬¡æ•°ã€‚ ç¤ºä¾‹: 1234567ç»™å®š n = 5ï¼Œå¹¶ä¸” version = 4 æ˜¯ç¬¬ä¸€ä¸ªé”™è¯¯çš„ç‰ˆæœ¬ã€‚è°ƒç”¨ isBadVersion(3) -&gt; falseè°ƒç”¨ isBadVersion(5) -&gt; trueè°ƒç”¨ isBadVersion(4) -&gt; trueæ‰€ä»¥ï¼Œ4 æ˜¯ç¬¬ä¸€ä¸ªé”™è¯¯çš„ç‰ˆæœ¬ã€‚ æ–¹æ³• 123456789101112131415class Solution: def firstBadVersion(self, n): """ :type n: int :rtype: int """ left = 0 right = n-1 while left &lt;= right: mid = left + (right-left)//2 if isBadVersion(mid): right = mid - 1 else: left = mid + 1 return left 33. æœç´¢æ—‹è½¬æ’åºæ•°ç»„ å‡è®¾æŒ‰ç…§å‡åºæ’åºçš„æ•°ç»„åœ¨é¢„å…ˆæœªçŸ¥çš„æŸä¸ªç‚¹ä¸Šè¿›è¡Œäº†æ—‹è½¬ã€‚ ( ä¾‹å¦‚ï¼Œæ•°ç»„ [0,1,2,4,5,6,7] å¯èƒ½å˜ä¸º [4,5,6,7,0,1,2] )ã€‚ æœç´¢ä¸€ä¸ªç»™å®šçš„ç›®æ ‡å€¼ï¼Œå¦‚æœæ•°ç»„ä¸­å­˜åœ¨è¿™ä¸ªç›®æ ‡å€¼ï¼Œåˆ™è¿”å›å®ƒçš„ç´¢å¼•ï¼Œå¦åˆ™è¿”å› -1 ã€‚ ä½ å¯ä»¥å‡è®¾æ•°ç»„ä¸­ä¸å­˜åœ¨é‡å¤çš„å…ƒç´ ã€‚ ä½ çš„ç®—æ³•æ—¶é—´å¤æ‚åº¦å¿…é¡»æ˜¯ O(log n) çº§åˆ«ã€‚ ç¤ºä¾‹ 1: 12è¾“å…¥: nums = [4,5,6,7,0,1,2], target = 0è¾“å‡º: 4 ç¤ºä¾‹ 2: 12è¾“å…¥: nums = [4,5,6,7,0,1,2], target = 3è¾“å‡º: -1 æ–¹æ³• æˆ‘ä»¬çš„äºŒåˆ†æŸ¥æ‰¾çš„æ€æƒ³å°±æ˜¯æ‰¾å‡ºæŸä¸ªæ¡ä»¶ï¼Œè¿™ä¸ªæ¡ä»¶ç»™äº†æˆ‘ä»¬ç§»åŠ¨å·¦å³æŒ‡é’ˆçš„å‚è€ƒï¼Œå³è¦åˆ¤æ–­æŸ¥æ‰¾çš„targetåœ¨midçš„å·¦è¾¹è¿˜æ˜¯å³è¾¹ã€‚ å…·ä½“åˆ°è¿™ä¸ªé¢˜ç›®ï¼Œå› ä¸ºç»™å‡ºçš„æ•°ç»„æ˜¯æ—‹è½¬æœ‰åºçš„ï¼Œå¦‚æœmidæŒ‡å‘çš„ä½ç½®åœ¨äºpivotä¹‹åï¼Œé‚£ä¹ˆmidå‘åéƒ¨åˆ†æ˜¯æœ‰åºçš„ï¼Œè¿™ä¸ªæ—¶å€™éœ€è¦åˆ¤æ–­targetåœ¨midå·¦è¾¹è¿˜æ˜¯å³è¾¹ï¼Œæœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯åˆ¤æ–­targetæ˜¯ä¸æ˜¯åœ¨[pivot,r]åŒºé—´å†…ï¼Œå¦‚æœçš„è¯å°±å‘midååŠéƒ¨åˆ†æœç´¢ï¼Œå¦åˆ™å°±å‘midå·¦åŠéƒ¨åˆ†æœç´¢ï¼›åŒç†ï¼Œå½“midåœ¨pivotä¹‹å‰ï¼Œé‚£ä¹ˆmidå‰é¢éƒ¨åˆ†æ˜¯æœ‰åºçš„ï¼Œæ ¹æ®targetåˆ¤æ–­ä¸‹é¢è¦å‘midçš„å·¦è¾¹è¿˜æ˜¯å³è¾¹æœç´¢ã€‚ å…·ä½“æ¥è¯´ï¼Œå‡è®¾æ•°ç»„æ˜¯Aï¼Œæ¯æ¬¡å·¦è¾¹ç¼˜ä¸ºlï¼Œå³è¾¹ç¼˜ä¸ºrï¼Œè¿˜æœ‰ä¸­é—´ä½ç½®æ˜¯mã€‚åœ¨æ¯æ¬¡è¿­ä»£ä¸­ï¼Œåˆ†ä¸‰ç§æƒ…å†µï¼š å¦‚æœtarget==A[m]ï¼Œé‚£ä¹ˆmå°±æ˜¯æˆ‘ä»¬è¦çš„ç»“æœï¼Œç›´æ¥è¿”å›ï¼› å¦‚æœA[m]&lt;A[r]ï¼Œé‚£ä¹ˆè¯´æ˜ä»måˆ°rä¸€å®šæ˜¯æœ‰åºçš„ï¼ˆæ²¡æœ‰å—åˆ°rotateçš„å½±å“ï¼‰ï¼Œé‚£ä¹ˆæˆ‘ä»¬åªéœ€è¦åˆ¤æ–­targetæ˜¯ä¸æ˜¯åœ¨måˆ°rä¹‹é—´ï¼Œå¦‚æœæ˜¯åˆ™æŠŠå·¦è¾¹ç¼˜ç§»åˆ°m+1ï¼Œå¦åˆ™å°±targetåœ¨å¦ä¸€åŠï¼Œå³æŠŠå³è¾¹ç¼˜ç§»åˆ°m-1ã€‚ å¦‚æœA[m]&gt;=A[r]ï¼Œé‚£ä¹ˆè¯´æ˜ä»låˆ°mä¸€å®šæ˜¯æœ‰åºçš„ï¼ŒåŒæ ·åªéœ€è¦åˆ¤æ–­targetæ˜¯å¦åœ¨è¿™ä¸ªèŒƒå›´å†…ï¼Œç›¸åº”çš„ç§»åŠ¨è¾¹ç¼˜å³å¯ã€‚ æ³¨æ„ï¼Œç”±äºè¿™ä¸ªé¢˜ç›®è¦è¿›è¡Œå’Œè¾¹ç¼˜å…ƒç´ çš„åˆ¤æ–­ï¼Œæ‰€ä»¥æ²¡æœ‰é‡‡å–[l,r)çš„å·¦é—­å³å¼€åŒºé—´ï¼Œè€Œæ˜¯ä½¿ç”¨äº†[l, r]åŒé—­åŒºé—´ã€‚ 1234567891011121314151617181920class Solution: def search(self, nums: List[int], target: int) -&gt; int: if not nums: return -1 left = 0 right = len(nums)-1 while left &lt;= right: mid = (left + right)//2 if nums[mid] == target: return mid if nums[mid] &lt; nums[right]: # ç¡®å®šå³è¾¹æœ‰åº if nums[mid] &lt; target and target &lt;= nums[right]: left = mid + 1 else: right = mid - 1 else: # ç¡®å®šå·¦è¾¹æœ‰åº if nums[mid] &gt; target and target &gt;= nums[left]: right = mid - 1 else: left = mid + 1 return -1 81. æœç´¢æ—‹è½¬æ’åºæ•°ç»„ II å‡è®¾æŒ‰ç…§å‡åºæ’åºçš„æ•°ç»„åœ¨é¢„å…ˆæœªçŸ¥çš„æŸä¸ªç‚¹ä¸Šè¿›è¡Œäº†æ—‹è½¬ã€‚ ( ä¾‹å¦‚ï¼Œæ•°ç»„ [0,0,1,2,2,5,6] å¯èƒ½å˜ä¸º [2,5,6,0,0,1,2] )ã€‚ ç¼–å†™ä¸€ä¸ªå‡½æ•°æ¥åˆ¤æ–­ç»™å®šçš„ç›®æ ‡å€¼æ˜¯å¦å­˜åœ¨äºæ•°ç»„ä¸­ã€‚è‹¥å­˜åœ¨è¿”å› trueï¼Œå¦åˆ™è¿”å› falseã€‚ ç¤ºä¾‹ 1: 12è¾“å…¥: nums = [2,5,6,0,0,1,2], target = 0è¾“å‡º: true ç¤ºä¾‹ 2: 12è¾“å…¥: nums = [2,5,6,0,0,1,2], target = 3è¾“å‡º: false æ–¹æ³• æ˜¯ç¬¬33é¢˜çš„æ‹“å±•é¢˜ç›®ï¼Œå˜çš„æ˜¯åŠ äº†ä¸€ä¸ªå¯èƒ½å«æœ‰é‡å¤æ•°å­—ã€‚ è¿™æ ·çš„è¯ï¼Œå¦‚æœç›´æ¥è¿›è¡Œå·¦å³æŒ‡é’ˆçš„æ¯”è¾ƒå°±ä¸çŸ¥é“å‘å“ªä¸ªæ–¹å‘æœç´¢äº†ï¼Œ æ‰€ä»¥ï¼Œéœ€è¦åœ¨æ­£å¼æ¯”è¾ƒä¹‹å‰ï¼Œå…ˆç§»åŠ¨å·¦æŒ‡é’ˆï¼Œæ˜¯ä»–æŒ‡å‘ä¸€ä¸ªå’Œå³æŒ‡é’ˆä¸åŒçš„æ•°å­—ä¸Šã€‚ç„¶åå†åš33é¢˜çš„æŸ¥æ‰¾ã€‚ 123456789101112131415161718192021class Solution: def search(self, nums: List[int], target: int) -&gt; bool: left = 0 right = len(nums)-1 while left &lt;= right: while left &lt; right and nums[left] == nums[right]: left += 1 mid = (left + right)//2 if nums[mid] == target: return True if nums[left] &lt;= nums[mid]: # å‰åŠéƒ¨æœ‰åº if nums[left] &lt;= target and target &lt; nums[mid]: # æœ‰ä¸€éƒ¨åˆ†è¦å†™â€˜=â€™å· right = mid - 1 else: left = mid + 1 else: # ååŠéƒ¨åˆ†æœ‰åº if nums[mid] &lt; target and target &lt;= nums[right]: left = mid + 1 else: right = mid - 1 return False 153. å¯»æ‰¾æ—‹è½¬æ’åºæ•°ç»„ä¸­çš„æœ€å°å€¼ å‡è®¾æŒ‰ç…§å‡åºæ’åºçš„æ•°ç»„åœ¨é¢„å…ˆæœªçŸ¥çš„æŸä¸ªç‚¹ä¸Šè¿›è¡Œäº†æ—‹è½¬ã€‚ ( ä¾‹å¦‚ï¼Œæ•°ç»„ [0,1,2,4,5,6,7] å¯èƒ½å˜ä¸º [4,5,6,7,0,1,2] )ã€‚ è¯·æ‰¾å‡ºå…¶ä¸­æœ€å°çš„å…ƒç´ ã€‚ ä½ å¯ä»¥å‡è®¾æ•°ç»„ä¸­ä¸å­˜åœ¨é‡å¤å…ƒç´ ã€‚ ç¤ºä¾‹ 1: 12è¾“å…¥: [3,4,5,1,2]è¾“å‡º: 1 ç¤ºä¾‹ 2: 12è¾“å…¥: [4,5,6,7,0,1,2]è¾“å‡º: 0 æ–¹æ³• è¿™ä¸ªé¢˜æ˜¯å‰‘æŒ‡offerä¸Šçš„åŸé¢˜ã€‚çœ‹åˆ°æœ‰åºçš„æ•°ç»„å°±æƒ³åˆ°äºŒåˆ†æŸ¥æ‰¾ã€‚è¿™ä¸ªæ˜¯å˜ç§è€Œå·²ã€‚ æ³¨æ„è¾¹ç•Œå’Œå¾ªç¯æ¡ä»¶ã€‚ 1234567891011121314151617class Solution: def findMin(self, nums: List[int]) -&gt; int: if len(nums) == 1:return nums[0] left, right = 0, len(nums)-1 mid = left while nums[left] &gt;= nums[right]: # å·¦åŠè¾¹ å¤§äº å³åŠè¾¹ if left+1 == right: # å·¦å³è¾¹ç›¸é‚» mid = right break mid = (left + right)//2 if nums[left] &lt;= nums[mid]: left = mid elif nums[mid] &lt;= nums[right]: right = mid return nums[mid] å‚è€ƒ ã€LeetCodeã€‘153. Find Minimum in Rotated Sorted Array è§£é¢˜æŠ¥å‘Šï¼ˆPythonï¼‰]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>LeetCode</tag>
        <tag>äºŒåˆ†æŸ¥æ‰¾</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[pythonè§£LeetCodeé“¾è¡¨(4)]]></title>
    <url>%2F2019%2F06%2F10%2Fpython_linklist(4)%2F</url>
    <content type="text"><![CDATA[ä¸¤æ•°ç›¸åŠ  ä¸¤æ•°ç›¸åŠ  II å¤åˆ¶å¸¦éšæœºæŒ‡é’ˆçš„é“¾è¡¨ 2. ä¸¤æ•°ç›¸åŠ  ç»™å‡ºä¸¤ä¸ªéç©ºçš„é“¾è¡¨ç”¨æ¥è¡¨ç¤ºä¸¤ä¸ªéè´Ÿçš„æ•´æ•°ã€‚å…¶ä¸­ï¼Œå®ƒä»¬å„è‡ªçš„ä½æ•°æ˜¯æŒ‰ç…§é€†åºçš„æ–¹å¼å­˜å‚¨çš„ï¼Œå¹¶ä¸”å®ƒä»¬çš„æ¯ä¸ªèŠ‚ç‚¹åªèƒ½å­˜å‚¨ä¸€ä½æ•°å­—ã€‚ å¦‚æœï¼Œæˆ‘ä»¬å°†è¿™ä¸¤ä¸ªæ•°ç›¸åŠ èµ·æ¥ï¼Œåˆ™ä¼šè¿”å›ä¸€ä¸ªæ–°çš„é“¾è¡¨æ¥è¡¨ç¤ºå®ƒä»¬çš„å’Œã€‚ æ‚¨å¯ä»¥å‡è®¾é™¤äº†æ•°å­— 0 ä¹‹å¤–ï¼Œè¿™ä¸¤ä¸ªæ•°éƒ½ä¸ä¼šä»¥ 0 å¼€å¤´ã€‚ ç¤ºä¾‹ï¼š 123è¾“å…¥ï¼š(2 -&gt; 4 -&gt; 3) + (5 -&gt; 6 -&gt; 4)è¾“å‡ºï¼š7 -&gt; 0 -&gt; 8åŸå› ï¼š342 + 465 = 807 æ–¹æ³•ï¼šå·æ‡’åšæ³• è€ƒè™‘ï¼šæ•°å­—ä¸­æ˜¯å¦æœ‰å‰ç½®0ï¼Ÿï¼ˆé™¤0ä»¥å¤–ï¼Œæ²¡æœ‰å‰ç½®0ï¼‰ æœ‰è´Ÿæ•°ï¼Ÿ å…ˆæ±‚å’Œï¼Œå†æ„å»ºé“¾è¡¨ã€‚è¿™ä¸ªæ–¹æ³•æ¯”è¾ƒæš´åŠ›ã€‚ 123456789101112131415161718192021222324# Definition for singly-linked list.# class ListNode:# def __init__(self, x):# self.val = x# self.next = Noneclass Solution: def addTwoNumbers(self, l1: ListNode, l2: ListNode) -&gt; ListNode: num1 = '' num2 = '' while l1:#243 num1 += str(l1.val) l1 = l1.next while l2:#564 num2 += str(l2.val) l2 = l2.next add = str(int(num1[::-1]) + int(num2[::-1]))[::-1] #342+465=807---708 head = ListNode(add[0]) res = head for i in range(1,len(add)): node = ListNode(add[i]) head.next = node head = head.next return res ä¸¤æ•°ç›¸åŠ  II ç»™å®šä¸¤ä¸ªéç©ºé“¾è¡¨æ¥ä»£è¡¨ä¸¤ä¸ªéè´Ÿæ•´æ•°ã€‚æ•°å­—æœ€é«˜ä½ä½äºé“¾è¡¨å¼€å§‹ä½ç½®ã€‚å®ƒä»¬çš„æ¯ä¸ªèŠ‚ç‚¹åªå­˜å‚¨å•ä¸ªæ•°å­—ã€‚å°†è¿™ä¸¤æ•°ç›¸åŠ ä¼šè¿”å›ä¸€ä¸ªæ–°çš„é“¾è¡¨ã€‚ ä½ å¯ä»¥å‡è®¾é™¤äº†æ•°å­— 0 ä¹‹å¤–ï¼Œè¿™ä¸¤ä¸ªæ•°å­—éƒ½ä¸ä¼šä»¥é›¶å¼€å¤´ã€‚ è¿›é˜¶: å¦‚æœè¾“å…¥é“¾è¡¨ä¸èƒ½ä¿®æ”¹è¯¥å¦‚ä½•å¤„ç†ï¼Ÿæ¢å¥è¯è¯´ï¼Œä½ ä¸èƒ½å¯¹åˆ—è¡¨ä¸­çš„èŠ‚ç‚¹è¿›è¡Œç¿»è½¬ã€‚ ç¤ºä¾‹: 12è¾“å…¥: (7 -&gt; 2 -&gt; 4 -&gt; 3) + (5 -&gt; 6 -&gt; 4)è¾“å‡º: 7 -&gt; 8 -&gt; 0 -&gt; 7 æ–¹æ³• å…ˆæ±‚å‡ºå’Œï¼Œå†æ„å»ºé“¾è¡¨ 123456789101112131415161718class Solution: def addTwoNumbers(self, l1: ListNode, l2: ListNode) -&gt; ListNode: num1 = '' num2 = '' while l1: num1 += str(l1.val) l1 = l1.next while l2: num2 += str(l2.val) l2 = l2.next add = str(int(num1) + int(num2)) head = ListNode(add[0]) answer = head for i in range(1, len(add)): node = ListNode(add[i]) head.next = node head = head.next return answer 138. å¤åˆ¶å¸¦éšæœºæŒ‡é’ˆçš„é“¾è¡¨ ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œæ¯ä¸ªèŠ‚ç‚¹åŒ…å«ä¸€ä¸ªé¢å¤–å¢åŠ çš„éšæœºæŒ‡é’ˆï¼Œè¯¥æŒ‡é’ˆå¯ä»¥æŒ‡å‘é“¾è¡¨ä¸­çš„ä»»ä½•èŠ‚ç‚¹æˆ–ç©ºèŠ‚ç‚¹ã€‚ è¦æ±‚è¿”å›è¿™ä¸ªé“¾è¡¨çš„æ·±æ‹·è´ã€‚ ç¤ºä¾‹ï¼š 123456è¾“å…¥ï¼š&#123;&quot;$id&quot;:&quot;1&quot;,&quot;next&quot;:&#123;&quot;$id&quot;:&quot;2&quot;,&quot;next&quot;:null,&quot;random&quot;:&#123;&quot;$ref&quot;:&quot;2&quot;&#125;,&quot;val&quot;:2&#125;,&quot;random&quot;:&#123;&quot;$ref&quot;:&quot;2&quot;&#125;,&quot;val&quot;:1&#125;è§£é‡Šï¼šèŠ‚ç‚¹ 1 çš„å€¼æ˜¯ 1ï¼Œå®ƒçš„ä¸‹ä¸€ä¸ªæŒ‡é’ˆå’ŒéšæœºæŒ‡é’ˆéƒ½æŒ‡å‘èŠ‚ç‚¹ 2 ã€‚èŠ‚ç‚¹ 2 çš„å€¼æ˜¯ 2ï¼Œå®ƒçš„ä¸‹ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘ nullï¼ŒéšæœºæŒ‡é’ˆæŒ‡å‘å®ƒè‡ªå·±ã€‚ æç¤ºï¼šä½ å¿…é¡»è¿”å›ç»™å®šå¤´çš„æ‹·è´ä½œä¸ºå¯¹å…‹éš†åˆ—è¡¨çš„å¼•ç”¨ã€‚ æ–¹æ³• ä½¿ç”¨hashtableï¼Œåœ¨è¿™ä¸ªhashè¡¨é‡Œï¼Œè®°å½•äº†è€é“¾è¡¨å’Œæ–°é“¾è¡¨çš„æ¯ä¸€ç»„å¯¹åº”ã€‚è¿™æ ·å…ˆæ„é€ äº†ä¸€ä¸ªçº¯nextçš„é“¾è¡¨ï¼Œç„¶åå†æ¬¡å¾ªç¯å°±èƒ½å¾—åˆ°å¸¦randomçš„é“¾è¡¨äº†ã€‚ 123456789101112131415161718class Solution: def copyRandomList(self, head: 'Node') -&gt; 'Node': nodeDict = dict() dummy = Node(0, None, None) nodeDict[head] = dummy newHead, pointer = dummy, head while pointer: nodeDict[pointer] = Node(pointer.val, pointer.next, None) newHead.next = nodeDict[pointer] newHead, pointer = newHead.next, pointer.next pointer = head while pointer: if pointer.random: nodeDict[pointer].random = nodeDict[pointer.random] pointer = pointer.next return dummy.next]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>LeetCode</tag>
        <tag>é“¾è¡¨</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç”Ÿæˆæ¨¡å‹ä¸åˆ¤åˆ«æ¨¡å‹]]></title>
    <url>%2F2019%2F05%2F15%2F%E7%94%9F%E6%88%90%E6%A8%A1%E5%9E%8B%E4%B8%8E%E5%88%A4%E5%88%AB%E6%A8%A1%E5%9E%8B%2F</url>
    <content type="text"><![CDATA[å­¦ä¹ ä»»åŠ¡ï¼š ç”Ÿæˆæ¨¡å‹ï¼ˆgenerative modelï¼‰ åˆ¤åˆ«æ¨¡å‹ï¼ˆdiscriminative modelï¼‰ ç”Ÿæˆæ¨¡å‹ å‡è®¾æ•°æ®åˆ†å¸ƒæœä»æŸç§å‚æ•°åŒ–çš„æ¨¡å‹ã€‚å½“ä¼°è®¡å‡ºä¸€ä¸ªæ•°æ®åˆ†å¸ƒçš„å‚æ•°åŒ–æ¨¡å‹åï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®è¿™ä¸ªæ¨¡å‹æ¥ç”Ÿæˆæ•°æ®ï¼Œå› æ­¤è¿™äº›æ¨¡å‹ä¹Ÿç§°ä¸ºç”Ÿæˆæ¨¡å‹ï¼ˆgenerative modelï¼‰ã€‚ åœ¨æœºå™¨å­¦ä¹ ä¸­ï¼Œç”Ÿæˆæ¨¡å‹å¯ä»¥ç”¨æ¥ï¼š ç›´æ¥å¯¹æ•°æ®å»ºæ¨¡ï¼ˆä¾‹å¦‚æ ¹æ®æŸä¸ªå˜é‡çš„æ¦‚ç‡å¯†åº¦å‡½æ•°è¿›è¡Œæ•°æ®é‡‡æ ·ï¼‰ å»ºç«‹å˜é‡é—´çš„æ¡ä»¶æ¦‚ç‡åˆ†å¸ƒã€‚æ¡ä»¶æ¦‚ç‡åˆ†å¸ƒå¯ä»¥ç”±ç”Ÿæˆæ¨¡å‹æ ¹æ®è´å¶æ–¯å®šç†å½¢æˆã€‚ ç”Ÿæˆæ¨¡å‹æ˜¯æ‰€æœ‰å˜é‡çš„å…¨æ¦‚ç‡æ¨¡å‹ï¼Œ è€Œåˆ¤åˆ«æ¨¡å‹æ˜¯åœ¨ç»™å®šè§‚æµ‹å˜é‡å€¼å‰æä¸‹ç›®æ ‡å˜é‡æ¡ä»¶æ¦‚ç‡æ¨¡å‹ã€‚ å› æ­¤ç”Ÿæˆæ¨¡å‹èƒ½å¤Ÿç”¨äºæ¨¡æ‹Ÿï¼ˆå³ç”Ÿæˆï¼‰æ¨¡å‹ä¸­ä»»æ„å˜é‡çš„åˆ†å¸ƒæƒ…å†µï¼Œè€Œåˆ¤åˆ«æ¨¡å‹åªèƒ½æ ¹æ®è§‚æµ‹å˜é‡å¾—åˆ°ç›®æ ‡å˜é‡çš„é‡‡æ ·ã€‚ åˆ¤åˆ«æ¨¡å‹ä¸å¯¹è§‚æµ‹å˜é‡çš„åˆ†å¸ƒå»ºæ¨¡ï¼Œå› æ­¤å®ƒä¸èƒ½å¤Ÿè¡¨è¾¾è§‚æµ‹å˜é‡ä¸ç›®æ ‡å˜é‡ä¹‹é—´æ›´å¤æ‚çš„å…³ç³»ã€‚å› æ­¤ï¼Œç”Ÿæˆæ¨¡å‹æ›´é€‚ç”¨äºæ— ç›‘ç£çš„ä»»åŠ¡ï¼Œå¦‚åˆ†ç±»å’Œèšç±»ã€‚ å…¸å‹çš„ç”Ÿæˆæ¨¡å‹åŒ…æ‹¬: é«˜æ–¯æ··åˆæ¨¡å‹å’Œå…¶ä»–æ··åˆæ¨¡å‹ éšé©¬å°”å¯å¤«æ¨¡å‹ éšæœºä¸Šä¸‹æ–‡æ— å…³æ–‡æ³• æœ´ç´ è´å¶æ–¯åˆ†ç±»å™¨ AODEåˆ†ç±»å™¨ æ½œåœ¨ç‹„åˆ©å…‹é›·åˆ†é…æ¨¡å‹ å—é™ç»å°”å…¹æ›¼æœº æ·±åº¦ä¿¡å¿µç½‘ç»œ ## æ·±åº¦å­¦ä¹ çš„ä¸‰å¤§ç”Ÿæˆæ¨¡å‹ï¼šVAEã€GANã€GAN å˜åˆ†è‡ªç¼–ç å™¨ å¯¹æŠ—ç”Ÿæˆç½‘ç»œ åºåˆ—ç”Ÿæˆæ¨¡å‹ï¼š è‡ªå›å½’ N å…ƒç»Ÿè®¡æ¨¡å‹ æ·±åº¦åºåˆ—æ¨¡å‹ # åˆ¤åˆ«æ¨¡å‹]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>sklearn</tag>
        <tag>æœºå™¨å­¦ä¹ </tag>
        <tag>ç®—æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LSTMç†è§£]]></title>
    <url>%2F2019%2F05%2F12%2FLSTM%2F</url>
    <content type="text"><![CDATA[å­¦ä¹ ä»»åŠ¡ï¼š å¾ªç¯ç¥ç»ç½‘ç»œ RNN ä»€ä¹ˆæ˜¯RNNï¼Ÿ RNNæœ‰å“ªäº›ä¸è¶³ç‚¹ï¼Ÿ LSTMç½‘ç»œ LSTMs çš„æ ¸å¿ƒæ€æƒ³ LSTMåº”ç”¨ kerasä»£ç å®ç° RNN å‰å‘ä¼ æ’­]]></content>
      <categories>
        <category>æ·±åº¦å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>æœºå™¨å­¦ä¹ </tag>
        <tag>ç®—æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Tensorflowå…¥é—¨]]></title>
    <url>%2F2019%2F05%2F09%2FTensorflow%E5%85%A5%E9%97%A8%2F</url>
    <content type="text"><![CDATA[è¿™é‡Œç¼–å†™ä¸€ä¸ªæœ€ç®€å•çš„ç¥ç»ç½‘ç»œï¼Œä»¥æ­¤äº†è§£æ·±åº¦å­¦ä¹ çš„æ•´ä¸ªè®­ç»ƒè¿‡ç¨‹ã€‚ Imports å¯¼å…¥kerasæ¡†æ¶ï¼Œç”¨æ¥å®šä¹‰ç¥ç»ç½‘ç»œçš„ä¸€ç³»åˆ—Sequentialå±‚ 123import tensorflow as tfimport numpy as npfrom tensorflow import keras Define and Compile the Neural Network åˆ›å»ºæœ€ç®€å•çš„ç¥ç»ç½‘ç»œï¼Œ1 layer, 1 neuron, input shapeåªæœ‰1ä¸ªvalue 1model = tf.keras.Sequential([keras.layers.Dense(units=1, input_shape=[1])]) compile ç¥ç»ç½‘ç»œï¼ŒæŒ‡å®šäº†ä¸¤ä¸ªå‡½æ•°ï¼Œ - lossï¼š è®¡ç®—çŒœæµ‹çš„å€¼ä¸å·²çŸ¥çš„çœŸå®å€¼ä¹‹é—´çš„å·®è·ï¼Œåˆ¤æ–­çŒœæµ‹çš„å¥½ä¸å¥½ã€‚ - optimizerï¼šæ ¹æ®lossç»“æœï¼Œé‡æ–°çŒœæµ‹å¤šæ¬¡ï¼Œä»¥æœ€å°åŒ–loss 1model.compile(optimizer='sgd', loss='mean_squared_error') Providing the Data è¾“å…¥ä¸€äº›æ•°æ®ï¼ŒnumpyæŠŠæ•°æ®å˜æˆarrayç±»å‹ã€‚ èƒ½å¤Ÿçœ‹å‡ºæ¥ä»–ä»¬çš„å…³ç³»æ˜¯ Y=2X-1, 12xs = np.array([-1.0, 0.0, 1.0, 2.0, 3.0, 4.0], dtype=float)ys = np.array([-3.0, -1.0, 1.0, 3.0, 5.0, 7.0], dtype=float) Training the Neural Network è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œç¥ç»ç½‘ç»œå­¦ä¹  xs ä¸ ys ä¹‹é—´çš„å…³ç³»ã€‚æ ¹æ® loss , ç”¨ optimizer é‡å¤çŒœæµ‹ epochs æ¬¡ï¼Œ 1model.fit(xs, ys, epochs=500) é¢„æµ‹ä¸€ä¸ªæ•°ã€‚ç”±äºç¥ç»ç½‘ç»œæ˜¯åšæ¦‚ç‡è®¡ç®—ï¼Œæ‰€ä»¥è™½ç„¶èƒ½æ‰¾åˆ°è¿™ä¸ªæ•°æ®å…³ç³» Y=2X-1,ä½†æ˜¯é¢„æµ‹ç»“æœåªèƒ½éå¸¸æ¥è¿‘19ï¼Œä¸å¯èƒ½ç›´æ¥æ˜¯19ï¼Œè€Œä¸”è®­ç»ƒæ•°æ®é‡åªæœ‰6ä¸ªï¼Œå¤ªå°‘ã€‚ 1print(model.predict([10.0])) å‚è€ƒ è¯¾ç¨‹ Introduction to TensorFlow for Artificial Intelligence, Machine Learning, and Deep Learning]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>åŸºç¡€</tag>
        <tag>æ·±åº¦å­¦ä¹ </tag>
        <tag>tensorflow</tag>
        <tag>ç¥ç»ç½‘ç»œ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åˆ†æ²»ç®—æ³•(divide and conquer)]]></title>
    <url>%2F2019%2F04%2F23%2Fpython-leetcode-divide_and_conquer%2F</url>
    <content type="text"><![CDATA[åˆ©ç”¨åˆ†æ²»ç®—æ³•æ±‚ä¸€ç»„æ•°æ®çš„é€†åºå¯¹ä¸ªæ•°]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
        <tag>python</tag>
        <tag>LeetCode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[pythonè§£LeetCodeæ•°å­¦é¢˜(1)]]></title>
    <url>%2F2019%2F04%2F22%2Fpython_leetcode-math(1)%2F</url>
    <content type="text"><![CDATA[æ•´æ•°åè½¬ å­—ç¬¦ä¸²è½¬æ¢æ•´æ•° (atoi) (è§£æ³•è§ pythonå®ç°æ•°æ®ç»“æ„ä¹‹å­—ç¬¦ä¸²) å›æ–‡æ•° ç½—é©¬æ•°å­—è½¬æ•´æ•° æ ¼é›·ç¼–ç  è®¡æ•°ç´ æ•° 2çš„å¹‚ ä¸‘æ•° ä¸‘æ•° II Nim æ¸¸æˆ ç¬¬Nä¸ªæ•°å­— 7. æ•´æ•°åè½¬ ç»™å‡ºä¸€ä¸ª 32 ä½çš„æœ‰ç¬¦å·æ•´æ•°ï¼Œä½ éœ€è¦å°†è¿™ä¸ªæ•´æ•°ä¸­æ¯ä½ä¸Šçš„æ•°å­—è¿›è¡Œåè½¬ã€‚ ç¤ºä¾‹ 1: 12è¾“å…¥: 123è¾“å‡º: 321 ç¤ºä¾‹ 2: 12è¾“å…¥: -123è¾“å‡º: -321 ç¤ºä¾‹ 3: 12è¾“å…¥: 120è¾“å‡º: 21 æ³¨æ„: å‡è®¾æˆ‘ä»¬çš„ç¯å¢ƒåªèƒ½å­˜å‚¨å¾—ä¸‹ 32 ä½çš„æœ‰ç¬¦å·æ•´æ•°ï¼Œåˆ™å…¶æ•°å€¼èŒƒå›´ä¸º [âˆ’231, 231 âˆ’ 1]ã€‚è¯·æ ¹æ®è¿™ä¸ªå‡è®¾ï¼Œå¦‚æœåè½¬åæ•´æ•°æº¢å‡ºé‚£ä¹ˆå°±è¿”å› 0ã€‚ æ–¹æ³•ä¸€:å–æ¨¡ å¾ªç¯é€šè¿‡å¯¹10å–æ¨¡å¾—åˆ°å°¾éƒ¨æ•°å­—ï¼Œä¸€æ­¥æ­¥ä¹˜10æ„é€ æ–°çš„ç¿»è½¬åçš„æ•´æ•°å³å¯ã€‚ç„¶è€Œè¦æ³¨æ„é¦–å…ˆåˆ¤æ–­åŸæ•°å­—çš„æ­£è´Ÿï¼Œæœ€åè¿˜è¦åˆ¤æ–­ç»“æœæ˜¯å¦æº¢å‡ºã€‚ 123456789class Solution: def reverse(self, x: int) -&gt; int: flag = 1 if x&gt;0 else -1 rev = 0 x = abs(x) while(x!=0): rev = rev*10 + x%10 x //= 10 return rev*flag if rev &lt; 2147483648 else 0 æ–¹æ³•äºŒï¼šè½¬å­—ç¬¦ä¸² æ•´æ•°ç¬¦å·æå–å‡ºæ¥ï¼ŒæŠŠæ•´æ•°è½¬åŒ–ä¸ºå­—ç¬¦ä¸²ï¼Œç„¶åä½¿ç”¨å­—ç¬¦ä¸²çš„ç¿»è½¬ã€‚ 12345class Solution: def reverse(self, x: int) -&gt; int: flag = -1 if x &lt; 0 else 1 x = int(str(abs(x))[::-1]) return x*flag if x&lt;=2 ** 31 -1 else 0 9. å›æ–‡æ•° åˆ¤æ–­ä¸€ä¸ªæ•´æ•°æ˜¯å¦æ˜¯å›æ–‡æ•°ã€‚å›æ–‡æ•°æ˜¯æŒ‡æ­£åºï¼ˆä»å·¦å‘å³ï¼‰å’Œå€’åºï¼ˆä»å³å‘å·¦ï¼‰è¯»éƒ½æ˜¯ä¸€æ ·çš„æ•´æ•°ã€‚ ç¤ºä¾‹ 1: 12è¾“å…¥: 121è¾“å‡º: true ç¤ºä¾‹ 2: 123è¾“å…¥: -121è¾“å‡º: falseè§£é‡Š: ä»å·¦å‘å³è¯», ä¸º -121 ã€‚ ä»å³å‘å·¦è¯», ä¸º 121- ã€‚å› æ­¤å®ƒä¸æ˜¯ä¸€ä¸ªå›æ–‡æ•°ã€‚ ç¤ºä¾‹ 3: 123è¾“å…¥: 10è¾“å‡º: falseè§£é‡Š: ä»å³å‘å·¦è¯», ä¸º 01 ã€‚å› æ­¤å®ƒä¸æ˜¯ä¸€ä¸ªå›æ–‡æ•°ã€‚ æ–¹æ³•ä¸€ï¼šè½¬æˆå­—ç¬¦ä¸² 123456789class Solution: def isPalindrome(self, x: int) -&gt; bool: if x &lt; 0: return False x = str(x) N = len(x) for i in range(N//2): if x[i] != x[N-1-i]: return False return True æ–¹æ³•äºŒï¼šæ•°å­¦é™¤ä½™+å–æ¨¡ å€ŸåŠ©ä¸€ä¸ªä¸xåŒç­‰ä½æ•°çš„å˜é‡helpï¼ˆé¦–ä½1ï¼Œå…¶ä½™ä½0ï¼‰ï¼Œé€šè¿‡å¾ªç¯ï¼š 1. æ‰¾åˆ°xçš„æœ€é«˜ä½x//helpå’Œæœ€ä½ä½x%10ï¼Œè¿›è¡Œæ¯”è¾ƒï¼Œ 2. å»æ‰xä¸¤å¤´çš„æ•°å­—(x%help)//10ã€‚helpå˜é‡åŒæ­¥ä¿®æ”¹å»æ‰ä¸¤ä¸ª0ã€‚ help/=100ã€‚ 1234567891011121314class Solution: def isPalindrome(self, x: int) -&gt; bool: if x &lt; 0: return False help=1 while x//help &gt;= 10: help *= 10 while x!=0: if x//help != x%10: return False x = (x%help)//10 help /= 100 return True 13. ç½—é©¬æ•°å­—è½¬æ•´æ•° ç½—é©¬æ•°å­—åŒ…å«ä»¥ä¸‹ä¸ƒç§å­—ç¬¦: Iï¼Œ Vï¼Œ Xï¼Œ Lï¼ŒCï¼ŒD å’Œ Mã€‚ 12345678å­—ç¬¦ æ•°å€¼I 1V 5X 10L 50C 100D 500M 1000 ä¾‹å¦‚ï¼Œ ç½—é©¬æ•°å­— 2 å†™åš II ï¼Œå³ä¸ºä¸¤ä¸ªå¹¶åˆ—çš„ 1ã€‚12 å†™åš XII ï¼Œå³ä¸º X + II ã€‚ 27 å†™åš XXVII, å³ä¸º XX + V + II ã€‚ é€šå¸¸æƒ…å†µä¸‹ï¼Œç½—é©¬æ•°å­—ä¸­å°çš„æ•°å­—åœ¨å¤§çš„æ•°å­—çš„å³è¾¹ã€‚ä½†ä¹Ÿå­˜åœ¨ç‰¹ä¾‹ï¼Œä¾‹å¦‚ 4 ä¸å†™åš IIIIï¼Œè€Œæ˜¯ IVã€‚æ•°å­— 1 åœ¨æ•°å­— 5 çš„å·¦è¾¹ï¼Œæ‰€è¡¨ç¤ºçš„æ•°ç­‰äºå¤§æ•° 5 å‡å°æ•° 1 å¾—åˆ°çš„æ•°å€¼ 4 ã€‚åŒæ ·åœ°ï¼Œæ•°å­— 9 è¡¨ç¤ºä¸º IXã€‚è¿™ä¸ªç‰¹æ®Šçš„è§„åˆ™åªé€‚ç”¨äºä»¥ä¸‹å…­ç§æƒ…å†µï¼š I å¯ä»¥æ”¾åœ¨ V (5) å’Œ X (10) çš„å·¦è¾¹ï¼Œæ¥è¡¨ç¤º 4 å’Œ 9ã€‚ X å¯ä»¥æ”¾åœ¨ L (50) å’Œ C (100) çš„å·¦è¾¹ï¼Œæ¥è¡¨ç¤º 40 å’Œ 90ã€‚ C å¯ä»¥æ”¾åœ¨ D (500) å’Œ M (1000) çš„å·¦è¾¹ï¼Œæ¥è¡¨ç¤º 400 å’Œ 900ã€‚ ç»™å®šä¸€ä¸ªç½—é©¬æ•°å­—ï¼Œå°†å…¶è½¬æ¢æˆæ•´æ•°ã€‚è¾“å…¥ç¡®ä¿åœ¨ 1 åˆ° 3999 çš„èŒƒå›´å†…ã€‚ ç¤ºä¾‹ 1: 12è¾“å…¥: &quot;III&quot;è¾“å‡º: 3 ç¤ºä¾‹ 2: 12è¾“å…¥: &quot;IV&quot;è¾“å‡º: 4 ç¤ºä¾‹ 3: 12è¾“å…¥: &quot;IX&quot;è¾“å‡º: 9 ç¤ºä¾‹ 4: 123è¾“å…¥: &quot;LVIII&quot;è¾“å‡º: 58è§£é‡Š: L = 50, V= 5, III = 3. ç¤ºä¾‹ 5: 123è¾“å…¥: &quot;MCMXCIV&quot;è¾“å‡º: 1994è§£é‡Š: M = 1000, CM = 900, XC = 90, IV = 4. æ–¹æ³•ï¼šä»åå¾€å‰éå† 1234567891011class Solution: def romanToInt(self, s: str) -&gt; int: roman = &#123;"I":1, "V":5, "X":10, "L":50, "C":100, "D":500, "M":1000&#125; res = roman[s[-1]] N = len(s) for i in range(N-2, -1, -1): if roman[s[i]] &lt; roman[s[i+1]]: res -= roman[s[i]] else: res += roman[s[i]] return res 89.æ ¼é›·ç¼–ç  æ ¼é›·ç¼–ç æ˜¯ä¸€ä¸ªäºŒè¿›åˆ¶æ•°å­—ç³»ç»Ÿï¼Œåœ¨è¯¥ç³»ç»Ÿä¸­ï¼Œä¸¤ä¸ªè¿ç»­çš„æ•°å€¼ä»…æœ‰ä¸€ä¸ªä½æ•°çš„å·®å¼‚ã€‚ ç»™å®šä¸€ä¸ªä»£è¡¨ç¼–ç æ€»ä½æ•°çš„éè´Ÿæ•´æ•° nï¼Œæ‰“å°å…¶æ ¼é›·ç¼–ç åºåˆ—ã€‚æ ¼é›·ç¼–ç åºåˆ—å¿…é¡»ä»¥ 0 å¼€å¤´ã€‚ ç¤ºä¾‹ 1: 123456789101112131415è¾“å…¥: 2è¾“å‡º: [0,1,3,2]è§£é‡Š:00 - 001 - 111 - 310 - 2å¯¹äºç»™å®šçš„ nï¼Œå…¶æ ¼é›·ç¼–ç åºåˆ—å¹¶ä¸å”¯ä¸€ã€‚ä¾‹å¦‚ï¼Œ[0,2,3,1] ä¹Ÿæ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„æ ¼é›·ç¼–ç åºåˆ—ã€‚00 - 010 - 211 - 301 - 1 æ–¹æ³• ä¸‹é¢æ˜¯ç™¾åº¦ç™¾ç§‘å‘Šè¯‰çš„å¦‚ä½•æ±‚nä½çš„æ ¼é›·ç çš„æ–¹æ³•ã€‚ é€’å½’ç”Ÿæˆç è¡¨ è¿™ç§æ–¹æ³•åŸºäºæ ¼é›·ç æ˜¯åå°„ç çš„äº‹å®ï¼Œåˆ©ç”¨é€’å½’çš„å¦‚ä¸‹è§„åˆ™æ¥æ„é€ ï¼š 12341ä½æ ¼é›·ç æœ‰ä¸¤ä¸ªç å­—(n+1)ä½æ ¼é›·ç ä¸­çš„å‰2nä¸ªç å­—ç­‰äºnä½æ ¼é›·ç çš„ç å­—ï¼ŒæŒ‰é¡ºåºä¹¦å†™ï¼ŒåŠ å‰ç¼€0(n+1)ä½æ ¼é›·ç ä¸­çš„å2nä¸ªç å­—ç­‰äºnä½æ ¼é›·ç çš„ç å­—ï¼ŒæŒ‰é€†åºä¹¦å†™ï¼ŒåŠ å‰ç¼€1n+1ä½æ ¼é›·ç çš„é›†åˆ = nä½æ ¼é›·ç é›†åˆ(é¡ºåº)åŠ å‰ç¼€0 + nä½æ ¼é›·ç é›†åˆ(é€†åº)åŠ å‰ç¼€1 ç®€è¨€ä¹‹å°±æ˜¯é€’å½’ã€‚ç¬¬ï¼ˆn+1ï¼‰ä½çš„æ ¼é›·ç åºåˆ—=ï¼ˆâ€˜0â€™+ç¬¬nä½çš„æ­£åºï¼‰ + ï¼ˆâ€˜1â€™+ç¬¬nä½çš„é€†åºï¼‰ é¢˜ç›®ä¸­è¯´äº†næ˜¯éè´Ÿæ•°ï¼Œå½“n=0çš„æ—¶å€™ï¼Œè¿”å›[0]å³å¯ã€‚ 12345678910class Solution: def grayCode(self, n: int) -&gt; List[int]: return map(lambda x: int(x,2), self.bit_gray(n)) def bit_gray(self,n): if n==0: return ["0"] elif n==1: return ["0","1"] else: pre_gray = self.bit_gray(n-1) return ["0"+x for x in pre_gray] + ["1"+x for x in pre_gray[::-1]] 204. è®¡æ•°ç´ æ•° è´¨æ•°ï¼ˆprime numberï¼‰åˆç§°ç´ æ•°ï¼Œæœ‰æ— é™ä¸ªã€‚ è´¨æ•°å®šä¹‰ä¸ºåœ¨å¤§äº1çš„è‡ªç„¶æ•°ä¸­ï¼Œé™¤äº†1å’Œå®ƒæœ¬èº«ä»¥å¤–ä¸å†æœ‰å…¶ä»–å› æ•°ã€‚ é¢˜ç›®æè¿° ç»Ÿè®¡æ‰€æœ‰å°äºéè´Ÿæ•´æ•° n çš„è´¨æ•°çš„æ•°é‡ã€‚ ç¤ºä¾‹: 123è¾“å…¥: 10è¾“å‡º: 4è§£é‡Š: å°äº 10 çš„è´¨æ•°ä¸€å…±æœ‰ 4 ä¸ª, å®ƒä»¬æ˜¯ 2, 3, 5, 7 ã€‚ æ–¹æ³•ï¼šç´ æ•°ç­›æ³• ç´ æ•°ç­›æ³•å°±æ˜¯æŠŠè¿™ä¸ªæ•°çš„æ‰€æœ‰å€æ•°éƒ½åˆ é™¤æ‰ï¼Œå› ä¸ºè¿™äº›æ•°ä¸€å®šä¸æ˜¯ç´ æ•°ã€‚æœ€åç»Ÿè®¡ä¸€ä¸‹æ•°å­—å‰©ä½™çš„æ²¡æœ‰è¢«åˆ é™¤çš„ä¸ªæ•°å°±å¥½ã€‚ 1234567891011121314class Solution: def countPrimes(self, n: int) -&gt; int: nums = [1]*n for i in range(2, n): if nums[i]==0: continue # ç­›æ‰ä¸æ˜¯ç´ æ•°çš„å€¼ j = 2 while i*j &lt; n: nums[i*j] = 0 j += 1 res = 0 for i in range(2, n): res += nums[i] return res æ‰§è¡Œç”¨æ—¶æœ‰ç‚¹é•¿ã€‚ 231. 2çš„å¹‚ ç»™å®šä¸€ä¸ªæ•´æ•°ï¼Œç¼–å†™ä¸€ä¸ªå‡½æ•°æ¥åˆ¤æ–­å®ƒæ˜¯å¦æ˜¯ 2 çš„å¹‚æ¬¡æ–¹ã€‚ ç¤ºä¾‹ 1: 123è¾“å…¥: 1è¾“å‡º: trueè§£é‡Š: 20 = 1 ç¤ºä¾‹ 2: 123è¾“å…¥: 16è¾“å‡º: trueè§£é‡Š: 24 = 16 æ–¹æ³•ä¸€ï¼šäºŒè¿›åˆ¶ æ•°ä¸€ä¸‹äºŒè¿›åˆ¶ä¸­1çš„ä¸ªæ•°æ˜¯ä¸æ˜¯æ­£å¥½æ˜¯1ä¸ª 123class Solution: def isPowerOfTwo(self, n: int) -&gt; bool: return n&gt;0 and bin(n).count("1")==1 æ–¹æ³•äºŒï¼šä½è¿ç®— n&amp;(n-1) çš„æ–¹æ³•æ¥æ•°ä¸€ä¸ªæ•°é‡Œè¾¹åªæœ‰ä¸€ä¸ª1 12345678class Solution(object): def isPowerOfTwo(self, n): """ :type n: int :rtype: bool """ if n &lt;= 0: return False return n &amp; (n - 1) == 0 263. ä¸‘æ•° ç¼–å†™ä¸€ä¸ªç¨‹åºåˆ¤æ–­ç»™å®šçš„æ•°æ˜¯å¦ä¸ºä¸‘æ•°ã€‚ ä¸‘æ•°å°±æ˜¯åªåŒ…å«è´¨å› æ•° 2, 3, 5 çš„æ­£æ•´æ•°ã€‚ ç¤ºä¾‹ 1: 123è¾“å…¥: 6è¾“å‡º: trueè§£é‡Š: 6 = 2 Ã— 3 ç¤ºä¾‹ 2: 123è¾“å…¥: 8è¾“å‡º: trueè§£é‡Š: 8 = 2 Ã— 2 Ã— 2 ç¤ºä¾‹ 3: 123è¾“å…¥: 14è¾“å‡º: false è§£é‡Š: 14 ä¸æ˜¯ä¸‘æ•°ï¼Œå› ä¸ºå®ƒåŒ…å«äº†å¦å¤–ä¸€ä¸ªè´¨å› æ•° 7ã€‚ è¯´æ˜ï¼š 1 æ˜¯ä¸‘æ•°ã€‚ è¾“å…¥ä¸ä¼šè¶…è¿‡ 32 ä½æœ‰ç¬¦å·æ•´æ•°çš„èŒƒå›´: [âˆ’231, 231 âˆ’ 1]ã€‚ æ–¹æ³• æŠŠè¿™ä¸ªæ•°ä¸­çš„æ‰€æœ‰çš„2,3,5çš„å› å­å…¨éƒ¨é™¤å»ï¼Œå‰©ä½™çš„æ•°ä¸º1ï¼Œåˆ™è¯´æ˜å…¨éƒ¨ä¸ºè¿™å‡ ä¸ªå› å­æ„æˆã€‚ 12345678910class Solution: def isUgly(self, num: int) -&gt; bool: if num==0: return False while num%2==0: num /= 2 while num%3==0: num /= 3 while num%5==0: num /= 5 return num==1 264. ä¸‘æ•° II ç¼–å†™ä¸€ä¸ªç¨‹åºï¼Œæ‰¾å‡ºç¬¬ n ä¸ªä¸‘æ•°ã€‚ ä¸‘æ•°å°±æ˜¯åªåŒ…å«è´¨å› æ•° 2, 3, 5 çš„æ­£æ•´æ•°ã€‚ ç¤ºä¾‹: 123è¾“å…¥: n = 10è¾“å‡º: 12è§£é‡Š: 1, 2, 3, 4, 5, 6, 8, 9, 10, 12 æ˜¯å‰ 10 ä¸ªä¸‘æ•°ã€‚ è¯´æ˜: 1 æ˜¯ä¸‘æ•°ã€‚ n ä¸è¶…è¿‡1690ã€‚ æ–¹æ³• 1234567891011class Solution: def nthUglyNumber(self, n: int) -&gt; int: if n&lt;0: return 0 dp = [1]*n index2, index3, index5 = 0,0,0 for i in range(1,n): dp[i] = min(dp[index2]*2, dp[index3]*3, dp[index5]*5) if dp[i]==dp[index2]*2: index2 += 1 if dp[i]==dp[index3]*3: index3 += 1 if dp[i]==dp[index5]*5: index5 += 1 return dp[-1] 292. Nim æ¸¸æˆ ä½ å’Œä½ çš„æœ‹å‹ï¼Œä¸¤ä¸ªäººä¸€èµ·ç© Nim æ¸¸æˆï¼šæ¡Œå­ä¸Šæœ‰ä¸€å †çŸ³å¤´ï¼Œæ¯æ¬¡ä½ ä»¬è½®æµæ‹¿æ‰ 1 - 3 å—çŸ³å¤´ã€‚ æ‹¿æ‰æœ€åä¸€å—çŸ³å¤´çš„äººå°±æ˜¯è·èƒœè€…ã€‚ä½ ä½œä¸ºå…ˆæ‰‹ã€‚ ä½ ä»¬æ˜¯èªæ˜äººï¼Œæ¯ä¸€æ­¥éƒ½æ˜¯æœ€ä¼˜è§£ã€‚ ç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼Œæ¥åˆ¤æ–­ä½ æ˜¯å¦å¯ä»¥åœ¨ç»™å®šçŸ³å¤´æ•°é‡çš„æƒ…å†µä¸‹èµ¢å¾—æ¸¸æˆã€‚ ç¤ºä¾‹: 1234è¾“å…¥: 4è¾“å‡º: false è§£é‡Š: å¦‚æœå †ä¸­æœ‰ 4 å—çŸ³å¤´ï¼Œé‚£ä¹ˆä½ æ°¸è¿œä¸ä¼šèµ¢å¾—æ¯”èµ›ï¼› å› ä¸ºæ— è®ºä½ æ‹¿èµ° 1 å—ã€2 å— è¿˜æ˜¯ 3 å—çŸ³å¤´ï¼Œæœ€åä¸€å—çŸ³å¤´æ€»æ˜¯ä¼šè¢«ä½ çš„æœ‹å‹æ‹¿èµ°ã€‚ æ–¹æ³• é¢˜ç›®çš„æ„æ€æ˜¯åªè¦æ‹¿æœ€åä¸€ä¸ªçŸ³å­çš„äººèµ¢ã€‚ å› ä¸ºæ¯æ¬¡æœ€å¤šæ‹¿ä¸‰ä¸ªï¼Œæ‰€ä»¥åªè¦æˆ‘æ‹¿èµ°å­ä¹‹åï¼Œæœ€åå‰©ä½™å››ä¸ªçš„è¯ï¼Œæˆ‘å°±è¾“äº†ã€‚ æ‰€ä»¥ï¼Œæ‰€æœ‰å­çš„ä¸ªæ•°ä¸èƒ½è¢«å››æ•´é™¤æˆ‘å°±èµ¢äº†ï¼Œå¦åˆ™æˆ‘ä¼šè¾“ã€‚è¾“çš„åŸå› æ˜¯å¯¹æ‰‹æ¯æ¬¡éƒ½æ‹¿4-nï¼Œnä¸ºå½“æ¬¡æˆ‘æ‹¿åˆ°å­çš„ä¸ªæ•°ã€‚ 123class Solution: def canWinNim(self, n: int) -&gt; bool: return n % 4 != 0 400. ç¬¬Nä¸ªæ•°å­— åœ¨æ— é™çš„æ•´æ•°åºåˆ— 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, â€¦ä¸­æ‰¾åˆ°ç¬¬ n ä¸ªæ•°å­—ã€‚ æ³¨æ„:n æ˜¯æ­£æ•°ä¸”åœ¨32ä¸ºæ•´å½¢èŒƒå›´å†… ( n &lt; 231)ã€‚ ç¤ºä¾‹ 1: 12è¾“å…¥:3è¾“å‡º:3 ç¤ºä¾‹ 2: 12è¾“å…¥:11è¾“å‡º:0 è¯´æ˜: ç¬¬11ä¸ªæ•°å­—åœ¨åºåˆ— 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, â€¦ é‡Œæ˜¯0ï¼Œå®ƒæ˜¯10çš„ä¸€éƒ¨åˆ†ã€‚ æ–¹æ³• æ‰¾è§„å¾‹ï¼šä¸ªä½æ•°å­—æœ‰9ä¸ªï¼Œ2ä½æ•°å­—æœ‰910=90ä¸ªï¼Œ3ä½æ•°å­—æœ‰9100=900ä¸ªâ€¦â€¦æ‰€ä»¥æˆ‘ä»¬å…ˆæ±‚å‡ºnæ˜¯å‡ ä½æ•°å­—ï¼Œç„¶ååˆ¤æ–­ç¬¬nä¸ªæ•°å­—åº”è¯¥è½åœ¨å“ªä¸ªè‡ªç„¶æ•°ä¸Šï¼Œæœ€åå†æ±‚è¿™ä¸ªè‡ªç„¶æ•°ä¼šè½åœ¨è‡ªç„¶æ•°çš„é‚£ä¸€ä½ä¸Šã€‚ 123456789101112class Solution: def findNthDigit(self, n: int) -&gt; int: _len = 1 count = 9 start = 1 while n &gt; count*_len: n -= count*_len count *= 10 _len += 1 start *= 10 start += (n-1)/_len return int(str(start)[(n-1)%_len]) å‚è€ƒ How Many Primes Are There? Sieve of Eratosthenes]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>LeetCode</tag>
        <tag>ç‰›å®¢</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[XGBoostç®—æ³•æ¢³ç†]]></title>
    <url>%2F2019%2F04%2F09%2FXGBoost%E7%AE%97%E6%B3%95%E6%A2%B3%E7%90%86%2F</url>
    <content type="text"><![CDATA[å­¦ä¹ ä»»åŠ¡ï¼š ç®—æ³•åŸç† æŸå¤±å‡½æ•° åˆ†è£‚ç»“ç‚¹ç®—æ³• å¯¹ç¼ºå¤±å€¼å¤„ç† ä¼˜ç¼ºç‚¹ sklearnå‚æ•° 2014å¹´ï¼Œé™ˆå¤©å¥‡åšå£«æå‡ºäº†XGBoostç®—æ³•ï¼Œå®ƒå¯è®¤ä¸ºæ˜¯åœ¨GBDTç®—æ³•åŸºç¡€ä¸Šçš„è¿›ä¸€æ­¥ä¼˜åŒ–ã€‚é¦–å…ˆï¼ŒXGBoostç®—æ³•åœ¨åŸºå­¦ä¹ å™¨æŸå¤±å‡½æ•°ä¸­å¼•å…¥äº†æ­£åˆ™é¡¹ï¼Œæ§åˆ¶å‡å°‘è®­ç»ƒè¿‡ç¨‹å½“ä¸­çš„è¿‡æ‹Ÿåˆï¼›å…¶æ¬¡ï¼ŒXGBoostç®—æ³•ä¸ä»…ä½¿ç”¨ä¸€é˜¶å¯¼æ•°è®¡ç®—ä¼ªæ®‹å·®ï¼Œè¿˜è®¡ç®—äºŒé˜¶å¯¼æ•°å¯è¿‘ä¼¼å¿«é€Ÿå‰ªæçš„æ„å»ºæ–°çš„åŸºå­¦ä¹ å™¨ï¼›æ­¤å¤–ï¼ŒXGBoostç®—æ³•è¿˜åšäº†å¾ˆå¤šå·¥ç¨‹ä¸Šçš„ä¼˜åŒ–ï¼Œä¾‹å¦‚æ”¯æŒå¹¶è¡Œè®¡ç®—ã€æé«˜è®¡ç®—æ•ˆç‡ã€å¤„ç†ç¨€ç–è®­ç»ƒæ•°æ®ç­‰ç­‰ã€‚ æ€»çš„æ¥è¯´ï¼ŒXGBoostç®—æ³•æºèµ·äºBoostingé›†æˆå­¦ä¹ æ–¹æ³•ï¼Œåœ¨æ¼”åŒ–è¿‡ç¨‹ä¸­åˆèå…¥äº†Baggingé›†æˆå­¦ä¹ æ–¹æ³•çš„ä¼˜åŠ¿ï¼Œé€šè¿‡Gradient Boostingæ¡†æ¶è‡ªå®šä¹‰æŸå¤±å‡½æ•°æé«˜äº†ç®—æ³•è§£å†³é€šç”¨é—®é¢˜çš„èƒ½åŠ›ï¼ŒåŒæ—¶å¼•å…¥æ›´å¤šå¯æ§å‚æ•°å³å¯é’ˆå¯¹é—®é¢˜åœºæ™¯è¿›è¡Œä¼˜åŒ–ï¼Œæœ€åé€šè¿‡å·¥ç¨‹å®ç°æ–¹é¢ç»†èŠ‚ä¼˜åŒ–ï¼Œåœ¨ä¿è¯ç®—æ³•ç»“æœç¨³å®šçš„åŒæ—¶è¿˜å¯é«˜æ•ˆå¤„ç†å¤§è§„æ¨¡æ•°æ®ï¼Œå¯æ‰©å±•æ”¯æŒä¸åŒç¼–ç¨‹è¯­è¨€ã€‚è¿™äº›å› ç´ å…±åŒä½¿å®ƒæˆä¸ºäº†å·¥ä¸šç•Œçš„ä¸»æµæœºå™¨å­¦ä¹ ç®—æ³•ä¹‹ä¸€ã€‚ XGBoostæ˜¯ä¸€ç§æå‡æ ‘æ¨¡å‹ï¼Œæ‰€ä»¥å®ƒæ˜¯å°†è®¸å¤šæ ‘æ¨¡å‹é›†æˆåœ¨ä¸€èµ·ï¼Œå½¢æˆä¸€ä¸ªå¾ˆå¼ºçš„åˆ†ç±»å™¨ã€‚è€Œæ‰€ç”¨åˆ°çš„æ ‘æ¨¡å‹åˆ™æ˜¯CARTå›å½’æ ‘æ¨¡å‹ã€‚è®²è§£å…¶åŸç†å‰ï¼Œå…ˆè®²è§£ä¸€ä¸‹CARTå›å½’æ ‘ã€‚ CARTå›å½’æ ‘ CARTå›å½’æ ‘æ˜¯å‡è®¾æ ‘ä¸ºäºŒå‰æ ‘ï¼Œé€šè¿‡ä¸æ–­å°†ç‰¹å¾è¿›è¡Œåˆ†è£‚ã€‚ æ¯”å¦‚å½“å‰æ ‘ç»“ç‚¹æ˜¯åŸºäºç¬¬ \(j\) ä¸ªç‰¹å¾å€¼è¿›è¡Œåˆ†è£‚çš„ï¼Œè®¾è¯¥ç‰¹å¾å€¼å°äº \(s\) çš„æ ·æœ¬åˆ’åˆ†ä¸ºå·¦å­æ ‘ï¼Œå¤§äºsçš„æ ·æœ¬åˆ’åˆ†ä¸ºå³å­æ ‘ã€‚ \[ R_{1}(j, s)=\left\{x | x^{(j)} \leq s\right\} \text { and } R_{2}(j, s)=\left\{x | x^{(j)}&gt;s\right\} \] è€ŒCARTå›å½’æ ‘å®è´¨ä¸Šå°±æ˜¯åœ¨è¯¥ç‰¹å¾ç»´åº¦å¯¹æ ·æœ¬ç©ºé—´è¿›è¡Œåˆ’åˆ†ï¼Œè€Œè¿™ç§ç©ºé—´åˆ’åˆ†çš„ä¼˜åŒ–æ˜¯ä¸€ç§NPéš¾é—®é¢˜ï¼Œå› æ­¤ï¼Œåœ¨å†³ç­–æ ‘æ¨¡å‹ä¸­æ˜¯ä½¿ç”¨å¯å‘å¼æ–¹æ³•è§£å†³ã€‚å…¸å‹CARTå›å½’æ ‘äº§ç”Ÿçš„ç›®æ ‡å‡½æ•°ä¸ºï¼š \[ \sum_{x_{i} \in R_{m}}\left(y_{i}-f\left(x_{i}\right)\right)^{2} \] å› æ­¤ï¼Œå½“æˆ‘ä»¬ä¸ºäº†æ±‚è§£æœ€ä¼˜çš„åˆ‡åˆ†ç‰¹å¾jå’Œæœ€ä¼˜çš„åˆ‡åˆ†ç‚¹sï¼Œå°±è½¬åŒ–ä¸ºæ±‚è§£è¿™ä¹ˆä¸€ä¸ªç›®æ ‡å‡½æ•°ï¼š \[ \min _{j, s}\left[\min _{c_{1}} \sum_{x_{i} \in R_{1}(j, s)}\left(y_{i}-c_{1}\right)^{2}+\min _{c_{2}} \sum_{x_{i} \in R_{2}(j, s)}\left(y_{i}-c_{2}\right)^{2}\right] \] æ‰€ä»¥æˆ‘ä»¬åªè¦éå†æ‰€æœ‰ç‰¹å¾çš„çš„æ‰€æœ‰åˆ‡åˆ†ç‚¹ï¼Œå°±èƒ½æ‰¾åˆ°æœ€ä¼˜çš„åˆ‡åˆ†ç‰¹å¾å’Œåˆ‡åˆ†ç‚¹ã€‚æœ€ç»ˆå¾—åˆ°ä¸€æ£µå›å½’æ ‘ã€‚ # XGBoostç®—æ³•æ€æƒ³ è¯¥ç®—æ³•æ€æƒ³å°±æ˜¯ä¸æ–­åœ°æ·»åŠ æ ‘ï¼Œä¸æ–­åœ°è¿›è¡Œç‰¹å¾åˆ†è£‚æ¥ç”Ÿé•¿ä¸€æ£µæ ‘ï¼Œæ¯æ¬¡æ·»åŠ ä¸€ä¸ªæ ‘ï¼Œå…¶å®æ˜¯å­¦ä¹ ä¸€ä¸ªæ–°å‡½æ•°ï¼Œå»æ‹Ÿåˆä¸Šæ¬¡é¢„æµ‹çš„æ®‹å·®ã€‚å½“æˆ‘ä»¬è®­ç»ƒå®Œæˆå¾—åˆ°kæ£µæ ‘ï¼Œæˆ‘ä»¬è¦é¢„æµ‹ä¸€ä¸ªæ ·æœ¬çš„åˆ†æ•°ï¼Œå…¶å®å°±æ˜¯æ ¹æ®è¿™ä¸ªæ ·æœ¬çš„ç‰¹å¾ï¼Œåœ¨æ¯æ£µæ ‘ä¸­ä¼šè½åˆ°å¯¹åº”çš„ä¸€ä¸ªå¶å­èŠ‚ç‚¹ï¼Œæ¯ä¸ªå¶å­èŠ‚ç‚¹å°±å¯¹åº”ä¸€ä¸ªåˆ†æ•°ï¼Œæœ€ååªéœ€è¦å°†æ¯æ£µæ ‘å¯¹åº”çš„åˆ†æ•°åŠ èµ·æ¥å°±æ˜¯è¯¥æ ·æœ¬çš„é¢„æµ‹å€¼ã€‚ \[ \hat{y}=\phi\left(x_{i}\right)=\sum_{k=1}^{K} f_{k}\left(x_{i}\right) \] \[ where\ F=\left\{f(x)=w_{q(x)}\right\}\left(q : R^{m} \rightarrow T, w \in R^{T}\right) \] æ³¨ï¼š\(w_q(x)\) ä¸ºå¶å­èŠ‚ç‚¹ \(q\) çš„åˆ†æ•°ï¼Œ\(f(x)\)ä¸ºå…¶ä¸­ä¸€æ£µå›å½’æ ‘ XGBooståŸç† XGBoostç›®æ ‡å‡½æ•°å®šä¹‰ä¸ºï¼š \[ O b j=\sum_{i=1}^{n} l\left(y_{i}, \hat{y}_{i}\right)+\sum_{k=1}^{K} \Omega\left(f_{k}\right) \\ where\ \Omega(f)=\gamma T+\frac{1}{2} \lambda\|w\|^{2} \] ç›®æ ‡å‡½æ•°ç”±ä¸¤éƒ¨åˆ†æ„æˆï¼Œç¬¬ä¸€éƒ¨åˆ†ç”¨æ¥è¡¡é‡é¢„æµ‹åˆ†æ•°å’ŒçœŸå®åˆ†æ•°çš„å·®è·ï¼ˆæŸå¤±ï¼‰ï¼Œå¦ä¸€éƒ¨åˆ†åˆ™æ˜¯æ­£åˆ™åŒ–é¡¹ã€‚ æ­£åˆ™åŒ–é¡¹åŒæ ·åŒ…å«ä¸¤éƒ¨åˆ†ï¼Œ\(T\) è¡¨ç¤ºå¶å­ç»“ç‚¹çš„ä¸ªæ•°ï¼Œ\(w\) è¡¨ç¤ºå¶å­ç»“ç‚¹çš„åˆ†æ•°ã€‚\(Î³\) å¯ä»¥æ§åˆ¶å¶å­ç»“ç‚¹çš„ä¸ªæ•°ï¼Œ\(Î»\) å¯ä»¥æ§åˆ¶å¶å­èŠ‚ç‚¹çš„åˆ†æ•°ä¸ä¼šè¿‡å¤§ï¼Œé˜²æ­¢è¿‡æ‹Ÿåˆã€‚\(y_i\) å³ä¸ºçœŸå®å€¼ï¼Œ\(\hat{y}_{i}\) ä¸ºé¢„æµ‹å€¼ã€‚ æ­£å¦‚ä¸Šæ–‡æ‰€è¯´ï¼Œæ–°ç”Ÿæˆçš„æ ‘æ˜¯è¦æ‹Ÿåˆä¸Šæ¬¡é¢„æµ‹çš„æ®‹å·®çš„ï¼Œå³å½“ç”Ÿæˆ \(t\) æ£µæ ‘åï¼Œé¢„æµ‹åˆ†æ•°å¯ä»¥å†™æˆï¼š \[ \hat{y}_{i}^{(t)}=\hat{y}_{i}^{(t-1)}+f_{t}\left(x_{i}\right) \] åŒæ—¶ï¼Œå¯ä»¥å°†ç›®æ ‡å‡½æ•°æ”¹å†™æˆï¼š \[ \mathcal{L}^{(t)}=\sum_{i=1}^{n} l\left(y_{i}, \hat{y}_{i}^{(t-1)}+f_{t}\left(x_{i}\right)\right)+\Omega\left(f_{t}\right) \] å¾ˆæ˜æ˜¾ï¼Œæˆ‘ä»¬æ¥ä¸‹æ¥å°±æ˜¯è¦å»æ‰¾åˆ°ä¸€ä¸ª \(f_t\) èƒ½å¤Ÿæœ€å°åŒ–ç›®æ ‡å‡½æ•°ã€‚XGBoostçš„æƒ³æ³•æ˜¯åˆ©ç”¨å…¶åœ¨ \(f_t=0\) å¤„çš„æ³°å‹’äºŒé˜¶å±•å¼€è¿‘ä¼¼å®ƒã€‚ æ³°å‹’å±•å¼€ï¼š\(f(x+\Delta x) \simeq f(x)+f^{\prime}(x) \Delta x+\frac{1}{2} f^{\prime \prime}(x) \Delta x^{2}\) å…ˆå®šä¹‰ä¸€é˜¶å¯¼æ•°å’ŒäºŒé˜¶å¯¼æ•°ï¼š\(g_{i}=\partial_{\hat{y}^{(t-1)}} l\left(y_{i}, \hat{y}^{(t-1)}\right), \quad h_{i}=\partial_{\hat{y}^{(t-1)}}^{2} l\left(y_{i}, \hat{y}^{(t-1)}\right)\) æ‰€ä»¥ï¼Œç›®æ ‡å‡½æ•°è¿‘ä¼¼ä¸ºï¼š \[ O b j^{(t)} \simeq \sum_{i=1}^{n}\left[l\left(y_{i}, \hat{y}_{i}^{(t-1)}\right)+g_{i} f_{t}\left(x_{i}\right)+\frac{1}{2} h_{i} f_{t}^{2}\left(x_{i}\right)\right]+\Omega\left(f_{t}\right)+ constant \] ç”±äºå‰t-1æ£µæ ‘çš„é¢„æµ‹åˆ†æ•°ä¸yçš„æ®‹å·®å¯¹ç›®æ ‡å‡½æ•°ä¼˜åŒ–ä¸å½±å“ï¼Œå¯ä»¥ç›´æ¥å»æ‰ã€‚æˆ‘ä»¬çŸ¥é“ï¼Œæ¯ä¸ªæ ·æœ¬éƒ½æœ€ç»ˆä¼šè½åˆ°ä¸€ä¸ªå¶å­ç»“ç‚¹ä¸­ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å°†æ‰€ä»¥åŒä¸€ä¸ªå¶å­ç»“ç‚¹çš„æ ·æœ¬é‡ç»„èµ·æ¥ï¼Œè¿‡ç¨‹å¦‚ä¸‹ï¼š \[ \begin{aligned} O b j^{(t)} &amp; \simeq \sum_{i=1}^{n}\left[g_{i} f_{t}\left(x_{i}\right)+\frac{1}{2} h_{i} f_{t}^{2}\left(x_{i}\right)\right]+\Omega\left(f_{t}\right) \\ &amp;=\sum_{i=1}^{n}\left[g_{i} w_{q\left(x_{i}\right)}+\frac{1}{2} h_{i} w_{q\left(x_{i}\right)}^{2}\right]+\gamma T+\lambda \frac{1}{2} \sum_{j=1}^{T} w_{j}^{2} \\ &amp;=\sum_{j=1}^{T}\left[\left(\sum_{i \in I_{j}} g_{i}\right) w_{j}+\frac{1}{2}\left(\sum_{i \in I_{j}} h_{i}+\lambda\right) w_{j}^{2}\right]+\gamma T \end{aligned} \] å› æ­¤é€šè¿‡ä¸Šå¼çš„æ”¹å†™ï¼Œæˆ‘ä»¬å¯ä»¥å°†ç›®æ ‡å‡½æ•°æ”¹å†™æˆå…³äºå¶å­ç»“ç‚¹åˆ†æ•° \(w\) çš„ä¸€ä¸ªä¸€å…ƒäºŒæ¬¡å‡½æ•°ï¼Œæ±‚è§£æœ€ä¼˜çš„ \(w\) å’Œç›®æ ‡å‡½æ•°å€¼å°±å˜å¾—å¾ˆç®€å•äº†ï¼Œç›´æ¥ä½¿ç”¨é¡¶ç‚¹å…¬å¼å³å¯ã€‚å› æ­¤ï¼Œæœ€ä¼˜çš„ \(w\) å’Œç›®æ ‡å‡½æ•°å…¬å¼ä¸º \[ w_{j}^{*}=-\frac{G_{j}}{H_{j}+\lambda} \\ O b j=-\frac{1}{2} \sum_{j=1}^{T} \frac{G_{j}^{2}}{H_{j}+\lambda}+\gamma T \] åˆ†è£‚ç»“ç‚¹ç®—æ³• åœ¨ä¸Šé¢çš„æ¨å¯¼ä¸­ï¼Œæˆ‘ä»¬çŸ¥é“äº†å¦‚æœæˆ‘ä»¬ä¸€æ£µæ ‘çš„ç»“æ„ç¡®å®šäº†ï¼Œå¦‚ä½•æ±‚å¾—æ¯ä¸ªå¶å­ç»“ç‚¹çš„åˆ†æ•°ã€‚ä½†æˆ‘ä»¬è¿˜æ²¡ä»‹ç»å¦‚ä½•ç¡®å®šæ ‘ç»“æ„ï¼Œå³æ¯æ¬¡ç‰¹å¾åˆ†è£‚æ€ä¹ˆå¯»æ‰¾æœ€ä½³ç‰¹å¾ï¼Œæ€ä¹ˆå¯»æ‰¾æœ€ä½³åˆ†è£‚ç‚¹ã€‚ æ­£å¦‚ä¸Šæ–‡è¯´åˆ°ï¼ŒåŸºäºç©ºé—´åˆ‡åˆ†å»æ„é€ ä¸€é¢—å†³ç­–æ ‘æ˜¯ä¸€ä¸ªNPéš¾é—®é¢˜ï¼Œæˆ‘ä»¬ä¸å¯èƒ½å»éå†æ‰€æœ‰æ ‘ç»“æ„ï¼Œå› æ­¤ï¼ŒXGBoostä½¿ç”¨äº†å’ŒCARTå›å½’æ ‘ä¸€æ ·çš„æƒ³æ³•ï¼Œåˆ©ç”¨è´ªå©ªç®—æ³•ï¼Œéå†æ‰€æœ‰ç‰¹å¾çš„æ‰€æœ‰ç‰¹å¾åˆ’åˆ†ç‚¹ï¼Œä¸åŒçš„æ˜¯ä½¿ç”¨ä¸Šå¼ç›®æ ‡å‡½æ•°å€¼ä½œä¸ºè¯„ä»·å‡½æ•°ã€‚å…·ä½“åšæ³•å°±æ˜¯å¯¹æ¯”åˆ†è£‚åçš„ç›®æ ‡å‡½æ•°å€¼ä¸å•å­å¶å­èŠ‚ç‚¹çš„ç›®æ ‡å‡½æ•°å¢ç›Šï¼ŒåŒæ—¶ä¸ºäº†é™åˆ¶æ ‘ç”Ÿé•¿è¿‡æ·±ï¼Œè¿˜åŠ äº†ä¸ªé˜ˆå€¼ï¼Œåªæœ‰å½“å¢ç›Šå¤§äºè¯¥é˜ˆå€¼æ‰è¿›è¡Œåˆ†è£‚ã€‚ åŒæ—¶å¯ä»¥è®¾ç½®æ ‘çš„æœ€å¤§æ·±åº¦ã€å½“æ ·æœ¬æƒé‡å’Œå°äºè®¾å®šé˜ˆå€¼æ—¶åœæ­¢ç”Ÿé•¿å»é˜²æ­¢è¿‡æ‹Ÿåˆã€‚ Shrinkage and Column Subsampling XGBoostè¿˜æå‡ºäº†ä¸¤ç§é˜²æ­¢è¿‡æ‹Ÿåˆçš„æ–¹æ³•ï¼šShrinkage and Column Subsamplingã€‚ Shrinkageæ–¹æ³•å°±æ˜¯åœ¨æ¯æ¬¡è¿­ä»£ä¸­å¯¹æ ‘çš„æ¯ä¸ªå¶å­ç»“ç‚¹çš„åˆ†æ•°ä¹˜ä¸Šä¸€ä¸ªç¼©å‡æƒé‡Î·ï¼Œè¿™å¯ä»¥ä½¿å¾—æ¯ä¸€æ£µæ ‘çš„å½±å“åŠ›ä¸ä¼šå¤ªå¤§ï¼Œç•™ä¸‹æ›´å¤§çš„ç©ºé—´ç»™åé¢ç”Ÿæˆçš„æ ‘å»ä¼˜åŒ–æ¨¡å‹ã€‚ Column Subsamplingç±»ä¼¼äºéšæœºæ£®æ—ä¸­çš„é€‰å–éƒ¨åˆ†ç‰¹å¾è¿›è¡Œå»ºæ ‘ã€‚å…¶å¯åˆ†ä¸ºä¸¤ç§ï¼Œ - ä¸€ç§æ˜¯æŒ‰å±‚éšæœºé‡‡æ ·ï¼Œåœ¨å¯¹åŒä¸€å±‚å†…æ¯ä¸ªç»“ç‚¹åˆ†è£‚ä¹‹å‰ï¼Œå…ˆéšæœºé€‰æ‹©ä¸€éƒ¨åˆ†ç‰¹å¾ï¼Œç„¶ååªéœ€è¦éå†è¿™éƒ¨åˆ†çš„ç‰¹å¾ï¼Œæ¥ç¡®å®šæœ€ä¼˜çš„åˆ†å‰²ç‚¹ã€‚ - å¦ä¸€ç§æ˜¯éšæœºé€‰æ‹©ç‰¹å¾ï¼Œå»ºæ ‘å‰éšæœºé€‰æ‹©ä¸€éƒ¨åˆ†ç‰¹å¾ç„¶ååˆ†è£‚å°±åªéå†è¿™äº›ç‰¹å¾ã€‚ä¸€èˆ¬æƒ…å†µä¸‹å‰è€…æ•ˆæœæ›´å¥½ã€‚ è¿‘ä¼¼ç®—æ³• å¯¹äºè¿ç»­å‹ç‰¹å¾å€¼ï¼Œå½“æ ·æœ¬æ•°é‡éå¸¸å¤§ï¼Œè¯¥ç‰¹å¾å–å€¼è¿‡å¤šæ—¶ï¼Œéå†æ‰€æœ‰å–å€¼ä¼šèŠ±è´¹å¾ˆå¤šæ—¶é—´ï¼Œä¸”å®¹æ˜“è¿‡æ‹Ÿåˆã€‚å› æ­¤XGBoostæ€æƒ³æ˜¯å¯¹ç‰¹å¾è¿›è¡Œåˆ†æ¡¶ï¼Œå³æ‰¾åˆ°lä¸ªåˆ’åˆ†ç‚¹ï¼Œå°†ä½äºç›¸é‚»åˆ†ä½ç‚¹ä¹‹é—´çš„æ ·æœ¬åˆ†åœ¨ä¸€ä¸ªæ¡¶ä¸­ã€‚åœ¨éå†è¯¥ç‰¹å¾çš„æ—¶å€™ï¼Œåªéœ€è¦éå†å„ä¸ªåˆ†ä½ç‚¹ï¼Œä»è€Œè®¡ç®—æœ€ä¼˜åˆ’åˆ†ã€‚ ä»ç®—æ³•ä¼ªä»£ç ä¸­è¯¥æµç¨‹è¿˜å¯ä»¥åˆ†ä¸ºä¸¤ç§ï¼Œå…¨å±€çš„è¿‘ä¼¼æ˜¯åœ¨æ–°ç”Ÿæˆä¸€æ£µæ ‘ä¹‹å‰å°±å¯¹å„ä¸ªç‰¹å¾è®¡ç®—åˆ†ä½ç‚¹å¹¶åˆ’åˆ†æ ·æœ¬ï¼Œä¹‹ååœ¨æ¯æ¬¡åˆ†è£‚è¿‡ç¨‹ä¸­éƒ½é‡‡ç”¨è¿‘ä¼¼åˆ’åˆ†ï¼Œè€Œå±€éƒ¨è¿‘ä¼¼å°±æ˜¯åœ¨å…·ä½“çš„æŸä¸€æ¬¡åˆ†è£‚èŠ‚ç‚¹çš„è¿‡ç¨‹ä¸­é‡‡ç”¨è¿‘ä¼¼ç®—æ³•ã€‚ é’ˆå¯¹ç¨€ç–çŸ©é˜µçš„ç®—æ³•ï¼ˆç¼ºå¤±å€¼å¤„ç†ï¼‰ å½“æ ·æœ¬çš„ç¬¬ \(i\) ä¸ªç‰¹å¾å€¼ç¼ºå¤±æ—¶ï¼Œæ— æ³•åˆ©ç”¨è¯¥ç‰¹å¾è¿›è¡Œåˆ’åˆ†æ—¶ï¼ŒXGBoostçš„æƒ³æ³•æ˜¯å°†è¯¥æ ·æœ¬åˆ†åˆ«åˆ’åˆ†åˆ°å·¦ç»“ç‚¹å’Œå³ç»“ç‚¹ï¼Œç„¶åè®¡ç®—å…¶å¢ç›Šï¼Œå“ªä¸ªå¤§å°±åˆ’åˆ†åˆ°å“ªè¾¹ã€‚ XGBoostçš„ä¼˜ç‚¹ ä½¿ç”¨è®¸å¤šç­–ç•¥å»é˜²æ­¢è¿‡æ‹Ÿåˆï¼Œå¦‚ï¼šæ­£åˆ™åŒ–é¡¹ã€Shrinkage and Column Subsamplingç­‰ã€‚ ç›®æ ‡å‡½æ•°ä¼˜åŒ–åˆ©ç”¨äº†æŸå¤±å‡½æ•°å…³äºå¾…æ±‚å‡½æ•°çš„äºŒé˜¶å¯¼æ•° æ”¯æŒå¹¶è¡ŒåŒ–ï¼Œè¿™æ˜¯XGBoostçš„é—ªå…‰ç‚¹ï¼Œè™½ç„¶æ ‘ä¸æ ‘ä¹‹é—´æ˜¯ä¸²è¡Œå…³ç³»ï¼Œä½†æ˜¯åŒå±‚çº§èŠ‚ç‚¹å¯å¹¶è¡Œã€‚å…·ä½“çš„å¯¹äºæŸä¸ªèŠ‚ç‚¹ï¼ŒèŠ‚ç‚¹å†…é€‰æ‹©æœ€ä½³åˆ†è£‚ç‚¹ï¼Œå€™é€‰åˆ†è£‚ç‚¹è®¡ç®—å¢ç›Šç”¨å¤šçº¿ç¨‹å¹¶è¡Œã€‚è®­ç»ƒé€Ÿåº¦å¿«ã€‚ æ·»åŠ äº†å¯¹ç¨€ç–æ•°æ®çš„å¤„ç†ã€‚ äº¤å‰éªŒè¯ï¼Œearly stopï¼Œå½“é¢„æµ‹ç»“æœå·²ç»å¾ˆå¥½çš„æ—¶å€™å¯ä»¥æå‰åœæ­¢å»ºæ ‘ï¼ŒåŠ å¿«è®­ç»ƒé€Ÿåº¦ã€‚ æ”¯æŒè®¾ç½®æ ·æœ¬æƒé‡ï¼Œè¯¥æƒé‡ä½“ç°åœ¨ä¸€é˜¶å¯¼æ•°gå’ŒäºŒé˜¶å¯¼æ•°hï¼Œé€šè¿‡è°ƒæ•´æƒé‡å¯ä»¥å»æ›´åŠ å…³æ³¨ä¸€äº›æ ·æœ¬ã€‚ xgboostå‚æ•° å®˜æ–¹å‚æ•°ä»‹ç»çœ‹è¿™é‡Œï¼š Parameters (official guide) General Parametersï¼ˆå¸¸è§„å‚æ•°ï¼‰ booster [default=gbtree]ï¼šé€‰æ‹©åŸºåˆ†ç±»å™¨ï¼Œgbtree: tree-based models/gblinear: linear models silent [default=0]:è®¾ç½®æˆ1åˆ™æ²¡æœ‰è¿è¡Œä¿¡æ¯è¾“å‡ºï¼Œæœ€å¥½æ˜¯è®¾ç½®ä¸º0. nthread [default to maximum number of threads available if not set]ï¼šçº¿ç¨‹æ•° Booster Parametersï¼ˆæ¨¡å‹å‚æ•°ï¼‰ 1.eta [default=0.3]:shrinkageå‚æ•°ï¼Œç”¨äºæ›´æ–°å¶å­èŠ‚ç‚¹æƒé‡æ—¶ï¼Œä¹˜ä»¥è¯¥ç³»æ•°ï¼Œé¿å…æ­¥é•¿è¿‡å¤§ã€‚å‚æ•°å€¼è¶Šå¤§ï¼Œè¶Šå¯èƒ½æ— æ³•æ”¶æ•›ã€‚æŠŠå­¦ä¹ ç‡ eta è®¾ç½®çš„å°ä¸€äº›ï¼Œå°å­¦ä¹ ç‡å¯ä»¥ä½¿å¾—åé¢çš„å­¦ä¹ æ›´åŠ ä»”ç»†ã€‚ 2.min_child_weight [default=1]:è¿™ä¸ªå‚æ•°é»˜è®¤æ˜¯ 1ï¼Œæ˜¯æ¯ä¸ªå¶å­é‡Œé¢ h çš„å’Œè‡³å°‘æ˜¯å¤šå°‘ï¼Œå¯¹æ­£è´Ÿæ ·æœ¬ä¸å‡è¡¡æ—¶çš„ 0-1 åˆ†ç±»è€Œè¨€ï¼Œå‡è®¾ h åœ¨ 0.01 é™„è¿‘ï¼Œmin_child_weight ä¸º 1 æ„å‘³ç€å¶å­èŠ‚ç‚¹ä¸­æœ€å°‘éœ€è¦åŒ…å« 100 ä¸ªæ ·æœ¬ã€‚è¿™ä¸ªå‚æ•°éå¸¸å½±å“ç»“æœï¼Œæ§åˆ¶å¶å­èŠ‚ç‚¹ä¸­äºŒé˜¶å¯¼çš„å’Œçš„æœ€å°å€¼ï¼Œè¯¥å‚æ•°å€¼è¶Šå°ï¼Œè¶Šå®¹æ˜“ overfittingã€‚ 3.max_depth [default=6]: æ¯é¢—æ ‘çš„æœ€å¤§æ·±åº¦ï¼Œæ ‘é«˜è¶Šæ·±ï¼Œè¶Šå®¹æ˜“è¿‡æ‹Ÿåˆã€‚ 4.max_leaf_nodes:æœ€å¤§å¶ç»“ç‚¹æ•°ï¼Œä¸max_depthä½œç”¨æœ‰ç‚¹é‡åˆã€‚ 5.gamma [default=0]ï¼šåå‰ªææ—¶ï¼Œç”¨äºæ§åˆ¶æ˜¯å¦åå‰ªæçš„å‚æ•°ã€‚ 6.max_delta_step [default=0]ï¼šè¿™ä¸ªå‚æ•°åœ¨æ›´æ–°æ­¥éª¤ä¸­èµ·ä½œç”¨ï¼Œå¦‚æœå–0è¡¨ç¤ºæ²¡æœ‰çº¦æŸï¼Œå¦‚æœå–æ­£å€¼åˆ™ä½¿å¾—æ›´æ–°æ­¥éª¤æ›´åŠ ä¿å®ˆã€‚å¯ä»¥é˜²æ­¢åšå¤ªå¤§çš„æ›´æ–°æ­¥å­ï¼Œä½¿æ›´æ–°æ›´åŠ å¹³ç¼“ã€‚ 7.subsample [default=1]ï¼šæ ·æœ¬éšæœºé‡‡æ ·ï¼Œè¾ƒä½çš„å€¼ä½¿å¾—ç®—æ³•æ›´åŠ ä¿å®ˆï¼Œé˜²æ­¢è¿‡æ‹Ÿåˆï¼Œä½†æ˜¯å¤ªå°çš„å€¼ä¹Ÿä¼šé€ æˆæ¬ æ‹Ÿåˆã€‚ 8.colsample_bytree [default=1]ï¼šåˆ—é‡‡æ ·ï¼Œå¯¹æ¯æ£µæ ‘çš„ç”Ÿæˆç”¨çš„ç‰¹å¾è¿›è¡Œåˆ—é‡‡æ ·.ä¸€èˆ¬è®¾ç½®ä¸ºï¼š 0.5-1 9.lambda [default=1]ï¼šæ§åˆ¶æ¨¡å‹å¤æ‚åº¦çš„æƒé‡å€¼çš„L2æ­£åˆ™åŒ–é¡¹å‚æ•°ï¼Œå‚æ•°è¶Šå¤§ï¼Œæ¨¡å‹è¶Šä¸å®¹æ˜“è¿‡æ‹Ÿåˆã€‚ 10.alpha [default=0]:æ§åˆ¶æ¨¡å‹å¤æ‚ç¨‹åº¦çš„æƒé‡å€¼çš„ L1 æ­£åˆ™é¡¹å‚æ•°ï¼Œå‚æ•°å€¼è¶Šå¤§ï¼Œæ¨¡å‹è¶Šä¸å®¹æ˜“è¿‡æ‹Ÿåˆã€‚ 11.scale_pos_weight [default=1]ï¼šå¦‚æœå–å€¼å¤§äº0çš„è¯ï¼Œåœ¨ç±»åˆ«æ ·æœ¬ä¸å¹³è¡¡çš„æƒ…å†µä¸‹æœ‰åŠ©äºå¿«é€Ÿæ”¶æ•›ã€‚ Learning Task Parametersï¼ˆå­¦ä¹ ä»»åŠ¡å‚æ•°ï¼‰ 1.objective [default=reg:linear]ï¼šå®šä¹‰æœ€å°åŒ–æŸå¤±å‡½æ•°ç±»å‹ï¼Œå¸¸ç”¨å‚æ•°ï¼š binary:logistic â€“logistic regression for binary classification, returns predicted probability (not class) multi:softmax â€“multiclass classification using the softmax objective, returns predicted class (not probabilities) you also need to set an additional num_class (number of classes) parameter defining the number of unique classes multi:softprob â€“same as softmax, but returns predicted probability of each data point belonging to each class. 2.eval_metric [ default according to objective ]ï¼š The metric to be used for validation data. The default values are rmse for regression and error for classification. Typical values are: rmse â€“ root mean square error mae â€“ mean absolute error logloss â€“ negative log-likelihood error â€“ Binary classification error rate (0.5 threshold) merror â€“ Multiclass classification error rate mlogloss â€“ Multiclass logloss auc: Area under the curve 3.seed [default=0]ï¼š The random number seed. éšæœºç§å­ï¼Œç”¨äºäº§ç”Ÿå¯å¤ç°çš„ç»“æœ Can be used for generating reproducible results and also for parameter tuning. æ³¨æ„: python sklearn styleå‚æ•°åä¼šæœ‰æ‰€å˜åŒ– eta â€“&gt; learning_rate lambda â€“&gt; reg_lambda alpha â€“&gt; reg_alpha å‚è€ƒ XGBoost-ZDK ä¸€æ–‡è¯»æ‡‚æœºå™¨å­¦ä¹ å¤§æ€å™¨XGBooståŸç† XGBoost-Pythonå®Œå…¨è°ƒå‚æŒ‡å—-å‚æ•°è§£é‡Šç¯‡ Complete Guide to Parameter Tuning in XGBoost (with codes in Python) XGBoostï¼šå‚æ•°è§£é‡Š xgboostå…¥é—¨ä¸å®æˆ˜ï¼ˆåŸç†ç¯‡ï¼‰ XGBoost]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>sklearn</tag>
        <tag>æœºå™¨å­¦ä¹ </tag>
        <tag>ç®—æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[pythonè§£leetcodeåŠ¨æ€è§„åˆ’(1)]]></title>
    <url>%2F2019%2F04%2F05%2Fpython_leetcode-dynamic-programming(1)%2F</url>
    <content type="text"><![CDATA[åŠ¨æ€è§„åˆ’æ–¹æ³•å¯ä»¥ç”»ç½‘æ ¼â­ã€‚ é€’å½’ + è®°å¿†åŒ– â€”â€”&gt; é€’æ¨ï¼ˆåŠ¨æ€è§„åˆ’ï¼‰ï¼ˆè‡ªä¸Šè€Œä¸‹çš„è®°å¿†åŒ–æœç´¢ï¼‰ çŠ¶æ€çš„å®šä¹‰ï¼šæ•°ç»„ opt[n], dp[n], fib[n] çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼šopt[n] = best_of(opt[n-1], opt[n-2], â€¦) ä»å‰é¢çš„n-1ä¸ªå€¼å¾—åˆ°æœ€ä¼˜çš„ç¬¬nä¸ªå€¼ æœ€ä¼˜å­ç»“æ„ åŠ¨æ€è§„åˆ’æ˜¯è‡ªä¸‹è€Œä¸Šçš„è§£å†³é—®é¢˜ã€‚ï¼ˆå…ˆè§£å†³å°æ•°æ®é‡ä¸‹çš„é—®é¢˜æ€ä¹ˆè§£å†³ï¼Œä¹‹åå±‚å±‚é€’æ¨æ›´å¤§çš„æ•°æ®é‡é—®é¢˜ã€‚ï¼‰ å°†åŸé—®é¢˜æ‹†è§£æˆè‹¥å¹²å­é—®é¢˜ï¼ŒåŒæ—¶ä¿å­˜å­é—®é¢˜çš„ç­”æ¡ˆï¼Œä½¿å¾—æ¯ä¸ªå­é—®é¢˜åªæ±‚è§£ä¸€æ¬¡ï¼Œæœ€ç»ˆè·å¾—åŸé—®é¢˜çš„ç­”æ¡ˆã€‚ å­¦ä¹ å†…å®¹ï¼š 509. æ–æ³¢é‚£å¥‘æ•°åˆ— 70. çˆ¬æ¥¼æ¢¯ ä¸åŒè·¯å¾„ ä¸åŒè·¯å¾„ II 64. æœ€å°è·¯å¾„å’Œ 120. ä¸‰è§’å½¢æœ€å°è·¯å¾„å’Œ æ‰“å®¶åŠ«èˆ æ‰“å®¶åŠ«èˆ II æ‰“å®¶åŠ«èˆ III æœ€ä½³ä¹°å–è‚¡ç¥¨æ—¶æœºå«å†·å†»æœŸ ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœºå«æ‰‹ç»­è´¹ 509. æ–æ³¢é‚£å¥‘æ•°åˆ—æ±‚å€¼ \(f(n)=f(n-1)+f(n-2)\) æ–æ³¢é‚£å¥‘æ•°åˆ—ç”± 0 å’Œ 1 å¼€å§‹ï¼Œåé¢çš„æ¯ä¸€é¡¹æ•°å­—éƒ½æ˜¯å‰é¢ä¸¤é¡¹æ•°å­—çš„å’Œã€‚ [0,1,1,2,3,5,8,13,â€¦] ç»™å®šn,è®¡ç®— f(N) æ–¹æ³•ï¼šåŠ¨æ€è§„åˆ’ é€’å½’ + è®°å¿†åŒ– -&gt; é€’æ¨ é€’æ¨å…¬å¼ï¼šA[i] = A[i-1] + A[i-2] 12345678910class Solution: def fib(self, N: int) -&gt; int: if (N &lt;= 1): return N A = [None]*(N+1) A[0] = 0 A[1] = 1 for i in range(2, N+1): A[i] = A[i-1] + A[i-2] return A[N] æ›´ç®€æ´çš„å†™æ³•ï¼š 123456789class Solution: def fib(self, N: int) -&gt; int: if (N &lt;= 1): return N previous = 0 current = 1 for _ in range(N-1): previous, current = current, previous + current return current 70. çˆ¬æ¥¼æ¢¯ Climbing Stairs å‡è®¾ä½ æ­£åœ¨çˆ¬æ¥¼æ¢¯ã€‚éœ€è¦ n é˜¶ä½ æ‰èƒ½åˆ°è¾¾æ¥¼é¡¶ã€‚ æ¯æ¬¡ä½ å¯ä»¥çˆ¬ 1 æˆ– 2 ä¸ªå°é˜¶ã€‚ä½ æœ‰å¤šå°‘ç§ä¸åŒçš„æ–¹æ³•å¯ä»¥çˆ¬åˆ°æ¥¼é¡¶å‘¢ï¼Ÿ æ³¨æ„ï¼šç»™å®š n æ˜¯ä¸€ä¸ªæ­£æ•´æ•°ã€‚ ç¤ºä¾‹ ï¼š 123456è¾“å…¥ï¼š 3è¾“å‡ºï¼š 3è§£é‡Šï¼š æœ‰ä¸‰ç§æ–¹æ³•å¯ä»¥çˆ¬åˆ°æ¥¼é¡¶ã€‚1. 1 é˜¶ + 1 é˜¶ + 1 é˜¶2. 1 é˜¶ + 2 é˜¶3. 2 é˜¶ + 1 é˜¶ æ–¹æ³•ï¼šåŠ¨æ€è§„åˆ’ å½“æœ‰ \(n\) ä¸ªå°é˜¶æ—¶ï¼Œå¯ä¾›é€‰æ‹©çš„èµ°æ³•å¯ä»¥åˆ†ä¸¤ç±»ï¼š1ï¼Œå…ˆè·¨ä¸€é˜¶å†è·¨å®Œå‰©ä¸‹ \(n-1\) é˜¶ï¼›2ï¼Œå…ˆè·¨2é˜¶å†è·¨å®Œå‰©ä¸‹ \(n-2\) é˜¶ã€‚æ‰€ä»¥ \(n\) é˜¶çš„ä¸åŒèµ°æ³•çš„æ•°ç›®æ˜¯ \(n-1\) é˜¶å’Œ \(n-2\) é˜¶çš„èµ°æ³•æ•°çš„å’Œã€‚ è¿™å’Œæ–æ³¢é‚£å¥‘æ•°åˆ—çš„è§„å¾‹ç›¸åŒï¼Œå¯ä»¥ç”¨è¿™ä¸ªæ€è·¯ã€‚ åŠ¨æ€è§„åˆ’æ¥è®°å½•å†å²æ•°æ®ã€‚ 12345678910class Solution: def climbStairs(self, n): """ :type n: int :rtype: int """ prev, current = 0, 1 for i in range(n): prev, current = current, prev + current return current 62. ä¸åŒè·¯å¾„ ä¸€ä¸ªæœºå™¨äººä½äºä¸€ä¸ª m x n ç½‘æ ¼çš„å·¦ä¸Šè§’ã€‚ æœºå™¨äººæ¯æ¬¡åªèƒ½å‘ä¸‹æˆ–è€…å‘å³ç§»åŠ¨ä¸€æ­¥ã€‚æœºå™¨äººè¯•å›¾è¾¾åˆ°ç½‘æ ¼çš„å³ä¸‹è§’ï¼ˆåœ¨ä¸‹å›¾ä¸­æ ‡è®°ä¸ºâ€œFinishâ€ï¼‰ã€‚ é—®æ€»å…±æœ‰å¤šå°‘æ¡ä¸åŒçš„è·¯å¾„ï¼Ÿ ç¤ºä¾‹ 1: 1234567è¾“å…¥: m = 3, n = 2è¾“å‡º: 3è§£é‡Š:ä»å·¦ä¸Šè§’å¼€å§‹ï¼Œæ€»å…±æœ‰ 3 æ¡è·¯å¾„å¯ä»¥åˆ°è¾¾å³ä¸‹è§’ã€‚1. å‘å³ -&gt; å‘å³ -&gt; å‘ä¸‹2. å‘å³ -&gt; å‘ä¸‹ -&gt; å‘å³3. å‘ä¸‹ -&gt; å‘å³ -&gt; å‘å³ æ–¹æ³• æ¯ä¸€æ ¼å­éƒ½æ˜¯å·¦è¾¹å’Œä¸Šè¾¹ä¹‹å’Œ 1234567891011class Solution: def uniquePaths(self, m: int, n: int) -&gt; int: grid = [[0]*n for _ in range(m)] for i in range(n): grid[0][i] = 1 for i in range(m): grid[i][0] = 1 for i in range(1,m): for j in range(1,n): grid[i][j] = grid[i][j-1] + grid[i-1][j] return grid[m-1][n-1] 63. ä¸åŒè·¯å¾„ II ä¸€ä¸ªæœºå™¨äººä½äºä¸€ä¸ª m x n ç½‘æ ¼çš„å·¦ä¸Šè§’ã€‚ æœºå™¨äººæ¯æ¬¡åªèƒ½å‘ä¸‹æˆ–è€…å‘å³ç§»åŠ¨ä¸€æ­¥ã€‚æœºå™¨äººè¯•å›¾è¾¾åˆ°ç½‘æ ¼çš„å³ä¸‹è§’ï¼ˆåœ¨ä¸‹å›¾ä¸­æ ‡è®°ä¸ºâ€œFinishâ€ï¼‰ã€‚ ç°åœ¨è€ƒè™‘ç½‘æ ¼ä¸­æœ‰éšœç¢ç‰©ã€‚é‚£ä¹ˆä»å·¦ä¸Šè§’åˆ°å³ä¸‹è§’å°†ä¼šæœ‰å¤šå°‘æ¡ä¸åŒçš„è·¯å¾„ï¼Ÿ ç¤ºä¾‹ 1: 123456789101112è¾“å…¥:[ [0,0,0], [0,1,0], [0,0,0]]è¾“å‡º: 2è§£é‡Š:3x3 ç½‘æ ¼çš„æ­£ä¸­é—´æœ‰ä¸€ä¸ªéšœç¢ç‰©ã€‚ä»å·¦ä¸Šè§’åˆ°å³ä¸‹è§’ä¸€å…±æœ‰ 2 æ¡ä¸åŒçš„è·¯å¾„ï¼š1. å‘å³ -&gt; å‘å³ -&gt; å‘ä¸‹ -&gt; å‘ä¸‹2. å‘ä¸‹ -&gt; å‘ä¸‹ -&gt; å‘å³ -&gt; å‘å³ æ–¹æ³• 1234567891011121314151617class Solution: def uniquePathsWithObstacles(self, obstacleGrid: List[List[int]]) -&gt; int: m, n = len(obstacleGrid), len(obstacleGrid[0]) dp = [[0]*n for _ in range(m)] if obstacleGrid[0][0] == 0: dp[0][0] = 1 for i in range(m): for j in range(n): if obstacleGrid[i][j] == 1: dp[i][j] = 0 else: if i!=0:#ä¸æ˜¯æœ€ä¸Šé¢ä¸€è¡Œ dp[i][j] += dp[i-1][j] if j!=0: dp[i][j] += dp[i][j-1] return dp[m-1][n-1] 64. æœ€å°è·¯å¾„å’Œ ç»™å®šä¸€ä¸ªåŒ…å«éè´Ÿæ•´æ•°çš„ m x n ç½‘æ ¼ï¼Œè¯·æ‰¾å‡ºä¸€æ¡ä»å·¦ä¸Šè§’åˆ°å³ä¸‹è§’çš„è·¯å¾„ï¼Œä½¿å¾—è·¯å¾„ä¸Šçš„æ•°å­—æ€»å’Œä¸ºæœ€å°ã€‚ è¯´æ˜ï¼šæ¯æ¬¡åªèƒ½å‘ä¸‹æˆ–è€…å‘å³ç§»åŠ¨ä¸€æ­¥ã€‚ ç¤ºä¾‹: 12345678è¾“å…¥:[ [1,3,1], [1,5,1], [4,2,1]]è¾“å‡º: 7è§£é‡Š: å› ä¸ºè·¯å¾„ 1â†’3â†’1â†’1â†’1 çš„æ€»å’Œæœ€å°ã€‚ æ–¹æ³•ï¼šåŠ¨æ€è§„åˆ’ æ–°çš„ä¸€ä¸ªç‚¹çš„æœ€çŸ­è·¯å¾„ä¸€å®šç­‰äºå…¶ä¸Šæ–¹ã€å·¦æ–¹æœ€çŸ­è·¯å¾„+å½“å‰çš„å€¼ã€‚ ç¬¬ä¸€è¡Œçš„æ¯ä¸ªçŠ¶æ€ = å·¦è¾¹çŠ¶æ€+å½“å‰ä½ç½® ç¬¬ä¸€åˆ—çš„æ¯ä¸ªçŠ¶æ€ = ä¸Šè¾¹çŠ¶æ€+å½“å‰ä½ç½®ã€‚ å…¶ä½™ä½ç½® = ä¸Šè¾¹å’Œå·¦è¾¹çš„çŠ¶æ€æœ€å°å€¼ + å½“å‰ä½ç½®ã€‚ 1234567891011121314151617class Solution: def minPathSum(self, grid: List[List[int]]) -&gt; int: if not grid or not grid[0]: return 0 m,n = len(grid),len(grid[0]) # è¡Œåˆ—æ•° for i in range (m): for j in range(n): if i==0 and j==0: before = 0 elif i==0: before = grid[0][j-1] elif j==0: before = grid[i-1][0] else: before = min(grid[i-1][j], grid[i][j-1]) grid[i][j] = before + grid[i][j] return grid[m-1][n-1] é¢˜ç›®ä¸­è¯´æ¯ä¸ªæ ¼å­é‡Œæ˜¯éè´Ÿæ•´æ•°ï¼Œè´Ÿæ•°ä¼šæœ‰ä»€ä¹ˆå½±å“ï¼Ÿ é™å®šçš„åªèƒ½å·¦ç§»æˆ–ä¸‹ç§»ï¼Œå¦‚æœæ²¡æœ‰é™å®šï¼Œä¸Šä¸‹å·¦å³éƒ½å¯ä»¥ï¼Œä¼šæ€ä¹ˆåŠï¼Ÿ 120. ä¸‰è§’å½¢æœ€å°è·¯å¾„å’Œ ç»™å®šä¸€ä¸ªä¸‰è§’å½¢ï¼Œæ‰¾å‡ºè‡ªé¡¶å‘ä¸‹çš„æœ€å°è·¯å¾„å’Œã€‚æ¯ä¸€æ­¥åªèƒ½ç§»åŠ¨åˆ°ä¸‹ä¸€è¡Œä¸­ç›¸é‚»çš„ç»“ç‚¹ä¸Šã€‚ ä¾‹å¦‚ï¼Œç»™å®šä¸‰è§’å½¢ï¼š 1234567[ [2], [3,4], [6,5,7], [4,1,8,3]]è‡ªé¡¶å‘ä¸‹çš„æœ€å°è·¯å¾„å’Œä¸º 11ï¼ˆå³ï¼Œ2 + 3 + 5 + 1 = 11ï¼‰ã€‚ æ–¹æ³•ï¼šä»ä¸‹åˆ°ä¸Šçš„åŠ¨æ€è§„åˆ’ ä»é¡¶å‘ä¸‹çš„DPä¼šå¯¼è‡´å…ƒç´ è¶Šæ¥è¶Šå¤šï¼Œå› æ­¤ä¸æ˜¯å¾ˆæ–¹ä¾¿ï¼Œä»ä¸‹å‘ä¸Šçš„DPåšã€‚ ç”¨minpath[k][i]ä¿å­˜ä»ä¸‹å‘ä¸Šå¾—åˆ°çš„ç¬¬ k å±‚ç¬¬ i ä¸ªä½ç½®çš„æœ€çŸ­è·¯å¾„ã€‚é‚£ä¹ˆæœ‰ï¼š minpath[k][i] = min( minpath[k+1][i], minpath[k+1][i+1]) + triangle[k][i] å¯ä»¥çœ‹å‡º minpath[k][i] åªè¢«ç”¨åˆ°äº†ä¸€æ¬¡ï¼Œæ‰€ä»¥å¯ä»¥å˜æˆä¸€ç»´DPï¼š 12For the kth level:minpath[i] = min( minpath[i], minpath[i+1]) + triangle[k][i]; æ³¨æ„ï¼Œ - dpçš„åˆå§‹åŒ–åº”è¯¥æ˜¯æœ€ä¸‹é¢ä¸€å±‚ï¼Œç„¶åä»å€’æ•°ç¬¬äºŒå±‚å¼€å§‹éå†ï¼› - ç¬¬layerçš„å…ƒç´ æ˜¯layer + 1ä¸ªã€‚ æ—¶é—´å¤æ‚åº¦ä¸ºO(n^2)ï¼Œç©ºé—´å¤æ‚åº¦O(n)ã€‚nä¸ºä¸‰è§’å½¢é«˜åº¦ã€‚ 1234567class Solution: def minimumTotal(self, triangle: List[List[int]]) -&gt; int: dp = triangle[-1] for layer in range(len(triangle)-2, -1, -1): for i in range(layer+1): dp[i] = min(dp[i], dp[i+1]) + triangle[layer][i] return dp[0] 198. æ‰“å®¶åŠ«èˆ ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„å°å·ï¼Œè®¡åˆ’å·çªƒæ²¿è¡—çš„æˆ¿å±‹ã€‚æ¯é—´æˆ¿å†…éƒ½è—æœ‰ä¸€å®šçš„ç°é‡‘ï¼Œå½±å“ä½ å·çªƒçš„å”¯ä¸€åˆ¶çº¦å› ç´ å°±æ˜¯ç›¸é‚»çš„æˆ¿å±‹è£…æœ‰ç›¸äº’è¿é€šçš„é˜²ç›—ç³»ç»Ÿï¼Œå¦‚æœä¸¤é—´ç›¸é‚»çš„æˆ¿å±‹åœ¨åŒä¸€æ™šä¸Šè¢«å°å·é—¯å…¥ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æŠ¥è­¦ã€‚ ç»™å®šä¸€ä¸ªä»£è¡¨æ¯ä¸ªæˆ¿å±‹å­˜æ”¾é‡‘é¢çš„éè´Ÿæ•´æ•°æ•°ç»„ï¼Œè®¡ç®—ä½ åœ¨ä¸è§¦åŠ¨è­¦æŠ¥è£…ç½®çš„æƒ…å†µä¸‹ï¼Œèƒ½å¤Ÿå·çªƒåˆ°çš„æœ€é«˜é‡‘é¢ã€‚ ç¤ºä¾‹ 1: 1234è¾“å…¥: [1,2,3,1]è¾“å‡º: 4è§£é‡Š: å·çªƒ 1 å·æˆ¿å±‹ (é‡‘é¢ = 1) ï¼Œç„¶åå·çªƒ 3 å·æˆ¿å±‹ (é‡‘é¢ = 3)ã€‚ å·çªƒåˆ°çš„æœ€é«˜é‡‘é¢ = 1 + 3 = 4 ã€‚ ç¤ºä¾‹ 2: 1234è¾“å…¥: [2,7,9,3,1]è¾“å‡º: 12è§£é‡Š: å·çªƒ 1 å·æˆ¿å±‹ (é‡‘é¢ = 2), å·çªƒ 3 å·æˆ¿å±‹ (é‡‘é¢ = 9)ï¼Œæ¥ç€å·çªƒ 5 å·æˆ¿å±‹ (é‡‘é¢ = 1)ã€‚ å·çªƒåˆ°çš„æœ€é«˜é‡‘é¢ = 2 + 9 + 1 = 12 ã€‚ æ–¹æ³•ä¸€ å‡è®¾åªæœ‰ä¸€å®¶ï¼Œé‚£ä¹ˆä½ åªèƒ½å·è¿™å®¶ï¼›å‡è®¾æœ‰ä¸¤å®¶ï¼Œé‚£ä¹ˆä½ è¦åˆ¤æ–­ä¸¤å®¶å“ªä¸ªé’±å¤šï¼Œå·å“ªä¸ªï¼›ä¾æ¬¡ç±»æ¨ï¼Œå‡è®¾æœ‰nå®¶ï¼Œé‚£ä¹ˆä½ è¦åˆ¤æ–­â€œå·ç¬¬nå®¶ä¸å·ç¬¬n-1å®¶ä¸”å‰n-2å®¶å°½é‡å¤šçš„å·â€å’Œâ€œä¸å·ç¬¬nå®¶ä¸”å‰n-1å®¶å°½é‡å¤šçš„å·â€ï¼Œå“ªä¸ªå¾—åˆ°çš„é’±å¤šå·å“ªä¸ªã€‚ ä½ å¯ä»¥é€’å½’æ±‚è§£ï¼Œç„¶è€Œå¤æ‚åº¦å¤ªé«˜æ— æ³•ACã€‚æ‰€ä»¥åº”è¯¥è®°å½•å·²ç»è®¡ç®—è¿‡çš„ç»“æœï¼Œäºæ˜¯è¿™å˜æˆä¸€ä¸ªåŠ¨æ€è§„åˆ’é—®é¢˜ã€‚ 12345678910class Solution: def rob(self, nums: List[int]) -&gt; int: if len(nums) == 0: return 0 elif len(nums)&lt;2: return max(nums[0], nums[-1]) money = [0]*len(nums) money[0],money[1] = nums[0], max(nums[0], nums[1]) for i in range(2, len(nums)): money[i] = max(nums[i] + money[i-2], money[i-1]) return money[len(nums)-1] æ–¹æ³•äºŒï¼šæ›´ç®€æ´çš„å†™æ³• ä¸Š é¢çš„ä»£ç ä½¿ç”¨çš„ç©ºé—´æ˜¯å†—ä½™çš„ï¼Œå› ä¸ºæ¯æ¬¡å¾ªç¯åªä¼šç”¨åˆ°å‰ä¸¤ä¸ªæ•°æ®ã€‚æ‰€ä»¥ä»£ç å¯ä»¥é™ä½ç©ºé—´å¤æ‚åº¦åˆ°O(1)ã€‚ 123456class Solution: def rob(self, nums: List[int]) -&gt; int: now = last = 0 for i in nums: last, now = now, max(i+last, now) return now 213. æ‰“å®¶åŠ«èˆ II ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„å°å·ï¼Œè®¡åˆ’å·çªƒæ²¿è¡—çš„æˆ¿å±‹ï¼Œæ¯é—´æˆ¿å†…éƒ½è—æœ‰ä¸€å®šçš„ç°é‡‘ã€‚è¿™ä¸ªåœ°æ–¹æ‰€æœ‰çš„æˆ¿å±‹éƒ½å›´æˆä¸€åœˆï¼Œè¿™æ„å‘³ç€ç¬¬ä¸€ä¸ªæˆ¿å±‹å’Œæœ€åä¸€ä¸ªæˆ¿å±‹æ˜¯ç´§æŒ¨ç€çš„ã€‚åŒæ—¶ï¼Œç›¸é‚»çš„æˆ¿å±‹è£…æœ‰ç›¸äº’è¿é€šçš„é˜²ç›—ç³»ç»Ÿï¼Œå¦‚æœä¸¤é—´ç›¸é‚»çš„æˆ¿å±‹åœ¨åŒä¸€æ™šä¸Šè¢«å°å·é—¯å…¥ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æŠ¥è­¦ã€‚ ç»™å®šä¸€ä¸ªä»£è¡¨æ¯ä¸ªæˆ¿å±‹å­˜æ”¾é‡‘é¢çš„éè´Ÿæ•´æ•°æ•°ç»„ï¼Œè®¡ç®—ä½ åœ¨ä¸è§¦åŠ¨è­¦æŠ¥è£…ç½®çš„æƒ…å†µä¸‹ï¼Œèƒ½å¤Ÿå·çªƒåˆ°çš„æœ€é«˜é‡‘é¢ã€‚ ç¤ºä¾‹ 1: 123è¾“å…¥: [2,3,2]è¾“å‡º: 3è§£é‡Š: ä½ ä¸èƒ½å…ˆå·çªƒ 1 å·æˆ¿å±‹ï¼ˆé‡‘é¢ = 2ï¼‰ï¼Œç„¶åå·çªƒ 3 å·æˆ¿å±‹ï¼ˆé‡‘é¢ = 2ï¼‰, å› ä¸ºä»–ä»¬æ˜¯ç›¸é‚»çš„ã€‚ ç¤ºä¾‹ 2: 1234è¾“å…¥: [1,2,3,1]è¾“å‡º: 4è§£é‡Š: ä½ å¯ä»¥å…ˆå·çªƒ 1 å·æˆ¿å±‹ï¼ˆé‡‘é¢ = 1ï¼‰ï¼Œç„¶åå·çªƒ 3 å·æˆ¿å±‹ï¼ˆé‡‘é¢ = 3ï¼‰ã€‚ å·çªƒåˆ°çš„æœ€é«˜é‡‘é¢ = 1 + 3 = 4 ã€‚ æ–¹æ³• è¿™ä¸ªæ˜¯198é¢˜çš„æ‹“å±•ã€‚æœ¬é¢˜ç›®é‡Œé¢çš„æˆ¿é—´æ˜¯ä¸€ä¸ªç¯çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ç¬¬ä¸€ä¸ªæˆ¿å­å’Œæœ€åä¸€ä¸ªæˆ¿å­æ˜¯ç›¸é‚»çš„ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç›¸é‚»çš„ä¸¤ä¸ªæˆ¿å­ä¸èƒ½ä¸€èµ·å·ï¼Œæ±‚èƒ½å·åˆ°çš„é‡‘é¢çš„æœ€å¤§å€¼ã€‚ å¤šäº†ç¯çš„æ¡ä»¶ï¼Œåœ¨è¿™ä¸ªçº¦æŸä¸‹å°±å¤šäº†ä¸ªä¸åŒæ—¶å·ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªå°±å¯ä»¥äº†ã€‚æ‰€ä»¥ï¼Œä¸¤ç§å·çš„æƒ…å†µï¼šç¬¬ä¸€ç§ä¸å·æœ€åä¸€ä¸ªæˆ¿é—´ï¼Œç¬¬äºŒç§ä¸å·ç¬¬ä¸€ä¸ªæˆ¿é—´ï¼Œæ±‚è¿™ä¸¤ç§å·æ³•èƒ½è·å¾—çš„æœ€å¤§å€¼ã€‚æ‰€ä»¥åªå¤šäº†ä¸€ä¸ªåˆ‡ç‰‡çš„è¿‡ç¨‹ã€‚ çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä»ç„¶æ˜¯ï¼š 123dp[0] = num[0] ï¼ˆå½“i=0æ—¶ï¼‰ dp[1] = max(num[0], num[1]) ï¼ˆå½“i=1æ—¶ï¼‰ dp[i] = max(num[i] + dp[i - 2], dp[i - 1]) ï¼ˆå½“i !=0 and i != 1æ—¶ï¼‰ ç¬¬ä¸‰ä¸ªå¼å­å°±æ˜¯å½“å‰çš„æˆ¿é—´å·çš„æƒ…å†µå’Œä¸å·æƒ…å†µä¸‹çš„æœ€å¤§å€¼ã€‚ æ—¶é—´å¤æ‚åº¦æ˜¯O(N)ï¼Œç©ºé—´å¤æ‚åº¦æ˜¯O(N). 1234567891011121314151617181920class Solution: def rob(self, nums: List[int]) -&gt; int: if not nums: return 0 N = len(nums) if N == 1: return nums[0] if N == 2: return max(nums[0], nums[1]) return max(self.rob_range(nums[0: N-1]), self.rob_range(nums[1:N])) def rob_range(self, nums): if not nums: return 0 N = len(nums) if N == 1: return nums[0] if N == 2: return max(nums[0], nums[1]) dp = [0]*N dp[0] = nums[0] dp[1] = max(nums[0], nums[1]) for i in range(2, N): dp[i] = max(dp[i-1], dp[i-2] + nums[i]) return dp[-1] 337. æ‰“å®¶åŠ«èˆ III åœ¨ä¸Šæ¬¡æ‰“åŠ«å®Œä¸€æ¡è¡—é“ä¹‹åå’Œä¸€åœˆæˆ¿å±‹åï¼Œå°å·åˆå‘ç°äº†ä¸€ä¸ªæ–°çš„å¯è¡Œçªƒçš„åœ°åŒºã€‚è¿™ä¸ªåœ°åŒºåªæœ‰ä¸€ä¸ªå…¥å£ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºâ€œæ ¹â€ã€‚ é™¤äº†â€œæ ¹â€ä¹‹å¤–ï¼Œæ¯æ ‹æˆ¿å­æœ‰ä¸”åªæœ‰ä¸€ä¸ªâ€œçˆ¶â€œæˆ¿å­ä¸ä¹‹ç›¸è¿ã€‚ä¸€ç•ªä¾¦å¯Ÿä¹‹åï¼Œèªæ˜çš„å°å·æ„è¯†åˆ°â€œè¿™ä¸ªåœ°æ–¹çš„æ‰€æœ‰æˆ¿å±‹çš„æ’åˆ—ç±»ä¼¼äºä¸€æ£µäºŒå‰æ ‘â€ã€‚ å¦‚æœä¸¤ä¸ªç›´æ¥ç›¸è¿çš„æˆ¿å­åœ¨åŒä¸€å¤©æ™šä¸Šè¢«æ‰“åŠ«ï¼Œæˆ¿å±‹å°†è‡ªåŠ¨æŠ¥è­¦ã€‚ è®¡ç®—åœ¨ä¸è§¦åŠ¨è­¦æŠ¥çš„æƒ…å†µä¸‹ï¼Œå°å·ä¸€æ™šèƒ½å¤Ÿç›—å–çš„æœ€é«˜é‡‘é¢ã€‚ ç¤ºä¾‹ 1: 12345678910è¾“å…¥: [3,2,3,null,3,null,1] 3 / \ 2 3 \ \ 3 1è¾“å‡º: 7 è§£é‡Š: å°å·ä¸€æ™šèƒ½å¤Ÿç›—å–çš„æœ€é«˜é‡‘é¢ = 3 + 3 + 1 = 7. ç¤ºä¾‹ 2: 12345678910è¾“å…¥: [3,4,5,1,3,null,1] 3 / \ 4 5 / \ \ 1 3 1è¾“å‡º: 9è§£é‡Š: å°å·ä¸€æ™šèƒ½å¤Ÿç›—å–çš„æœ€é«˜é‡‘é¢ = 4 + 5 = 9. æ–¹æ³• å°±æ˜¯æ±‚æœ¬èŠ‚ç‚¹+å­™å­æ›´æ·±èŠ‚ç‚¹vså„¿å­èŠ‚ç‚¹+é‡å­™æ›´æ·±çš„èŠ‚ç‚¹çš„æ¯”è¾ƒã€‚ ç”¨äº†dfså‡½æ•°ï¼Œè™½ç„¶é€’å½’æ˜¯è‡ªé¡¶å‘ä¸‹çš„ï¼Œä½†æ˜¯å› ä¸ºæ˜¯ä¸æ–­çš„returnï¼Œæ‰€ä»¥çœŸæ­£æ±‚å€¼æ˜¯ä»åº•å‘ä¸Šçš„ã€‚ ç”¨åˆ°äº†ä¸€ä¸ªæœ‰ä¸¤ä¸ªå…ƒç´ çš„åˆ—è¡¨ï¼Œåˆ†åˆ«ä¿å­˜äº†ä¹‹å‰å±‚çš„ï¼Œä¸å–èŠ‚ç‚¹å’Œå–èŠ‚ç‚¹çš„æƒ…å†µã€‚ç„¶åéå†å·¦å³å­æ ‘ï¼Œæ±‚å‡ºå½“å‰èŠ‚ç‚¹å–å’Œä¸å–èƒ½å¾—åˆ°çš„å€¼ï¼Œå†è¿”å›ç»™ä¸Šä¸€å±‚ã€‚ æ³¨æ„è¿™ä¸ªé‡Œé¢çš„robcuræ˜¯å½“å‰èŠ‚ç‚¹èƒ½è¾¾åˆ°çš„æœ€å¤§å€¼ï¼Œæ‰€ä»¥æœ€åè¿”å›ç»“æœçš„æ—¶å€™è¯•è¯•è¿”å›çš„rootèŠ‚ç‚¹robcurçš„å€¼ 123456789101112131415161718# Definition for a binary tree node.# class TreeNode:# def __init__(self, x):# self.val = x# self.left = None# self.right = Noneclass Solution: def rob(self, root: TreeNode) -&gt; int: def dfs(root): if not root: return [0, 0] left = dfs(root.left) right = dfs(root.right) norob = left[1] + right[1] #æœ¬èŠ‚ç‚¹ä¸æŠ¢åŠ«ï¼Œå„¿å­èŠ‚ç‚¹çš„æœ€å¤§å€¼ robcur = max(root.val + left[0] + right[0], norob) return [norob, robcur] return dfs(root)[1] 309. æœ€ä½³ä¹°å–è‚¡ç¥¨æ—¶æœºå«å†·å†»æœŸ ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ï¼Œå…¶ä¸­ç¬¬ i ä¸ªå…ƒç´ ä»£è¡¨äº†ç¬¬ i å¤©çš„è‚¡ç¥¨ä»·æ ¼ ã€‚â€‹ è®¾è®¡ä¸€ä¸ªç®—æ³•è®¡ç®—å‡ºæœ€å¤§åˆ©æ¶¦ã€‚åœ¨æ»¡è¶³ä»¥ä¸‹çº¦æŸæ¡ä»¶ä¸‹ï¼Œä½ å¯ä»¥å°½å¯èƒ½åœ°å®Œæˆæ›´å¤šçš„äº¤æ˜“ï¼ˆå¤šæ¬¡ä¹°å–ä¸€æ”¯è‚¡ç¥¨ï¼‰: ä½ ä¸èƒ½åŒæ—¶å‚ä¸å¤šç¬”äº¤æ˜“ï¼ˆä½ å¿…é¡»åœ¨å†æ¬¡è´­ä¹°å‰å‡ºå”®æ‰ä¹‹å‰çš„è‚¡ç¥¨ï¼‰ã€‚ å–å‡ºè‚¡ç¥¨åï¼Œä½ æ— æ³•åœ¨ç¬¬äºŒå¤©ä¹°å…¥è‚¡ç¥¨ (å³å†·å†»æœŸä¸º 1 å¤©)ã€‚ ç¤ºä¾‹: 123è¾“å…¥: [1,2,3,0,2]è¾“å‡º: 3 è§£é‡Š: å¯¹åº”çš„äº¤æ˜“çŠ¶æ€ä¸º: [ä¹°å…¥, å–å‡º, å†·å†»æœŸ, ä¹°å…¥, å–å‡º] æ–¹æ³• è¿™ä¸ªé¢˜å’Œ 714é¢˜ æ¯”è¾ƒåƒã€‚åšé¢˜æ–¹æ³•éƒ½æ˜¯ä½¿ç”¨äº†ä¸¤ä¸ªæ•°ç»„ï¼š sell è¯¥å¤©ç»“æŸæ‰‹é‡Œæ²¡æœ‰è‚¡ç¥¨çš„æƒ…å†µä¸‹ï¼Œå·²ç»è·å¾—çš„æœ€å¤§æ”¶ç›Š sell[i]ä»£è¡¨çš„æ˜¯æ‰‹é‡Œæ²¡æœ‰è‚¡ç¥¨çš„æ”¶ç›Šï¼Œè¿™ç§å¯èƒ½æ€§æ˜¯ä»Šå¤©å–äº†æˆ–è€…å•¥ä¹Ÿæ²¡å¹²ã€‚ max(æ˜¨å¤©æ‰‹é‡Œæœ‰è‚¡ç¥¨çš„æ”¶ç›Š+ä»Šå¤©å–è‚¡ç¥¨çš„æ”¶ç›Šï¼Œæ˜¨å¤©æ‰‹é‡Œæ²¡æœ‰è‚¡ç¥¨çš„æ”¶ç›Š)ï¼Œ å³ max(sell[i - 1], hold[i - 1] + prices[i])ï¼› hold è¯¥å¤©ç»“æŸæ‰‹é‡Œæœ‰è‚¡ç¥¨çš„æƒ…å†µä¸‹ï¼Œå·²ç»è·å¾—çš„æœ€å¤§æ”¶ç›Š hold[i]ä»£è¡¨çš„æ˜¯æ‰‹é‡Œæœ‰è‚¡ç¥¨çš„æ”¶ç›Šï¼Œè¿™ç§å¯èƒ½æ€§æ˜¯ä»Šå¤©ä¹°äº†è‚¡ç¥¨æˆ–è€…å•¥ä¹Ÿæ²¡å¹²ï¼Œä»Šå¤©ä¹°è‚¡ç¥¨å¿…é¡»æ˜¨å¤©ä¼‘æ¯ã€‚ max(ä»Šå¤©ä¹°è‚¡ç¥¨æ˜¯å‰å¤©å–æ‰è‚¡ç¥¨çš„æ”¶ç›Š-ä»Šå¤©è‚¡ç¥¨çš„ä»·æ ¼ï¼Œæ˜¨å¤©æ‰‹é‡Œæœ‰è‚¡ç¥¨çš„æ”¶ç›Šï¼‰ã€‚å³ max(hold[i - 1], sell[i - 2] - prices[i])ã€‚ å¦å¤–éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œé¢˜ç›®è¯´çš„æ˜¯æ˜¨å¤©å–äº†è‚¡ç¥¨çš„è¯ä»Šå¤©ä¸èƒ½ä¹°ï¼Œå¯¹äºå¼€å§‹çš„ç¬¬ä¸€å¤©ï¼Œä¸å¯èƒ½æœ‰å–è‚¡ç¥¨çš„è¡Œä¸ºï¼Œæ‰€ä»¥éœ€è¦åšä¸ªåˆ¤æ–­ã€‚ è¯¥ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(n)ï¼Œç©ºé—´å¤æ‚åº¦æ˜¯O(n)ã€‚ 12345678910class Solution: def maxProfit(self, prices: List[int]) -&gt; int: if not prices: return 0 sell = [0] * len(prices) #æ²¡æœ‰è‚¡ç¥¨çš„æ”¶ç›Š hold = [0] * len(prices) #æŒæœ‰è‚¡ç¥¨çš„æ”¶ç›Š hold[0] = -prices[0] #ç¬¬ä¸€å¤© for i in range(1, len(prices)): sell[i] = max(sell[i-1], hold[i-1] + prices[i]) hold[i] = max(hold[i-1], (sell[i-2] if i&gt;=2 else 0) - prices[i]) return sell[-1] å¦‚æœä½¿ç”¨O(1)çš„ç©ºé—´å¤æ‚åº¦ï¼Œé‚£ä¹ˆå°±å¯ä»¥å†™æˆä¸‹é¢è¿™æ ·ï¼š 123456789101112class Solution: def maxProfit(self, prices: List[int]) -&gt; int: if not prices: return 0 prev_sell = 0 curr_sell = 0 hold = -prices[0] for i in range(1, len(prices)): temp = curr_sell curr_sell = max(curr_sell, hold + prices[i]) hold = max(hold, (prev_sell if i &gt;= 2 else 0) - prices[i]) prev_sell = temp return curr_sell 714. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœºå«æ‰‹ç»­è´¹ ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ pricesï¼Œå…¶ä¸­ç¬¬ i ä¸ªå…ƒç´ ä»£è¡¨äº†ç¬¬ i å¤©çš„è‚¡ç¥¨ä»·æ ¼ ï¼›éè´Ÿæ•´æ•° fee ä»£è¡¨äº†äº¤æ˜“è‚¡ç¥¨çš„æ‰‹ç»­è´¹ç”¨ã€‚ ä½ å¯ä»¥æ— é™æ¬¡åœ°å®Œæˆäº¤æ˜“ï¼Œä½†æ˜¯ä½ æ¯æ¬¡äº¤æ˜“éƒ½éœ€è¦ä»˜æ‰‹ç»­è´¹ã€‚å¦‚æœä½ å·²ç»è´­ä¹°äº†ä¸€ä¸ªè‚¡ç¥¨ï¼Œåœ¨å–å‡ºå®ƒä¹‹å‰ä½ å°±ä¸èƒ½å†ç»§ç»­è´­ä¹°è‚¡ç¥¨äº†ã€‚ è¿”å›è·å¾—åˆ©æ¶¦çš„æœ€å¤§å€¼ã€‚ ç¤ºä¾‹ 1: 12345678è¾“å…¥: prices = [1, 3, 2, 8, 4, 9], fee = 2è¾“å‡º: 8è§£é‡Š: èƒ½å¤Ÿè¾¾åˆ°çš„æœ€å¤§åˆ©æ¶¦: åœ¨æ­¤å¤„ä¹°å…¥ prices[0] = 1åœ¨æ­¤å¤„å–å‡º prices[3] = 8åœ¨æ­¤å¤„ä¹°å…¥ prices[4] = 4åœ¨æ­¤å¤„å–å‡º prices[5] = 9æ€»åˆ©æ¶¦: ((8 - 1) - 2) + ((9 - 4) - 2) = 8. æ³¨æ„: 0 &lt; prices.length &lt;= 50000. 0 &lt; prices[i] &lt; 50000. 0 &lt;= fee &lt; 50000. æ–¹æ³•:åŠ¨æ€è§„åˆ’ è¯¥dpä½¿ç”¨äº†ä¸¤ä¸ªæ•°å­—ï¼Œcashå’Œholdã€‚è§£é‡Šå¦‚ä¸‹ï¼š cash è¯¥å¤©ç»“æŸæ‰‹é‡Œæ²¡æœ‰è‚¡ç¥¨çš„æƒ…å†µä¸‹ï¼Œå·²ç»è·å¾—çš„æœ€å¤§æ”¶ç›Š hold è¯¥å¤©ç»“æŸæ‰‹é‡Œæœ‰è‚¡ç¥¨çš„æƒ…å†µä¸‹ï¼Œå·²ç»è·å¾—çš„æœ€å¤§æ”¶ç›Š æ‰€ä»¥è½¬ç§»çŠ¶æ€åˆ†æå¦‚ä¸‹ï¼š cash æ›´æ–°çš„ç­–ç•¥æ˜¯ï¼šæ—¢ç„¶ä»Šå¤©ç»“æŸä¹‹åæ‰‹é‡Œæ²¡æœ‰è‚¡ç¥¨ï¼Œé‚£ä¹ˆå¯èƒ½æ˜¯ä»Šå¤©æ²¡ä¹°ï¼ˆä¿æŒæ˜¨å¤©çš„çŠ¶æ€ï¼‰ï¼Œä¹Ÿå¯èƒ½æ˜¯ä»Šå¤©æŠŠè‚¡ç¥¨å–å‡ºäº† hold æ›´æ–°çš„ç­–ç•¥æ˜¯ï¼šä»Šå¤©ä»Šå¤©ç»“æŸä¹‹åæ‰‹é‡Œæœ‰è‚¡ç¥¨ï¼Œé‚£ä¹ˆå¯èƒ½æ˜¯ä»Šå¤©æ²¡å–ï¼ˆä¿æŒæ˜¨å¤©çš„çŠ¶æ€ï¼‰ï¼Œä¹Ÿå¯èƒ½æ˜¯ä»Šå¤©ä¹°äº†è‚¡ç¥¨ 12345678910class Solution: def maxProfit(self, prices: List[int], fee: int) -&gt; int: cash = 0 hold = -prices[0] for i in range(1,len(prices)): #æ²¡æ“ä½œ,ä¿æŒæ˜¨å¤©çš„çŠ¶æ€ï¼›ä»Šå¤©å–å‡ºè‚¡ç¥¨ cash = max(cash, hold+prices[i]-fee) # æ²¡æ“ä½œ,ä¿æŒæ˜¨å¤©çš„çŠ¶æ€ï¼›ä»Šå¤©ä¹°äº†è‚¡ç¥¨ hold = max(hold, cash-prices[i]) return cash å‚è€ƒ ã€LeetCodeã€‘120. Triangle è§£é¢˜æŠ¥å‘Šï¼ˆPythonï¼‰]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>LeetCode</tag>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>åŠ¨æ€è§„åˆ’</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[pythonè§£LeetCodeé“¾è¡¨(3)]]></title>
    <url>%2F2019%2F04%2F05%2Fpython_linklist(3)%2F</url>
    <content type="text"><![CDATA[è½¬æ¢é“¾è¡¨èŠ‚ç‚¹çš„ä½ç½® ï¼ˆç©¿é’ˆå¼•çº¿ï¼‰ åè½¬é“¾è¡¨ åè½¬é“¾è¡¨ II ä¸¤ä¸¤äº¤æ¢é“¾è¡¨ä¸­çš„èŠ‚ç‚¹ K ä¸ªä¸€ç»„ç¿»è½¬é“¾è¡¨ æ—‹è½¬é“¾è¡¨ åˆ†éš”é“¾è¡¨ é‡æ’é“¾è¡¨ æ’åº å¯¹é“¾è¡¨è¿›è¡Œæ’å…¥æ’åº æ’åºé“¾è¡¨ï¼ˆå½’å¹¶æ’åºï¼‰ å¥‡å¶é“¾è¡¨ 206.åè½¬é“¾è¡¨ Reverse Linked List åè½¬ä¸€ä¸ªå•é“¾è¡¨ã€‚ ç¤ºä¾‹: 12è¾“å…¥: 1-&gt;2-&gt;3-&gt;4-&gt;5-&gt;NULLè¾“å‡º: 5-&gt;4-&gt;3-&gt;2-&gt;1-&gt;NULL æ–¹æ³•ä¸€ï¼šä¸¤ä¸ªæŒ‡é’ˆï¼Œå¤´æ’æ³• ç”¨ä¸¤ä¸ªæŒ‡é’ˆï¼ŒpæŒ‡é’ˆè®°å½•çš„æ˜¯æ¯æ¬¡çš„é˜Ÿå¤´å…ƒç´ ï¼ŒqæŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ªè¦æ’å…¥é˜Ÿå¤´çš„å…ƒç´ ã€‚ headå¸®å¿™æŒ‡å‘ä¸‹è½®è¦å¤´æ’çš„å…ƒç´ ï¼Œå¾…æœ¬è½®æŒ‡é’ˆç¿»è½¬å®Œä¹‹åè¦æŠŠè¯¥å…ƒç´ èµ‹ç»™q 12345678910111213141516class Solution(object): def reverseList(self, head): """ :type head: ListNode :rtype: ListNode """ if not head: return None p = head # pæ˜¯æŒ‡å‘æ¯æ¬¡çš„é˜Ÿå¤´å…ƒç´  q = head.next # qæ˜¯æŒ‡ä¸‹ä¸€ä¸ªè¦æ’å…¥é˜Ÿå¤´çš„å…ƒç´  while q: head.next = q.next # ä¿ç•™åä¸€ä¸ªè¦æ’å…¥çš„å…ƒç´ åœ°å€ q.next = p # æŒ‡é’ˆåè½¬ï¼Œnextä¸ºé˜Ÿå¤´å…ƒç´  p = q #qæ’å…¥ï¼Œä½œä¸ºæ–°çš„é˜Ÿå¤´ q = head.next # é‡æ–°æŒ‡å®šä¸‹ä¸€ä¸ªè¦æ’å…¥é˜Ÿå¤´çš„å…ƒç´  return p æ–¹æ³•äºŒ 1234567class Solution: def reverseList(self, head: ListNode) -&gt; ListNode: cur, prev = head, None while cur: # é“¾è¡¨åè½¬ï¼Œæ›´æ–°æŒ‡é’ˆpreï¼Œæ›´æ–°æŒ‡é’ˆcur cur.next, prev, cur = prev, cur, cur.next return prev 92. åè½¬é“¾è¡¨ II åè½¬ä»ä½ç½® m åˆ° n çš„é“¾è¡¨ã€‚è¯·ä½¿ç”¨ä¸€è¶Ÿæ‰«æå®Œæˆåè½¬ã€‚ è¯´æ˜: 1 â‰¤ m â‰¤ n â‰¤ é“¾è¡¨é•¿åº¦ã€‚ ç¤ºä¾‹: 12è¾“å…¥: 1-&gt;2-&gt;3-&gt;4-&gt;5-&gt;NULL, m = 2, n = 4è¾“å‡º: 1-&gt;4-&gt;3-&gt;2-&gt;5-&gt;NULL æ–¹æ³• ç¿»è½¬é“¾è¡¨çš„è€Œå˜å½¢é¢˜ç›®äº†ã€‚è¿›è¡Œä¸€ééå†ï¼ŒæŠŠç¬¬måˆ°nä¸ªå…ƒç´ è¿›è¡Œç¿»è½¬ï¼Œå³ä¾æ¬¡æ’å…¥åˆ°ç¬¬mä¸ªèŠ‚ç‚¹çš„å¤´éƒ¨ã€‚ å®é™…é¢è¯•ä¸­ç»†èŠ‚è€ƒè™‘ï¼šmå’Œnè¶…è¿‡é“¾è¡¨èŒƒå›´æ€ä¹ˆåŠï¼Ÿ m&gt;næ€ä¹ˆåŠï¼Ÿ 1234567891011121314151617181920212223class Solution: def reverseBetween(self, head: ListNode, m: int, n: int) -&gt; ListNode: count = 1 root = ListNode(1) root.next = head pre = root while pre.next and count&lt;m: pre = pre.next count += 1 if count &lt; m: return head mNode = pre.next curr = mNode.next while curr and count&lt;n: Next = curr.next curr.next = pre.next pre.next = curr mNode.next = Next curr = Next count += 1 return root.next 24. ä¸¤ä¸¤äº¤æ¢é“¾è¡¨ä¸­çš„èŠ‚ç‚¹ Swap Nodes in Pairs ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œä¸¤ä¸¤äº¤æ¢å…¶ä¸­ç›¸é‚»çš„èŠ‚ç‚¹ï¼Œå¹¶è¿”å›äº¤æ¢åçš„é“¾è¡¨ã€‚ ä½ ä¸èƒ½åªæ˜¯å•çº¯çš„æ”¹å˜èŠ‚ç‚¹å†…éƒ¨çš„å€¼ï¼Œè€Œæ˜¯éœ€è¦å®é™…çš„è¿›è¡ŒèŠ‚ç‚¹äº¤æ¢ã€‚ ç¤ºä¾‹: ç»™å®š 1-&gt;2-&gt;3-&gt;4, ä½ åº”è¯¥è¿”å› 2-&gt;1-&gt;4-&gt;3. æ–¹æ³• a, b, pre ä¸‰ä¸ªæŒ‡é’ˆå˜é‡ 123456789101112131415# Definition for singly-linked list.# class ListNode:# def __init__(self, x):# self.val = x# self.next = Noneclass Solution: def swapPairs(self, head: ListNode) -&gt; ListNode: pre, pre.next = self, head while pre.next and pre.next.next: #è€ƒè™‘å¥‡æ•°å’Œå¶æ•° a = pre.next # preæ˜¯æ¯æ¬¡è¦è°ƒæ¢çš„ä¸¤ä¸ªå…ƒç´ çš„å‰ä¸€ä¸ªå…ƒç´  b = a.next # a,bæ˜¯è¦è°ƒæ¢çš„ç›¸é‚»å…ƒç´  pre.next, b.next, a.next =b, a, b.next # nextè¿çº¿é‡ç½® pre = a return self.next 25. K ä¸ªä¸€ç»„ç¿»è½¬é“¾è¡¨ ç»™ä½ ä¸€ä¸ªé“¾è¡¨ï¼Œæ¯ k ä¸ªèŠ‚ç‚¹ä¸€ç»„è¿›è¡Œç¿»è½¬ï¼Œè¯·ä½ è¿”å›ç¿»è½¬åçš„é“¾è¡¨ã€‚ k æ˜¯ä¸€ä¸ªæ­£æ•´æ•°ï¼Œå®ƒçš„å€¼å°äºæˆ–ç­‰äºé“¾è¡¨çš„é•¿åº¦ã€‚ å¦‚æœèŠ‚ç‚¹æ€»æ•°ä¸æ˜¯ k çš„æ•´æ•°å€ï¼Œé‚£ä¹ˆè¯·å°†æœ€åå‰©ä½™çš„èŠ‚ç‚¹ä¿æŒåŸæœ‰é¡ºåºã€‚ ç¤ºä¾‹ : 123ç»™å®šè¿™ä¸ªé“¾è¡¨ï¼š1-&gt;2-&gt;3-&gt;4-&gt;5å½“ k = 2 æ—¶ï¼Œåº”å½“è¿”å›: 2-&gt;1-&gt;4-&gt;3-&gt;5å½“ k = 3 æ—¶ï¼Œåº”å½“è¿”å›: 3-&gt;2-&gt;1-&gt;4-&gt;5 è¯´æ˜ : ä½ çš„ç®—æ³•åªèƒ½ä½¿ç”¨å¸¸æ•°çš„é¢å¤–ç©ºé—´ã€‚ ä½ ä¸èƒ½åªæ˜¯å•çº¯çš„æ”¹å˜èŠ‚ç‚¹å†…éƒ¨çš„å€¼ï¼Œè€Œæ˜¯éœ€è¦å®é™…çš„è¿›è¡ŒèŠ‚ç‚¹äº¤æ¢ã€‚ æ–¹æ³• ç¿»è½¬å‡½æ•°å•ç‹¬å†™å‡ºæ¥è°ƒç”¨æ›´æ¸…æ™°ã€‚æ¯æ¬¡kä¸ªå…ƒç´ ç¿»è½¬ï¼Œå†å’Œå‰åä¸¤ä¸ªèŠ‚ç‚¹è¿æ¥èµ·æ¥ã€‚ 123456789101112131415161718192021222324252627class Solution: def reverseKGroup(self, head: ListNode, k: int) -&gt; ListNode: if not head or k &lt;= 1: return head dummy = ListNode(-1) #è®¾ç«‹é“¾è¡¨çš„è™šæ‹Ÿå¤´ç»“ç‚¹ dummy.next = head temp = dummy # éå†æ•´ä¸ªé“¾è¡¨ while temp: temp = self.reverseNextK(temp, k) return dummy.next def reverseNextK(self, head, k): # æ£€æŸ¥å½“å‰éå†å‰©ä½™èŠ‚ç‚¹æ•°æ˜¯å¦æ¯”kå° temp = head for _ in range(k): if not temp.next: return None temp = temp.next prev, cur, tail = head, head.next, head.next for _ in range(k): # é“¾è¡¨åè½¬ï¼Œæ›´æ–°æŒ‡é’ˆpreï¼Œæ›´æ–°æŒ‡é’ˆcur cur.next, prev, cur = prev, cur, cur.next # è¿æ¥å¤´headå’Œå°¾tail head.next, tail.next = prev, cur return tail 61. æ—‹è½¬é“¾è¡¨ ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œæ—‹è½¬é“¾è¡¨ï¼Œå°†é“¾è¡¨æ¯ä¸ªèŠ‚ç‚¹å‘å³ç§»åŠ¨ k ä¸ªä½ç½®ï¼Œå…¶ä¸­ k æ˜¯éè´Ÿæ•°ã€‚ ç¤ºä¾‹ 1: 12345è¾“å…¥: 1-&gt;2-&gt;3-&gt;4-&gt;5-&gt;NULL, k = 2è¾“å‡º: 4-&gt;5-&gt;1-&gt;2-&gt;3-&gt;NULLè§£é‡Š:å‘å³æ—‹è½¬ 1 æ­¥: 5-&gt;1-&gt;2-&gt;3-&gt;4-&gt;NULLå‘å³æ—‹è½¬ 2 æ­¥: 4-&gt;5-&gt;1-&gt;2-&gt;3-&gt;NULL ç¤ºä¾‹ 2: 1234567è¾“å…¥: 0-&gt;1-&gt;2-&gt;NULL, k = 4è¾“å‡º: 2-&gt;0-&gt;1-&gt;NULLè§£é‡Š:å‘å³æ—‹è½¬ 1 æ­¥: 2-&gt;0-&gt;1-&gt;NULLå‘å³æ—‹è½¬ 2 æ­¥: 1-&gt;2-&gt;0-&gt;NULLå‘å³æ—‹è½¬ 3 æ­¥: 0-&gt;1-&gt;2-&gt;NULLå‘å³æ—‹è½¬ 4 æ­¥: 2-&gt;0-&gt;1-&gt;NULL æ–¹æ³• é¦–å…ˆï¼Œå¯ä»¥ä»Example 2ä¹Ÿèƒ½çœ‹å‡ºæ¥ï¼Œå­˜åœ¨k&gt;lençš„æƒ…å†µï¼Œè¿™æ ·å¿…é¡»æ±‚ä½™è¿ç®—ï¼Œå¦åˆ™è‚¯å®šè¶…æ—¶ã€‚å³è¦æ±‚é“¾è¡¨çš„é•¿åº¦ã€‚ å…¶æ¬¡ï¼Œå¦‚æœæ±‚ä½™ä¹‹åï¼ŒçŸ¥é“äº†ç§»åŠ¨å‡ æ¬¡ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯æŠŠé“¾è¡¨çš„åé¢kä¸ªèŠ‚ç‚¹ç§»åŠ¨åˆ°å¼€å¤´å»ã€‚æ³¨æ„æ˜¯å¹³ç§»ï¼Œé¡ºåºä¸å˜çš„ã€‚æ‰€ä»¥è¦æ‰¾åˆ°åé¢çš„kä¸ªèŠ‚ç‚¹ï¼Œé‚£ä¹ˆéœ€è¦ç”¨åˆ°19. Remove Nth Node From End of Listç±»ä¼¼çš„æ–¹æ³•ï¼Œç”¨ä¸¤ä¸ªè·ç¦»ä¸ºkçš„æŒ‡é’ˆè¿›è¡Œå¹³ç§»æ“ä½œï¼Œå½“å‰é¢çš„åˆ°è¾¾äº†æœ«å°¾ï¼Œé‚£ä¹ˆåé¢çš„æ­£å¥½æ˜¯å€’æ•°ç¬¬kä¸ªã€‚ æ‰¾åˆ°å€’æ•°ç¬¬kä¸ªä¹‹åï¼Œé‚£ä¹ˆæŠŠè¿™ä¸ªèŠ‚ç‚¹å’Œä¹‹å‰çš„èŠ‚ç‚¹æ–­å¼€ï¼ŒæŠŠåé¢çš„è¿™æ®µç§»åˆ°å‰é¢å»å³å¯ã€‚ 1234567891011121314151617181920212223class Solution: def rotateRight(self, head: ListNode, k: int) -&gt; ListNode: if not head or not head.next: return head root = head _len = 0 while head: _len += 1 head = head.next k %= _len if k == 0: return root fast, slow = root,root while k-1: fast = fast.next k -= 1 pre = slow while fast.next: fast = fast.next pre = slow slow = slow.next pre.next = None fast.next = root return slow 86. åˆ†éš”é“¾è¡¨ ç»™å®šä¸€ä¸ªé“¾è¡¨å’Œä¸€ä¸ªç‰¹å®šå€¼ xï¼Œå¯¹é“¾è¡¨è¿›è¡Œåˆ†éš”ï¼Œä½¿å¾—æ‰€æœ‰å°äº x çš„èŠ‚ç‚¹éƒ½åœ¨å¤§äºæˆ–ç­‰äº x çš„èŠ‚ç‚¹ä¹‹å‰ã€‚ ä½ åº”å½“ä¿ç•™ä¸¤ä¸ªåˆ†åŒºä¸­æ¯ä¸ªèŠ‚ç‚¹çš„åˆå§‹ç›¸å¯¹ä½ç½®ã€‚ ç¤ºä¾‹: 12è¾“å…¥: head = 1-&gt;4-&gt;3-&gt;2-&gt;5-&gt;2, x = 3è¾“å‡º: 1-&gt;2-&gt;2-&gt;4-&gt;3-&gt;5 æ–¹æ³• åšé“¾è¡¨çš„é¢˜ï¼Œä¸è¦çœæŒ‡é’ˆã€‚ è¿™ä¸ªé¢˜ç±»ä¼¼äºå¿«æ’çš„è¿‡ç¨‹ã€‚ ç”¨ä¸¤ä¸ªæ–°æŒ‡é’ˆï¼Œåˆ†åˆ«è®°å½•æ¯”xå€¼å°çš„å’Œæ¯”xå€¼å¤§çš„ï¼Œéå†åŸæ¥çš„é“¾è¡¨çš„æ—¶å€™æ ¹æ®å€¼çš„å¤§å°æ‹¼æ¥åˆ°å¯¹åº”çš„é“¾è¡¨åé¢ã€‚ æœ€åå†æŠŠä¸¤ä¸ªé“¾è¡¨æ‹¼æ¥åˆ°ä¸€èµ·å°±è¡Œäº†ã€‚ 12345678910111213141516class Solution: def partition(self, head: ListNode, x: int) -&gt; ListNode: small = ListNode(0) large = ListNode(0) small_root, large_root = small, large while head: if head.val &lt; x: small.next = head small = small.next else: large.next = head large = large.next head = head.next large.next = None small.next = large_root.next return small_root.next 143. é‡æ’é“¾è¡¨ ç»™å®šä¸€ä¸ªå•é“¾è¡¨ Lï¼šL0â†’L1â†’â€¦â†’Ln-1â†’Ln ï¼Œ å°†å…¶é‡æ–°æ’åˆ—åå˜ä¸ºï¼š L0â†’Lnâ†’L1â†’Ln-1â†’L2â†’Ln-2â†’â€¦ ä½ ä¸èƒ½åªæ˜¯å•çº¯çš„æ”¹å˜èŠ‚ç‚¹å†…éƒ¨çš„å€¼ï¼Œè€Œæ˜¯éœ€è¦å®é™…çš„è¿›è¡ŒèŠ‚ç‚¹äº¤æ¢ã€‚ ç¤ºä¾‹1:ç»™å®šé“¾è¡¨ 1-&gt;2-&gt;3-&gt;4, é‡æ–°æ’åˆ—ä¸º 1-&gt;4-&gt;2-&gt;3. ç¤ºä¾‹ 2: 1ç»™å®šé“¾è¡¨ 1-&gt;2-&gt;3-&gt;4-&gt;5, é‡æ–°æ’åˆ—ä¸º 1-&gt;5-&gt;2-&gt;4-&gt;3. æ–¹æ³• é¢˜ç›®å¤§æ„:æŠŠä¸€ä¸ªé“¾è¡¨çš„å‰åŠéƒ¨åˆ†æ­£åºï¼ŒååŠéƒ¨åˆ†é€†åºï¼Œç„¶åä¸€ä¸ªä¸€ä¸ªçš„è¿æ¥èµ·æ¥ã€‚ é“¾è¡¨æ— æ³•éšæœºè®¿é—®æ•°æ®ï¼Œå¦‚ä½•è·å¾—ä¸­é—´çš„å…ƒç´ ï¼Ÿ å¥‡æ•°è¿˜æ˜¯å¶æ•°ä¸ªèŠ‚ç‚¹ï¼Ÿ ä¸¤æ¬¡éå†è¿˜æ˜¯ä¸€æ¬¡éå†ï¼Ÿ 123456789101112131415161718192021222324252627282930313233343536373839class Solution(object): def reorderList(self, head): """ :type head: ListNode :rtype: None Do not return anything, modify head in-place instead. """ if head and head.next and head.next.next: # æ‰¾ä¸­é—´ä½ç½®head2 fast, slow = head, head while fast.next and fast.next.next: fast = fast.next.next slow = slow.next head1 = head head2 = slow.next slow.next = None # å‰åŠéƒ¨åˆ†ç»“å°¾ç©º # åè½¬head2ååŠéƒ¨åˆ† pre = ListNode(0) pre.next = head2 curr = head2.next head2.next = None # ååŠéƒ¨åˆ†ç»“å°¾ç©º while curr: temp = curr curr = curr.next temp.next = pre.next pre.next = temp head2 = pre.next # ä¸¤éƒ¨åˆ†äº¤å‰è¿æ¥ p1, p2 = head1, head2 while p2: temp1 = p1.next temp2 = p2.next p1.next = p2 p2.next = temp1 p1 = temp1 p2 = temp2 147. å¯¹é“¾è¡¨è¿›è¡Œæ’å…¥æ’åº æ’å…¥æ’åºç®—æ³•ï¼š æ’å…¥æ’åºæ˜¯è¿­ä»£çš„ï¼Œæ¯æ¬¡åªç§»åŠ¨ä¸€ä¸ªå…ƒç´ ï¼Œç›´åˆ°æ‰€æœ‰å…ƒç´ å¯ä»¥å½¢æˆä¸€ä¸ªæœ‰åºçš„è¾“å‡ºåˆ—è¡¨ã€‚ æ¯æ¬¡è¿­ä»£ä¸­ï¼Œæ’å…¥æ’åºåªä»è¾“å…¥æ•°æ®ä¸­ç§»é™¤ä¸€ä¸ªå¾…æ’åºçš„å…ƒç´ ï¼Œæ‰¾åˆ°å®ƒåœ¨åºåˆ—ä¸­é€‚å½“çš„ä½ç½®ï¼Œå¹¶å°†å…¶æ’å…¥ã€‚ é‡å¤ç›´åˆ°æ‰€æœ‰è¾“å…¥æ•°æ®æ’å…¥å®Œä¸ºæ­¢ã€‚ æ–¹æ³• 123456789101112131415161718192021class Solution(object): def insertionSortList(self, head): """ :type head: ListNode :rtype: ListNode """ if not head or not head.next: return head pre = ListNode(0) pre.next = head while head.next: # éå†æ¯ä¸ªå…ƒç´ ï¼Œå¦‚æœå°äºå°±æ’å…¥å‰é¢ if head.val &lt;= head.next.val: head = head.next else: temp = head.next # tempç”¨æ¥è·Ÿå‰é¢çš„æœ‰åºæ•°åˆ—è¿›è¡Œä¾æ¬¡æ¯”è¾ƒ head.next = head.next.next # åˆ æ‰è¯¥å…ƒç´  p = pre #æœ‰åºæ•°åˆ—ä»å‰å¼€å§‹æ¯”è¾ƒ while p.next and p.next.val&lt;= temp.val: p = p.next temp.next = p.next p.next = temp return pre.next 148. æ’åºé“¾è¡¨ åœ¨ O(n log n) æ—¶é—´å¤æ‚åº¦å’Œå¸¸æ•°çº§ç©ºé—´å¤æ‚åº¦ä¸‹ï¼Œå¯¹é“¾è¡¨è¿›è¡Œæ’åºã€‚ ç¤ºä¾‹ 1: è¾“å…¥: 4-&gt;2-&gt;1-&gt;3 è¾“å‡º: 1-&gt;2-&gt;3-&gt;4 ç¤ºä¾‹ 2: è¾“å…¥: -1-&gt;5-&gt;3-&gt;4-&gt;0 è¾“å‡º: -1-&gt;0-&gt;3-&gt;4-&gt;5 æ–¹æ³• è¿™ä¸ªé¢˜è¦æ±‚ç”¨O(nlongn)çš„æ—¶é—´å¤æ‚åº¦å’ŒO(1)çš„ç©ºé—´å¤æ‚åº¦ã€‚æ‰€ä»¥å¯ä»¥ä½¿ç”¨mergeæ’åºï¼Œä½†æ˜¯å¦‚æœæ˜¯é“¾è¡¨å¯ä»¥ä¿®æ”¹æŒ‡é’ˆï¼ŒæŠŠä¸¤ä¸ªæœ‰åºé“¾è¡¨è¿›è¡ŒåŸåœ°çš„åˆå¹¶ã€‚ Mergeæ’åºå°±æ˜¯å…ˆåˆ’åˆ†æˆä¸€å‰ä¸€åç­‰åˆ†çš„ä¸¤å—ï¼Œç„¶åå¯¹ä¸¤å—åˆ†åˆ«è¿›è¡Œæ’åºï¼Œç„¶åå†åˆå¹¶ä¸¤ä¸ªæœ‰åºåºåˆ—ã€‚ ç¬¬ä¸€æ­¥ï¼Œå¦‚ä½•ç­‰åˆ†åœ°åˆ’åˆ†ï¼Œå¯ä»¥ä½¿ç”¨å¿«æ…¢æŒ‡é’ˆçš„æ–¹å¼ï¼Œå½“å¿«æŒ‡é’ˆåˆ°è¾¾ç»“å°¾ï¼Œé‚£ä¹ˆæ…¢æŒ‡é’ˆåˆ°äº†ä¸­é—´ä½ç½®ï¼ŒæŠŠé“¾è¡¨è¿›è¡Œæˆªæ–­åˆ†æˆäº†ä¸¤ä¸ªã€‚ ç¬¬äºŒæ­¥ï¼Œåˆå¹¶æœ‰åºçš„åºåˆ—ï¼Œå¯¹äºå•é“¾è¡¨æ¥è¯´ï¼Œæ­£å¥½ç”¨åˆ°äº† Merge Two Sorted Lists é‡Œçš„æŠŠä¸¤ä¸ªé“¾è¡¨åˆå¹¶çš„æ–¹æ³•ã€‚ äº‹å®ä¸Šï¼Œè¿™ä¸ªç­”æ¡ˆé‡Œé¢å¹¶ä¸æ˜¯O(1)çš„ç©ºé—´ï¼Œå› ä¸ºï¼Œç¬¬ä¸€ï¼Œæ·»åŠ äº†æ–°çš„é“¾è¡¨å¤´çš„ä¸ªæ•°ä¼šéšç€é€’å½’çš„æ¬¡æ•°è€Œä¸æ–­å¢åŠ ï¼Œå¹¶ä¸æ˜¯å¸¸é‡ä¸ªï¼›ç¬¬äºŒï¼Œé€’å½’æœ¬èº«å°±ä¸æ˜¯å¸¸é‡ç©ºé—´ã€‚ 1234567891011121314151617181920212223242526272829303132333435class Solution(object): def sortList(self, head): """ :type head: ListNode :rtype: ListNode """ # åˆ’åˆ†æˆä¸¤éƒ¨åˆ† if not head or not head.next: return head pre, fast, slow = head, head, head while fast and fast.next: # æ‰¾ä¸­é—´ä½ç½® pre = slow slow = slow.next fast = fast.next.next pre.next = None # å‰åŠéƒ¨åˆ†ç»“å°¾ç©º L1 = self.sortList(head) # é€’å½’åˆ’åˆ† L2 = self.sortList(slow) return self.merge2Lists(L1, L2) # åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„ def merge2Lists(self, l1, l2): head = ListNode(0) move = head if not l1: return l2 if not l2: return l1 while l1 and l2: if l1.val &lt;= l2.val: move.next = l1 l1 = l1.next else: move.next = l2 l2 = l2.next move = move.next move.next = l2 if l2 else l1 return head.next 328.å¥‡å¶é“¾è¡¨ æ–¹æ³• ç»™å®šä¸€ä¸ªå•é“¾è¡¨ï¼ŒæŠŠæ‰€æœ‰çš„å¥‡æ•°èŠ‚ç‚¹å’Œå¶æ•°èŠ‚ç‚¹åˆ†åˆ«æ’åœ¨ä¸€èµ·ã€‚è¯·æ³¨æ„ï¼Œè¿™é‡Œçš„å¥‡æ•°èŠ‚ç‚¹å’Œå¶æ•°èŠ‚ç‚¹æŒ‡çš„æ˜¯èŠ‚ç‚¹ç¼–å·çš„å¥‡å¶æ€§ï¼Œè€Œä¸æ˜¯èŠ‚ç‚¹çš„å€¼çš„å¥‡å¶æ€§ã€‚ è¯·å°è¯•ä½¿ç”¨åŸåœ°ç®—æ³•å®Œæˆã€‚ä½ çš„ç®—æ³•çš„ç©ºé—´å¤æ‚åº¦åº”ä¸º O(1)ï¼Œæ—¶é—´å¤æ‚åº¦åº”ä¸º O(nodes)ï¼Œnodes ä¸ºèŠ‚ç‚¹æ€»æ•°ã€‚ ç¤ºä¾‹ 1: 12è¾“å…¥: 1-&gt;2-&gt;3-&gt;4-&gt;5-&gt;NULLè¾“å‡º: 1-&gt;3-&gt;5-&gt;2-&gt;4-&gt;NULL ç¤ºä¾‹ 2: 12è¾“å…¥: 2-&gt;1-&gt;3-&gt;5-&gt;6-&gt;4-&gt;7-&gt;NULL è¾“å‡º: 2-&gt;3-&gt;6-&gt;7-&gt;1-&gt;5-&gt;4-&gt;NULL è¯´æ˜: åº”å½“ä¿æŒå¥‡æ•°èŠ‚ç‚¹å’Œå¶æ•°èŠ‚ç‚¹çš„ç›¸å¯¹é¡ºåºã€‚ é“¾è¡¨çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹è§†ä¸ºå¥‡æ•°èŠ‚ç‚¹ï¼Œç¬¬äºŒä¸ªèŠ‚ç‚¹è§†ä¸ºå¶æ•°èŠ‚ç‚¹ï¼Œä»¥æ­¤ç±»æ¨ã€‚ æ–¹æ³• ä¸¤æ¡é“¾,å¦‚æœæ˜¯å¥‡æ•°èŠ‚ç‚¹æ”¾åˆ°å¥‡é“¾ï¼Œå¦‚æœæ˜¯å¶æ•°èŠ‚ç‚¹å°±æ”¾åˆ°å¶é“¾ã€‚æœ€åï¼ŒæŠŠå¶é“¾æ”¾åˆ°å¥‡é“¾çš„åé¢å°±å¥½äº†ã€‚ æ³¨æ„ï¼Œå¶é“¾çš„æœ«å°¾æŒ‡é’ˆè¦è®¾ç½®æˆç©ºï¼Œå·²è®©å•é“¾è¡¨ç»ˆæ­¢ã€‚ æ¯”å¦‚å¯¹äºç”¨ä¾‹[1,2,3]ï¼Œå¥‡æ•°é“¾æ˜¯1-&gt;3ï¼Œå¶é“¾æ˜¯2ï¼Œè€Œéå†å®Œæˆåçš„å¶é“¾2ä»ç„¶æŒ‡å‘3çš„ï¼Œæ‰€ä»¥æ­»å¾ªç¯äº†ã€‚æŠŠå°¾æŒ‡é’ˆè®¾ç½®æˆç©ºå°±èƒ½ç»ˆæ­¢äº†ã€‚ 123456789101112131415161718class Solution: def oddEvenList(self, head: ListNode) -&gt; ListNode: odd = ListNode(0) even = ListNode(0) oddHead, evenHead = odd, even index = 0 while head: if index &amp; 1 == 0: odd.next = head odd = odd.next else: even.next = head even = even.next head = head.next index += 1 even.next = None odd.next = evenHead.next return oddHead.next å‚è€ƒ LeetCode 2. Add Two Numbers è§£é¢˜æŠ¥å‘Šï¼ˆPython &amp; C++ï¼‰ ã€LeetCodeã€‘142. Linked List Cycle II è§£é¢˜æŠ¥å‘Šï¼ˆPython &amp; C++ï¼‰]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>LeetCode</tag>
        <tag>é“¾è¡¨</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ¢¯åº¦æå‡æ ‘(GBDT)ç®—æ³•æ¢³ç†]]></title>
    <url>%2F2019%2F04%2F04%2F%E6%A2%AF%E5%BA%A6%E6%8F%90%E5%8D%87%E5%86%B3%E7%AD%96%E6%A0%91(GBDT)%E7%AE%97%E6%B3%95%E6%A2%B3%E7%90%86%2F</url>
    <content type="text"><![CDATA[æ¢¯åº¦æå‡å†³ç­–æ ‘ï¼ˆGradient Boosting Decision Treeï¼Œ GBDTï¼‰æ˜¯Boostingç®—æ³•ä¸­éå¸¸æµè¡Œçš„æ¨¡å‹ï¼Œä¹Ÿæ˜¯è¿‘æ¥åœ¨æœºå™¨å­¦ä¹ ç«èµ›ã€å•†ä¸šåº”ç”¨ä¸­è¡¨ç°éƒ½éå¸¸ä¼˜ç§€çš„æ¨¡å‹ã€‚GBDTéå¸¸å¥½åœ°ä½“ç°äº†â€œä»é”™è¯¯ä¸­å­¦ä¹ â€çš„ç†å¿µï¼ŒåŸºäºå†³ç­–æ ‘é¢„æµ‹çš„æ®‹å·®è¿›è¡Œè¿­ä»£çš„å­¦ä¹ ã€‚ å­¦ä¹ ä»»åŠ¡ï¼š å‰å‘åˆ†æ­¥ç®—æ³• è´Ÿæ¢¯åº¦æ‹Ÿåˆ æŸå¤±å‡½æ•° å›å½’ äºŒåˆ†ç±»ï¼Œå¤šåˆ†ç±» æ­£åˆ™åŒ– ä¼˜ç¼ºç‚¹ sklearnå‚æ•° GDBT åŸºæœ¬æ€æƒ³æ˜¯æ ¹æ®å½“å‰æ¨¡å‹æŸå¤±å‡½æ•°çš„è´Ÿæ¢¯åº¦ä¿¡æ¯æ¥è®­ç»ƒæ–°åŠ å…¥çš„å¼±åˆ†ç±»å™¨ï¼Œ ç„¶åå°†è®­ç»ƒå¥½çš„å¼±åˆ†ç±»å™¨ä»¥ç´¯åŠ çš„å½¢å¼ç»“åˆåˆ°ç°æœ‰æ¨¡å‹ä¸­ã€‚ é‡‡ç”¨å†³ç­–æ ‘ä½œä¸ºå¼±åˆ†ç±»å™¨çš„Gradient Boostingç®—æ³•è¢«ç§°ä¸ºGBDTï¼Œæœ‰æ—¶åˆè¢«ç§°ä¸ºMARTï¼ˆMultiple Additive Regression Treeï¼‰ã€‚GBDTä¸­ä½¿ç”¨çš„å†³ç­–æ ‘é€šå¸¸ä¸ºCARTã€‚ GBDTä¸­æ¯ä¸€æ£µæ ‘å­¦çš„æ˜¯ä¹‹å‰æ‰€æœ‰æ ‘ç»“è®ºå’Œçš„æ®‹å·®ï¼Œ è¿™ä¸ªæ®‹å·®å°±æ˜¯ä¸€ä¸ªåŠ é¢„æµ‹å€¼åèƒ½å¾—çœŸå®å€¼çš„ç´¯åŠ é‡ã€‚ ä¸¾ä¾‹å­æ¥è¯´ï¼Œå‡è®¾å¯¹æ¯ä¸ªç”¨æˆ·çš„å¹´é¾„åšå‡ºé¢„æµ‹ï¼Œä¾‹å¦‚ç”¨æˆ·Açš„çœŸå®å¹´é¾„æ˜¯25å²ï¼Œ ä½†ç¬¬ä¸€æ£µå†³ç­–æ ‘çš„é¢„æµ‹å¹´é¾„æ˜¯22å²ï¼Œ å·®äº†3å²ï¼Œ å³æ®‹å·®ä¸º3ã€‚ é‚£ä¹ˆåœ¨ç¬¬äºŒæ£µæ ‘é‡Œæˆ‘ä»¬æŠŠAçš„å¹´é¾„è®¾ä¸º3å²å»å­¦ä¹ ï¼Œ å¦‚æœç¬¬äºŒæ£µæ ‘èƒ½æŠŠAåˆ†åˆ°3å²çš„å¶å­èŠ‚ç‚¹ï¼Œ é‚£ä¸¤æ£µæ ‘çš„ç»“æœç›¸åŠ å°±å¯ä»¥å¾—åˆ°Açš„çœŸå®å¹´é¾„ï¼› å¦‚æœç¬¬äºŒæ£µæ ‘çš„ç»“è®ºæ˜¯5å²ï¼Œ åˆ™Aä»ç„¶å­˜åœ¨âˆ’2å²çš„æ®‹å·®ï¼Œ ç¬¬ä¸‰æ£µæ ‘é‡ŒAçš„å¹´é¾„å°±å˜æˆâˆ’2å²ï¼Œç»§ç»­å­¦ã€‚ è¿™é‡Œä½¿ç”¨æ®‹å·®ç»§ç»­å­¦ä¹ ï¼Œ å°±æ˜¯GBDTä¸­Gradient Boostedæ‰€è¡¨è¾¾çš„æ„æ€ã€‚ å‰å‘åˆ†æ­¥ç®—æ³• åœ¨GBDTçš„è¿­ä»£ä¸­ï¼Œå‡è®¾æˆ‘ä»¬å‰ä¸€è½®è¿­ä»£å¾—åˆ°çš„å¼ºå­¦ä¹ å™¨ï¼ˆå³å½“å‰æ¨¡å‹ï¼‰æ˜¯ \(f_{m-1}(x)\), æŸå¤±å‡½æ•°æ˜¯ \(L(y, f_{m-1}(x))\) , æˆ‘ä»¬æœ¬è½®è¿­ä»£çš„ç›®æ ‡æ˜¯æ‰¾åˆ°ä¸€ä¸ªCARTå›å½’æ ‘æ¨¡å‹çš„å¼±å­¦ä¹ å™¨ \(h(x:\alpha_{m})\)ï¼Œè®©æœ¬è½®çš„æŸå¤±å‡½æ•° \(L(y, f_{m}(x) =L(y, f_{m-1}(x)+ h(x:\alpha))\) æœ€å°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä»å‰å‘åï¼Œæ¯ä¸€æ­¥åªå­¦ä¹ ä¸€ä¸ªåŸºå‡½æ•°åŠå…¶ç³»æ•°ï¼Œé€æ­¥é€¼è¿‘ä¼˜åŒ–æŸå¤±å‡½æ•°ã€‚ è¾“å…¥ï¼šè®­ç»ƒæ•°æ®é›† \(T=\{(x_,y_1),(x_2,y_2), ...(x_N,y_N)\}\); æŸå¤±å‡½æ•°æ˜¯ \(L(y, f(x))\); åŸºå‡½æ•°é›† \({h(x:\alpha)}\); è¾“å‡ºï¼šåŠ æ³•æ¨¡å‹\(f(x)\). åˆå§‹åŒ–\(f_{0}(x)=0\) For \(m=1\) to \(M\) doï¼š é€šè¿‡æå°åŒ–æŸå¤±å‡½æ•°(å¦‚ä¸‹å…¬å¼1)å¾—åˆ°ä¸‹ä¸€é¢—å†³ç­–æ ‘çš„å‚æ•°:\(\beta_{m},\alpha_{m}\). \[(\beta_{m},\alpha_{m}) = arg\min \limits_{\beta,\alpha}\sum\limits_{i=1}^{N} L(y_i,f_{m-1}(x_i) + \beta h(x:\alpha))\tag{1}\] æ›´æ–° \[f_{m}(x) = f_{tm-1}(x) + \beta_{m} h(x:\alpha_{m}))\tag{2}\] 5. å‰ä¸‰æ­¥å¾ªç¯ç»“æŸå³å¯å¾—åˆ°åŠ æ³•æ¨¡å‹ï¼š \[f(x) = f_{M}(x) = \sum\limits_{m=1}^{M} \beta_{m} h(x:\alpha_{m}))\tag{3}\] GBDT çš„è´Ÿæ¢¯åº¦æ‹Ÿåˆ è‹¥ä¸Šè¿°ç®—æ³•é‡‡ç”¨å¹³æ–¹è¯¯å·®æŸå¤±å‡½æ•°, \[L(y, f(x)) = (y-f(x))^2\tag{4}\] å…¶æŸå¤±å˜ä¸º \[L(y,f_{m-1}(x) + \beta h(x:\alpha) \\=[y-f_{m-1}(x) - \beta h(x:\alpha)]^2 \\=[r - \beta h(x:\alpha)]^2\] è¿™é‡Œï¼Œ \[r = y - f_{m-1}(x)\tag{5}\] æ˜¯å½“å‰æ¨¡å‹æ‹Ÿåˆæ•°æ®çš„æ®‹å·®ï¼ˆresidual ). æ‰€ä»¥ï¼Œ å¯¹å†‹å½’é—®é¢˜çš„æå‡æ ‘ç®—æ³•æ¥è¯´ï¼Œåªéœ€ç®€å•åœ°æ‹Ÿåˆå½“å‰æ¨¡å‹çš„æ®‹å·®. æå‡æ ‘åˆ©ç”¨åŠ æ³•æ¨¡å‹ä¸å‰å‘åˆ†æ­©ç®—æ³•å®ç°å­¦ä¹ çš„ä¼˜åŒ–è¿‡ç¨‹. å½“æŸå¤±å‡½æ•°æ˜¯å¹³æ–¹æŸå¤±å’ŒæŒ‡æ•°æŸå¤±å‡½æ•°æ—¶ï¼Œ æ¯ä¸€æ­¥ä¼˜åŒ–æ˜¯å¾ˆç®€å•çš„. ä½†å¯¹ä¸€èˆ¬æŸå¤±å‡½æ•°è€Œè¨€ï¼Œ å¾€å¾€æ¯ä¸€æ­¥ä¼˜åŒ–å¹¶ä¸é‚£ä¹ˆå®¹æ˜“. æŸå¤±å‡½æ•°å„ç§å„æ ·ï¼Œæ€ä¹ˆæ‰¾åˆ°ä¸€ç§é€šç”¨çš„æ‹Ÿåˆæ–¹æ³•å‘¢ï¼Ÿ é’ˆå¯¹è¿™ä¸€é—®é¢˜ï¼Œ Freidman æå‡ºäº†æ¢¯åº¦æå‡ï¼ˆgradient boosting) ç®—æ³•. è¿™æ˜¯åˆ©ç”¨æœ€é€Ÿä¸‹é™æ³•çš„è¿‘ä¼¼æ–¹æ³•ï¼Œ å…¶å…³é”®æ˜¯åˆ©ç”¨æŸå¤±å‡½æ•°çš„è´Ÿæ¢¯åº¦åœ¨å½“å‰æ¨¡å‹çš„å€¼æ¥æ‹Ÿåˆæœ¬è½®æŸå¤±ï¼ˆå³æ®‹å·®ï¼‰çš„è¿‘ä¼¼å€¼ã€‚ç¬¬mè½®çš„ç¬¬iä¸ªæ ·æœ¬çš„æŸå¤±å‡½æ•°çš„è´Ÿæ¢¯åº¦è¡¨ç¤ºä¸ºä¸‹å¼(6): \[r_{mi} = -\bigg[\frac{\partial L(y_i, f(x_i)))}{\partial f(x_i)}\bigg]_{f(x) = f_{m-1}\;\; (x)}\tag{6}\] GBDT çš„ç®—æ³•æ€æƒ³ åœ¨æ¯ä¸€è½®è¿­ä»£ä¸­ï¼Œ è®¡ç®—å‡ºå½“å‰æ¨¡å‹åœ¨æ‰€æœ‰æ ·æœ¬ä¸Šçš„è´Ÿæ¢¯åº¦ï¼ˆå¯ä»¥ä½œä¸ºæ®‹å·®çš„è¿‘ä¼¼å€¼ï¼‰ ä»¥è¯¥å€¼ä¸ºç›®æ ‡è®­ç»ƒä¸€ä¸ªæ–°çš„å¼±åˆ†ç±»å™¨è¿›è¡Œæ‹Ÿåˆ è®¡ç®—å‡ºè¯¥å¼±åˆ†ç±»å™¨çš„æƒé‡ æœ€ç»ˆå®ç°å¯¹æ¨¡å‹çš„æ›´æ–° Gradient Boostingç®—æ³•çš„ä¼ªä»£ç å¦‚ä¸‹ï¼š è¾“å…¥ï¼šè®­ç»ƒæ•°æ®é›† \(T=\{(x_,y_1),(x_2,y_2), ...(x_N,y_N)\}\); æŸå¤±å‡½æ•°æ˜¯ \(L(y, f(x))\); åŸºå‡½æ•°é›† \({h(x:\alpha)}\); è¾“å‡ºï¼šåŠ æ³•æ¨¡å‹\(f(x)\). åˆå§‹åŒ–\(f_{0}(x)= arg\min \limits_{\rho}\sum\limits_{i=1}^{N} L(y_i,\rho))\) For \(m=1\) to \(M\) doï¼š è®¡ç®—è´Ÿæ¢¯åº¦ \[r_{mi} = -\bigg[\frac{\partial L(y_i, f(x_i)))}{\partial f(x_i)}\bigg]_{f(x) = f_{m-1}\;\; (x)}\tag{6}\] é€šè¿‡æå°åŒ–æŸå¤±å‡½æ•°å¾—åˆ°æ–°çš„å­¦ä¹ å™¨çš„å‚æ•°:ä¸‹é™çš„æ­¥é•¿\(\beta_{m}\)å’Œæ–¹å‘ \(\alpha_{m}\). \[\alpha_{m} = arg\min \limits_{\beta,\alpha}\sum\limits_{i=1}^{N} (r_{mi} - \beta h(x_i:\alpha))^2\tag{7}\] - (3) è®¡ç®—æ–°å­¦ä¹ å™¨çš„æƒé‡ \[\rho_m = arg\min \limits_{\rho}\sum\limits_{i=1}^{N} L(y_i,f_{m-1}(x_i) + \rho h(x_i:\alpha_{m}))\tag{8}\] æ›´æ–° \[f_{m}(x) = f_{m-1}(x) + \rho_{m} h(x:\alpha_{m}))\tag{9}\] 5. å¾ªç¯ç»“æŸå³å¯å¾—åˆ°åŠ æ³•æ¨¡å‹ï¼š \[f(x) = f_{M}(x) = \sum\limits_{m=1}^{M} \rho_{m} h(x:\alpha_{m}))\tag{10}\] ç”±äºGBDTæ˜¯åˆ©ç”¨æ®‹å·®è®­ç»ƒçš„ï¼Œ åœ¨é¢„æµ‹çš„è¿‡ç¨‹ä¸­ï¼Œ æˆ‘ä»¬éœ€è¦æŠŠæ‰€æœ‰æ ‘çš„é¢„æµ‹å€¼åŠ èµ·æ¥ï¼Œ å¾—åˆ°æœ€ç»ˆçš„é¢„æµ‹ç»“æœã€‚ GBDTå›å½’ç®—æ³• è¾“å…¥æ˜¯è®­ç»ƒé›†æ ·æœ¬\(T=\{(x_,y_1),(x_2,y_2), ...(x_m,y_m)\}\)ï¼Œ æœ€å¤§è¿­ä»£æ¬¡æ•°T, æŸå¤±å‡½æ•°Lã€‚ è¾“å‡ºæ˜¯å¼ºå­¦ä¹ å™¨f(x) åˆå§‹åŒ–å¼±å­¦ä¹ å™¨ \[f_0(x) = \underbrace{arg\; min}_{c}\sum\limits_{i=1}^{m}L(y_i, c)\] å¯¹è¿­ä»£è½®æ•°t=1,2,...Tæœ‰ï¼š a)å¯¹æ ·æœ¬i=1,2ï¼Œ...mï¼Œè®¡ç®—è´Ÿæ¢¯åº¦ \[r_{ti} = -\bigg[\frac{\partial L(y_i, f(x_i)))}{\partial f(x_i)}\bigg]_{f(x) = f_{t-1}\;\; (x)}\] b)åˆ©ç”¨\((x_i,r_{ti})\;\; (i=1,2,..m)\), æ‹Ÿåˆä¸€é¢—CARTå›å½’æ ‘,å¾—åˆ°ç¬¬té¢—å›å½’æ ‘ï¼Œå…¶å¯¹åº”çš„å¶å­èŠ‚ç‚¹åŒºåŸŸä¸º\(R_{tj}, j =1,2,..., J\)ã€‚å…¶ä¸­Jä¸ºå›å½’æ ‘tçš„å¶å­èŠ‚ç‚¹çš„ä¸ªæ•°ã€‚ å¯¹å¶å­åŒºåŸŸj =1,2,..J,è®¡ç®—æœ€ä½³æ‹Ÿåˆå€¼ \[c_{tj} = \underbrace{arg\; min}_{c}\sum\limits_{x_i \in R_{tj}} L(y_i,f_{t-1}(x_i) +c)\] æ›´æ–°å¼ºå­¦ä¹ å™¨ \[f_{t}(x) = f_{t-1}(x) + \sum\limits_{j=1}^{J}c_{tj}I(x \in R_{tj})\] å¾—åˆ°å¼ºå­¦ä¹ å™¨f(x)çš„è¡¨è¾¾å¼ \[f(x) = f_T(x) =f_0(x) + \sum\limits_{t=1}^{T}\sum\limits_{j=1}^{J}c_{tj}I(x \in R_{tj})\] GBDTåˆ†ç±»ç®—æ³• GBDTçš„åˆ†ç±»ç®—æ³•ä»æ€æƒ³ä¸Šå’ŒGBDTçš„å›å½’ç®—æ³•æ²¡æœ‰åŒºåˆ«ï¼Œä½†æ˜¯ç”±äºæ ·æœ¬è¾“å‡ºä¸æ˜¯è¿ç»­çš„å€¼ï¼Œè€Œæ˜¯ç¦»æ•£çš„ç±»åˆ«ï¼Œå¯¼è‡´æˆ‘ä»¬æ— æ³•ç›´æ¥ä»è¾“å‡ºç±»åˆ«å»æ‹Ÿåˆç±»åˆ«è¾“å‡ºçš„è¯¯å·®ã€‚ ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä¸»è¦æœ‰ä¸¤ä¸ªæ–¹æ³•ï¼Œ ç”¨æŒ‡æ•°æŸå¤±å‡½æ•°ï¼Œæ­¤æ—¶GBDTé€€åŒ–ä¸ºAdaboostç®—æ³•ã€‚ æ˜¯ç”¨ç±»ä¼¼äºé€»è¾‘å›å½’çš„å¯¹æ•°ä¼¼ç„¶æŸå¤±å‡½æ•°çš„æ–¹æ³•ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬ç”¨çš„æ˜¯ç±»åˆ«çš„é¢„æµ‹æ¦‚ç‡å€¼å’ŒçœŸå®æ¦‚ç‡å€¼çš„å·®æ¥æ‹ŸåˆæŸå¤±ã€‚ æœ¬æ–‡ä»…è®¨è®ºç”¨å¯¹æ•°ä¼¼ç„¶æŸå¤±å‡½æ•°çš„GBDTåˆ†ç±»ã€‚å¯¹æ­¤æˆ‘ä»¬åˆæœ‰äºŒå…ƒåˆ†ç±»å’Œå¤šå…ƒåˆ†ç±»çš„åŒºåˆ«ã€‚ äºŒå…ƒGBDTåˆ†ç±»ç®—æ³• å¯¹äºäºŒå…ƒGBDTï¼Œå¦‚æœç”¨ç±»ä¼¼äºé€»è¾‘å›å½’çš„å¯¹æ•°ä¼¼ç„¶æŸå¤±å‡½æ•°ï¼Œåˆ™æŸå¤±å‡½æ•°ä¸ºï¼š \[L(y, f(x)) = log(1+ exp(-yf(x)))\] å…¶ä¸­\(yâˆˆ\{âˆ’1,+1\}\).åˆ™æ­¤æ—¶çš„è´Ÿæ¢¯åº¦è¯¯å·®ä¸º: \[r_{mi} = -\bigg[\frac{\partial L(y, f(x_i)))}{\partial f(x_i)}\bigg]_{f(x) = f_{m-1}\;\; (x)} = \frac{y_i}{1+exp(y_if(x_i))}\] å¯¹äºç”Ÿæˆçš„å†³ç­–æ ‘ï¼Œæˆ‘ä»¬å„ä¸ªå¶å­èŠ‚ç‚¹çš„æœ€ä½³è´Ÿæ¢¯åº¦æ‹Ÿåˆå€¼ä¸º: \[c_{mj} = \underbrace{arg\; min}_{c}\sum\limits_{x_i \in R_{mj}} log(1+exp(-y_i(f_{m-1}(x_i) +c)))\] ç”±äºä¸Šå¼æ¯”è¾ƒéš¾ä¼˜åŒ–ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä½¿ç”¨è¿‘ä¼¼å€¼ä»£æ›¿ \[c_{mj} = \frac{\sum\limits_{x_i \in R_{mj}}r_{mi}} {\sum\limits_{x_i \in R_{mj}}|r_{mi}|(1-|r_{mi}|)}\] é™¤äº†è´Ÿæ¢¯åº¦è®¡ç®—å’Œå¶å­èŠ‚ç‚¹çš„æœ€ä½³è´Ÿæ¢¯åº¦æ‹Ÿåˆçš„çº¿æ€§æœç´¢ï¼ŒäºŒå…ƒGBDTåˆ†ç±»å’ŒGBDTå›å½’ç®—æ³•è¿‡ç¨‹ç›¸åŒã€‚ å¤šå…ƒGBDTåˆ†ç±»ç®—æ³• å¤šå…ƒGBDTè¦æ¯”äºŒå…ƒGBDTå¤æ‚ä¸€äº›ï¼Œå¯¹åº”çš„æ˜¯å¤šå…ƒé€»è¾‘å›å½’å’ŒäºŒå…ƒé€»è¾‘å›å½’çš„å¤æ‚åº¦å·®åˆ«ã€‚ å‡è®¾ç±»åˆ«æ•°ä¸ºKï¼Œåˆ™æ­¤æ—¶æˆ‘ä»¬çš„å¯¹æ•°ä¼¼ç„¶æŸå¤±å‡½æ•°ä¸ºï¼š \[L(y, f(x)) = - \sum\limits_{k=1}^{K}y_klog\;p_k(x)\] å…¶ä¸­å¦‚æœæ ·æœ¬è¾“å‡ºç±»åˆ«ä¸ºkï¼Œåˆ™\(y_k=1\)ã€‚ç¬¬kç±»çš„æ¦‚ç‡\(p_k(x)\)çš„è¡¨è¾¾å¼ä¸ºï¼š \[p_k(x) = \frac{exp(f_k(x))} {\sum\limits_{l=1}^{K} exp(f_l(x))}\] é›†åˆä¸Šä¸¤å¼ï¼Œæˆ‘ä»¬å¯ä»¥è®¡ç®—å‡ºç¬¬tè½®çš„ç¬¬iä¸ªæ ·æœ¬å¯¹åº”ç±»åˆ«lçš„è´Ÿæ¢¯åº¦è¯¯å·®ä¸º \[r_{mil} = -\bigg[\frac{\partial L(y_i, f(x_i)))}{\partial f(x_i)}\bigg]_{f_k(x) = f_{l, m-1}\;\; (x)} = y_{il} - p_{l, m-1}(x_i)\] è§‚å¯Ÿä¸Šå¼å¯ä»¥çœ‹å‡ºï¼Œå…¶å®è¿™é‡Œçš„è¯¯å·®å°±æ˜¯æ ·æœ¬iå¯¹åº”ç±»åˆ«lçš„çœŸå®æ¦‚ç‡å’Œmâˆ’1è½®é¢„æµ‹æ¦‚ç‡çš„å·®å€¼ã€‚ å¯¹äºç”Ÿæˆçš„å†³ç­–æ ‘ï¼Œæˆ‘ä»¬å„ä¸ªå¶å­èŠ‚ç‚¹çš„æœ€ä½³è´Ÿæ¢¯åº¦æ‹Ÿåˆå€¼ä¸º \[c_{mjl} = \underbrace{arg\; min}_{c_{jl}}\sum\limits_{i=0}^{m}\sum\limits_{k=1}^{K} L(y_k, f_{m-1, l}(x) + \sum\limits_{j=0}^{J}c_{jl} I(x_i \in R_{mj}))\] ç”±äºä¸Šå¼æ¯”è¾ƒéš¾ä¼˜åŒ–ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä½¿ç”¨è¿‘ä¼¼å€¼ä»£æ›¿ \[c_{tjl} = \frac{K-1}{K} \; \frac{\sum\limits_{x_i \in R_{tjl}}r_{til}}{\sum\limits_{x_i \in R_{til}}|r_{til}|(1-|r_{til}|)}\] é™¤äº†è´Ÿæ¢¯åº¦è®¡ç®—å’Œå¶å­èŠ‚ç‚¹çš„æœ€ä½³è´Ÿæ¢¯åº¦æ‹Ÿåˆçš„çº¿æ€§æœç´¢ï¼Œå¤šå…ƒGBDTåˆ†ç±»å’ŒäºŒå…ƒGBDTåˆ†ç±»ä»¥åŠGBDTå›å½’ç®—æ³•è¿‡ç¨‹ç›¸åŒã€‚ GBDTå¸¸ç”¨æŸå¤±å‡½æ•° åˆ†ç±»ç®—æ³• æŸå¤±å‡½æ•°ä¸€èˆ¬æœ‰å¯¹æ•°æŸå¤±å‡½æ•°å’ŒæŒ‡æ•°æŸå¤±å‡½æ•°ä¸¤ç§: æŒ‡æ•°æŸå¤±å‡½æ•° \[L(y, f(x)) = exp(-yf(x))\] å…¶è´Ÿæ¢¯åº¦è®¡ç®—å’Œå¶å­èŠ‚ç‚¹çš„æœ€ä½³è´Ÿæ¢¯åº¦æ‹Ÿåˆå’ŒAdabooståŸç†ç›¸åŒã€‚ å¯¹æ•°æŸå¤±å‡½æ•°ï¼Œåˆ†ä¸ºäºŒå…ƒåˆ†ç±»å’Œå¤šå…ƒåˆ†ç±»ä¸¤ç§ï¼Œå‚è§ä¸Šæ–‡çš„GBDTåˆ†ç±»ç®—æ³•ã€‚ å›å½’ç®—æ³• å¸¸ç”¨æŸå¤±å‡½æ•°æœ‰å¦‚ä¸‹4ç§: å‡æ–¹å·®ï¼Œæœ€å¸¸è§çš„å›å½’æŸå¤±å‡½æ•° \[L(y, f(x)) =(y-f(x))^2\] 2. ç»å¯¹æŸå¤±ï¼Œè¿™ä¸ªæŸå¤±å‡½æ•°ä¹Ÿå¾ˆå¸¸è§ \[L(y, f(x)) =|y-f(x)|\] å¯¹åº”è´Ÿæ¢¯åº¦è¯¯å·®ä¸ºï¼š \[sign(y_i-f(x_i))\] HuberæŸå¤±ï¼Œå®ƒæ˜¯å‡æ–¹å·®å’Œç»å¯¹æŸå¤±çš„æŠ˜è¡·äº§ç‰©ï¼Œå¯¹äºè¿œç¦»ä¸­å¿ƒçš„å¼‚å¸¸ç‚¹ï¼Œé‡‡ç”¨ç»å¯¹æŸå¤±ï¼Œè€Œä¸­å¿ƒé™„è¿‘çš„ç‚¹é‡‡ç”¨å‡æ–¹å·®ã€‚è¿™ä¸ªç•Œé™ä¸€èˆ¬ç”¨åˆ†ä½æ•°ç‚¹åº¦é‡ã€‚æŸå¤±å‡½æ•°å¦‚ä¸‹ï¼š \[L(y, f(x))= \begin{cases} \frac{1}{2}(y-f(x))^2&amp; {|y-f(x)| \leq \delta}\\ \delta(|y-f(x)| - \frac{\delta}{2})&amp; {|y-f(x)| &gt; \delta} \end{cases}\] å¯¹åº”çš„è´Ÿæ¢¯åº¦è¯¯å·®ä¸ºï¼š \[r(y_i, f(x_i))= \begin{cases} y_i-f(x_i)&amp; {|y_i-f(x_i)| \leq \delta}\\ \delta sign(y_i-f(x_i))&amp; {|y_i-f(x_i)| &gt; \delta} \end{cases}\] åˆ†ä½æ•°æŸå¤±ã€‚å®ƒå¯¹åº”çš„æ˜¯åˆ†ä½æ•°å›å½’çš„æŸå¤±å‡½æ•°ï¼Œè¡¨è¾¾å¼ä¸º \[L(y, f(x)) =\sum\limits_{y \geq f(x)}\theta|y - f(x)| + \sum\limits_{y &lt; f(x)}(1-\theta)|y - f(x)|\] å…¶ä¸­Î¸ä¸ºåˆ†ä½æ•°ï¼Œéœ€è¦æˆ‘ä»¬åœ¨å›å½’å‰æŒ‡å®šã€‚å¯¹åº”çš„è´Ÿæ¢¯åº¦è¯¯å·®ä¸ºï¼š \[r(y_i, f(x_i))= \begin{cases} \theta&amp; { y_i \geq f(x_i)}\\ \theta - 1 &amp; {y_i &lt; f(x_i) } \end{cases}\] å¯¹äºHuberæŸå¤±å’Œåˆ†ä½æ•°æŸå¤±ï¼Œä¸»è¦ç”¨äºå¥å£®å›å½’ï¼Œä¹Ÿå°±æ˜¯å‡å°‘å¼‚å¸¸ç‚¹å¯¹æŸå¤±å‡½æ•°çš„å½±å“ã€‚ GBDTçš„æ­£åˆ™åŒ– å’ŒAdaboostä¸€æ ·ï¼Œæˆ‘ä»¬ä¹Ÿéœ€è¦å¯¹GBDTè¿›è¡Œæ­£åˆ™åŒ–ï¼Œé˜²æ­¢è¿‡æ‹Ÿåˆã€‚GBDTçš„æ­£åˆ™åŒ–ä¸»è¦æœ‰ä¸‰ç§æ–¹å¼ã€‚ æ­¥é•¿(learning rate) ç¬¬ä¸€ç§æ˜¯å’ŒAdaboostç±»ä¼¼çš„æ­£åˆ™åŒ–é¡¹ï¼Œå³æ­¥é•¿(learning rate)ã€‚å®šä¹‰ä¸ºÎ½,å¯¹äºå‰é¢çš„å¼±å­¦ä¹ å™¨çš„è¿­ä»£ \[f_{k}(x) = f_{k-1}(x) + h_k(x)\] å¦‚æœæˆ‘ä»¬åŠ ä¸Šäº†æ­£åˆ™åŒ–é¡¹ï¼Œåˆ™æœ‰ \[f_{k}(x) = f_{k-1}(x) + \nu h_k(x)\] Î½çš„å–å€¼èŒƒå›´ä¸º0&lt;Î½â‰¤1ã€‚å¯¹äºåŒæ ·çš„è®­ç»ƒé›†å­¦ä¹ æ•ˆæœï¼Œè¾ƒå°çš„Î½æ„å‘³ç€æˆ‘ä»¬éœ€è¦æ›´å¤šçš„å¼±å­¦ä¹ å™¨çš„è¿­ä»£æ¬¡æ•°ã€‚é€šå¸¸æˆ‘ä»¬ç”¨æ­¥é•¿å’Œè¿­ä»£æœ€å¤§æ¬¡æ•°ä¸€èµ·æ¥å†³å®šç®—æ³•çš„æ‹Ÿåˆæ•ˆæœã€‚ å­é‡‡æ · ç¬¬äºŒç§æ­£åˆ™åŒ–çš„æ–¹å¼æ˜¯é€šè¿‡å­é‡‡æ ·æ¯”ä¾‹ï¼ˆsubsampleï¼‰ã€‚å–å€¼ä¸º(0,1]ã€‚æ³¨æ„è¿™é‡Œçš„å­é‡‡æ ·å’Œéšæœºæ£®æ—ä¸ä¸€æ ·ï¼Œéšæœºæ£®æ—ä½¿ç”¨çš„æ˜¯æ”¾å›æŠ½æ ·ï¼Œè€Œè¿™é‡Œæ˜¯ä¸æ”¾å›æŠ½æ ·ã€‚å¦‚æœå–å€¼ä¸º1ï¼Œåˆ™å…¨éƒ¨æ ·æœ¬éƒ½ä½¿ç”¨ï¼Œç­‰äºæ²¡æœ‰ä½¿ç”¨å­é‡‡æ ·ã€‚å¦‚æœå–å€¼å°äº1ï¼Œåˆ™åªæœ‰ä¸€éƒ¨åˆ†æ ·æœ¬ä¼šå»åšGBDTçš„å†³ç­–æ ‘æ‹Ÿåˆã€‚é€‰æ‹©å°äº1çš„æ¯”ä¾‹å¯ä»¥å‡å°‘æ–¹å·®ï¼Œå³é˜²æ­¢è¿‡æ‹Ÿåˆï¼Œä½†æ˜¯ä¼šå¢åŠ æ ·æœ¬æ‹Ÿåˆçš„åå·®ï¼Œå› æ­¤å–å€¼ä¸èƒ½å¤ªä½ã€‚æ¨èåœ¨[0.5, 0.8]ä¹‹é—´ã€‚ ä½¿ç”¨äº†å­é‡‡æ ·çš„GBDTæœ‰æ—¶ä¹Ÿç§°ä½œéšæœºæ¢¯åº¦æå‡æ ‘(Stochastic Gradient Boosting Tree, SGBT)ã€‚ç”±äºä½¿ç”¨äº†å­é‡‡æ ·ï¼Œç¨‹åºå¯ä»¥é€šè¿‡é‡‡æ ·åˆ†å‘åˆ°ä¸åŒçš„ä»»åŠ¡å»åšboostingçš„è¿­ä»£è¿‡ç¨‹ï¼Œæœ€åå½¢æˆæ–°æ ‘ï¼Œä»è€Œå‡å°‘å¼±å­¦ä¹ å™¨éš¾ä»¥å¹¶è¡Œå­¦ä¹ çš„å¼±ç‚¹ã€‚ æ­£åˆ™åŒ–å‰ªæ é’ˆå¯¹äºå¼±å­¦ä¹ å™¨ï¼ˆå³CARTå›å½’æ ‘ï¼‰è¿›è¡Œæ­£åˆ™åŒ–å‰ªæã€‚å°±æ˜¯å†³ç­–æ ‘çš„æ­£åˆ™åŒ–æ–¹æ³• GBDTçš„ä¼˜ç‚¹å’Œå±€é™æ€§ ä¼˜ç‚¹ é¢„æµ‹é˜¶æ®µçš„è®¡ç®—é€Ÿåº¦å¿«ï¼Œ æ ‘ä¸æ ‘ä¹‹é—´å¯å¹¶è¡ŒåŒ–è®¡ç®—ã€‚ åœ¨åˆ†å¸ƒç¨ å¯†çš„æ•°æ®é›†ä¸Šï¼Œ æ³›åŒ–èƒ½åŠ›å’Œè¡¨è¾¾èƒ½åŠ›éƒ½å¾ˆå¥½ï¼Œ è¿™ä½¿å¾—GBDTåœ¨Kaggleçš„ä¼—å¤šç«èµ›ä¸­ï¼Œ ç»å¸¸ååˆ—æ¦œé¦–ã€‚ é‡‡ç”¨å†³ç­–æ ‘ä½œä¸ºå¼±åˆ†ç±»å™¨ä½¿å¾—GBDTæ¨¡å‹å…·æœ‰è¾ƒå¥½çš„è§£é‡Šæ€§å’Œé²æ£’æ€§ï¼Œèƒ½å¤Ÿè‡ªåŠ¨å‘ç°ç‰¹å¾é—´çš„é«˜é˜¶å…³ç³»ï¼Œ å¹¶ä¸”ä¹Ÿä¸éœ€è¦å¯¹æ•°æ®è¿›è¡Œç‰¹æ®Šçš„é¢„å¤„ç†å¦‚å½’ä¸€åŒ–ç­‰ã€‚ å±€é™æ€§ GBDTåœ¨é«˜ç»´ç¨€ç–çš„æ•°æ®é›†ä¸Šï¼Œ è¡¨ç°ä¸å¦‚æ”¯æŒå‘é‡æœºæˆ–è€…ç¥ç»ç½‘ç»œã€‚ GBDTåœ¨å¤„ç†æ–‡æœ¬åˆ†ç±»ç‰¹å¾é—®é¢˜ä¸Šï¼Œ ç›¸å¯¹å…¶ä»–æ¨¡å‹çš„ä¼˜åŠ¿ä¸å¦‚å®ƒåœ¨å¤„ç†æ•°å€¼ç‰¹å¾æ—¶æ˜æ˜¾ã€‚ è®­ç»ƒè¿‡ç¨‹éœ€è¦ä¸²è¡Œè®­ç»ƒï¼Œ åªèƒ½åœ¨å†³ç­–æ ‘å†…éƒ¨é‡‡ç”¨ä¸€äº›å±€éƒ¨å¹¶è¡Œçš„æ‰‹æ®µæé«˜è®­ç»ƒé€Ÿåº¦ã€‚ sklearnå‚æ•° åœ¨sacikit-learnä¸­ï¼ŒGradientBoostingClassifierä¸ºGBDTçš„åˆ†ç±»ç±»ï¼Œ è€ŒGradientBoostingRegressorä¸ºGBDTçš„å›å½’ç±»ã€‚ä¸¤è€…çš„å‚æ•°ç±»å‹å®Œå…¨ç›¸åŒï¼Œå½“ç„¶æœ‰äº›å‚æ•°æ¯”å¦‚æŸå¤±å‡½æ•°lossçš„å¯é€‰æ‹©é¡¹å¹¶ä¸ç›¸åŒã€‚ è¿™äº›å‚æ•°ä¸­ï¼Œç±»ä¼¼äºAdaboostï¼Œæˆ‘ä»¬æŠŠé‡è¦å‚æ•°åˆ†ä¸ºä¸¤ç±»ï¼Œ - ç¬¬ä¸€ç±»æ˜¯Boostingæ¡†æ¶çš„é‡è¦å‚æ•°ï¼Œ - ç¬¬äºŒç±»æ˜¯å¼±å­¦ä¹ å™¨ï¼ˆå³CARTå›å½’æ ‘ï¼‰çš„é‡è¦å‚æ•°ã€‚ ä¸‹é¢æˆ‘ä»¬å°±ä»è¿™ä¸¤ä¸ªæ–¹é¢æ¥ä»‹ç»è¿™äº›å‚æ•°çš„ä½¿ç”¨ã€‚ ## GBDTç±»åº“boostingæ¡†æ¶å‚æ•° ç”±äºGradientBoostingClassifierå’ŒGradientBoostingRegressorçš„å‚æ•°ç»å¤§éƒ¨åˆ†ç›¸åŒï¼Œæˆ‘ä»¬ä¸‹é¢ä¼šä¸€èµ·æ¥è®²ï¼Œä¸åŒç‚¹ä¼šå•ç‹¬æŒ‡å‡ºã€‚ n_estimators: ä¹Ÿå°±æ˜¯å¼±å­¦ä¹ å™¨çš„æœ€å¤§è¿­ä»£æ¬¡æ•°ï¼Œæˆ–è€…è¯´æœ€å¤§çš„å¼±å­¦ä¹ å™¨çš„ä¸ªæ•°ã€‚ä¸€èˆ¬æ¥è¯´n_estimatorså¤ªå°ï¼Œå®¹æ˜“æ¬ æ‹Ÿåˆï¼Œn_estimatorså¤ªå¤§ï¼Œåˆå®¹æ˜“è¿‡æ‹Ÿåˆï¼Œä¸€èˆ¬é€‰æ‹©ä¸€ä¸ªé€‚ä¸­çš„æ•°å€¼ã€‚ é»˜è®¤æ˜¯100ã€‚åœ¨å®é™…è°ƒå‚çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¸¸å¸¸å°†n_estimatorså’Œä¸‹é¢ä»‹ç»çš„å‚æ•°learning_rateä¸€èµ·è€ƒè™‘ã€‚ learning_rate: å³æ¯ä¸ªå¼±å­¦ä¹ å™¨çš„æƒé‡ç¼©å‡ç³»æ•°Î½ï¼Œä¹Ÿç§°ä½œæ­¥é•¿ï¼ŒåŠ ä¸Šäº†æ­£åˆ™åŒ–é¡¹ï¼Œæˆ‘ä»¬çš„å¼ºå­¦ä¹ å™¨çš„è¿­ä»£å…¬å¼ä¸º\(f_{k}(x) = f_{k-1}(x) + \nu h_k(x)\)ã€‚Î½çš„å–å€¼èŒƒå›´ä¸º0&lt;Î½â‰¤1ã€‚å¯¹äºåŒæ ·çš„è®­ç»ƒé›†æ‹Ÿåˆæ•ˆæœï¼Œè¾ƒå°çš„Î½æ„å‘³ç€æˆ‘ä»¬éœ€è¦æ›´å¤šçš„å¼±å­¦ä¹ å™¨çš„è¿­ä»£æ¬¡æ•°ã€‚é€šå¸¸æˆ‘ä»¬ç”¨æ­¥é•¿å’Œè¿­ä»£æœ€å¤§æ¬¡æ•°ä¸€èµ·æ¥å†³å®šç®—æ³•çš„æ‹Ÿåˆæ•ˆæœã€‚ æ‰€ä»¥è¿™ä¸¤ä¸ªå‚æ•°n_estimatorså’Œlearning_rateè¦ä¸€èµ·è°ƒå‚ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œå¯ä»¥ä»ä¸€ä¸ªå°ä¸€ç‚¹çš„Î½å¼€å§‹è°ƒå‚ï¼Œé»˜è®¤æ˜¯1ã€‚ subsample: å³æˆ‘ä»¬åœ¨ä¸Šæ–‡çš„æ­£åˆ™åŒ–ç« èŠ‚è®²åˆ°çš„å­é‡‡æ ·ï¼Œå–å€¼ä¸º(0,1]ã€‚æ³¨æ„è¿™é‡Œçš„å­é‡‡æ ·å’Œéšæœºæ£®æ—ä¸ä¸€æ ·ï¼Œéšæœºæ£®æ—ä½¿ç”¨çš„æ˜¯æ”¾å›æŠ½æ ·ï¼Œè€Œè¿™é‡Œæ˜¯ä¸æ”¾å›æŠ½æ ·ã€‚å¦‚æœå–å€¼ä¸º1ï¼Œåˆ™å…¨éƒ¨æ ·æœ¬éƒ½ä½¿ç”¨ï¼Œç­‰äºæ²¡æœ‰ä½¿ç”¨å­é‡‡æ ·ã€‚å¦‚æœå–å€¼å°äº1ï¼Œåˆ™åªæœ‰ä¸€éƒ¨åˆ†æ ·æœ¬ä¼šå»åšGBDTçš„å†³ç­–æ ‘æ‹Ÿåˆã€‚é€‰æ‹©å°äº1çš„æ¯”ä¾‹å¯ä»¥å‡å°‘æ–¹å·®ï¼Œå³é˜²æ­¢è¿‡æ‹Ÿåˆï¼Œä½†æ˜¯ä¼šå¢åŠ æ ·æœ¬æ‹Ÿåˆçš„åå·®ï¼Œå› æ­¤å–å€¼ä¸èƒ½å¤ªä½ã€‚ æ¨èåœ¨[0.5, 0.8]ä¹‹é—´ï¼Œé»˜è®¤æ˜¯1.0ï¼Œå³ä¸ä½¿ç”¨å­é‡‡æ ·ã€‚ init: å³æˆ‘ä»¬çš„åˆå§‹åŒ–çš„æ—¶å€™çš„å¼±å­¦ä¹ å™¨ï¼Œæ‹Ÿåˆå¯¹åº”åŸç†é‡Œé¢çš„f0(x)ï¼Œå¦‚æœä¸è¾“å…¥ï¼Œåˆ™ç”¨è®­ç»ƒé›†æ ·æœ¬æ¥åšæ ·æœ¬é›†çš„åˆå§‹åŒ–åˆ†ç±»å›å½’é¢„æµ‹ã€‚å¦åˆ™ç”¨initå‚æ•°æä¾›çš„å­¦ä¹ å™¨åšåˆå§‹åŒ–åˆ†ç±»å›å½’é¢„æµ‹ã€‚ä¸€èˆ¬ç”¨åœ¨æˆ‘ä»¬å¯¹æ•°æ®æœ‰å…ˆéªŒçŸ¥è¯†ï¼Œæˆ–è€…ä¹‹å‰åšè¿‡ä¸€äº›æ‹Ÿåˆçš„æ—¶å€™ï¼Œå¦‚æœæ²¡æœ‰çš„è¯å°±ä¸ç”¨ç®¡è¿™ä¸ªå‚æ•°äº†ã€‚ loss: å³æˆ‘ä»¬GBDTç®—æ³•ä¸­çš„æŸå¤±å‡½æ•°ã€‚åˆ†ç±»æ¨¡å‹å’Œå›å½’æ¨¡å‹çš„æŸå¤±å‡½æ•°æ˜¯ä¸ä¸€æ ·çš„ã€‚ å¯¹äºåˆ†ç±»æ¨¡å‹ï¼Œæœ‰å¯¹æ•°ä¼¼ç„¶æŸå¤±å‡½æ•°&quot;deviance&quot;å’ŒæŒ‡æ•°æŸå¤±å‡½æ•°&quot;exponential&quot;ä¸¤è€…è¾“å…¥é€‰æ‹©ã€‚é»˜è®¤æ˜¯å¯¹æ•°ä¼¼ç„¶æŸå¤±å‡½æ•°&quot;deviance&quot;ã€‚åœ¨åŸç†ç¯‡ä¸­å¯¹è¿™äº›åˆ†ç±»æŸå¤±å‡½æ•°æœ‰è¯¦ç»†çš„ä»‹ç»ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œæ¨èä½¿ç”¨é»˜è®¤çš„&quot;deviance&quot;ã€‚å®ƒå¯¹äºŒå…ƒåˆ†ç¦»å’Œå¤šå…ƒåˆ†ç±»å„è‡ªéƒ½æœ‰æ¯”è¾ƒå¥½çš„ä¼˜åŒ–ã€‚è€ŒæŒ‡æ•°æŸå¤±å‡½æ•°ç­‰äºæŠŠæˆ‘ä»¬å¸¦åˆ°äº†Adaboostç®—æ³•ã€‚ å¯¹äºå›å½’æ¨¡å‹ï¼Œæœ‰å‡æ–¹å·®&quot;ls&quot;, ç»å¯¹æŸå¤±&quot;lad&quot;, HuberæŸå¤±&quot;huber&quot;å’Œåˆ†ä½æ•°æŸå¤±â€œquantileâ€ã€‚é»˜è®¤æ˜¯å‡æ–¹å·®&quot;ls&quot;ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œå¦‚æœæ•°æ®çš„å™ªéŸ³ç‚¹ä¸å¤šï¼Œç”¨é»˜è®¤çš„å‡æ–¹å·®&quot;ls&quot;æ¯”è¾ƒå¥½ã€‚å¦‚æœæ˜¯å™ªéŸ³ç‚¹è¾ƒå¤šï¼Œåˆ™æ¨èç”¨æŠ—å™ªéŸ³çš„æŸå¤±å‡½æ•°&quot;huber&quot;ã€‚è€Œå¦‚æœæˆ‘ä»¬éœ€è¦å¯¹è®­ç»ƒé›†è¿›è¡Œåˆ†æ®µé¢„æµ‹çš„æ—¶å€™ï¼Œåˆ™é‡‡ç”¨â€œquantileâ€ã€‚ alphaï¼šè¿™ä¸ªå‚æ•°åªæœ‰GradientBoostingRegressoræœ‰ï¼Œå½“æˆ‘ä»¬ä½¿ç”¨HuberæŸå¤±&quot;huber&quot;å’Œåˆ†ä½æ•°æŸå¤±â€œquantileâ€æ—¶ï¼Œéœ€è¦æŒ‡å®šåˆ†ä½æ•°çš„å€¼ã€‚é»˜è®¤æ˜¯0.9ï¼Œå¦‚æœå™ªéŸ³ç‚¹è¾ƒå¤šï¼Œå¯ä»¥é€‚å½“é™ä½è¿™ä¸ªåˆ†ä½æ•°çš„å€¼ã€‚ GBDTç±»åº“å¼±å­¦ä¹ å™¨å‚æ•° ç”±äºGBDTä½¿ç”¨äº†CARTå›å½’å†³ç­–æ ‘ï¼Œå› æ­¤å®ƒçš„å‚æ•°åŸºæœ¬æ¥æºäºå†³ç­–æ ‘ç±»ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå’ŒDecisionTreeClassifierå’ŒDecisionTreeRegressorçš„å‚æ•°åŸºæœ¬ç±»ä¼¼ã€‚ åˆ’åˆ†æ—¶è€ƒè™‘çš„æœ€å¤§ç‰¹å¾æ•°max_features: å¯ä»¥ä½¿ç”¨å¾ˆå¤šç§ç±»å‹çš„å€¼ï¼Œé»˜è®¤æ˜¯&quot;None&quot;,æ„å‘³ç€åˆ’åˆ†æ—¶è€ƒè™‘æ‰€æœ‰çš„ç‰¹å¾æ•°ï¼›å¦‚æœæ˜¯&quot;log2&quot;æ„å‘³ç€åˆ’åˆ†æ—¶æœ€å¤šè€ƒè™‘log2Nä¸ªç‰¹å¾ï¼›å¦‚æœæ˜¯&quot;sqrt&quot;æˆ–è€…&quot;auto&quot;æ„å‘³ç€åˆ’åˆ†æ—¶æœ€å¤šè€ƒè™‘Nâˆ’âˆ’âˆšä¸ªç‰¹å¾ã€‚å¦‚æœæ˜¯æ•´æ•°ï¼Œä»£è¡¨è€ƒè™‘çš„ç‰¹å¾ç»å¯¹æ•°ã€‚å¦‚æœæ˜¯æµ®ç‚¹æ•°ï¼Œä»£è¡¨è€ƒè™‘ç‰¹å¾ç™¾åˆ†æ¯”ï¼Œå³è€ƒè™‘ï¼ˆç™¾åˆ†æ¯”xNï¼‰å–æ•´åçš„ç‰¹å¾æ•°ã€‚å…¶ä¸­Nä¸ºæ ·æœ¬æ€»ç‰¹å¾æ•°ã€‚ ä¸€èˆ¬æ¥è¯´ï¼Œå¦‚æœæ ·æœ¬ç‰¹å¾æ•°ä¸å¤šï¼Œæ¯”å¦‚å°äº50ï¼Œæˆ‘ä»¬ç”¨é»˜è®¤çš„&quot;None&quot;å°±å¯ä»¥äº†ï¼Œå¦‚æœç‰¹å¾æ•°éå¸¸å¤šï¼Œæˆ‘ä»¬å¯ä»¥çµæ´»ä½¿ç”¨åˆšæ‰æè¿°çš„å…¶ä»–å–å€¼æ¥æ§åˆ¶åˆ’åˆ†æ—¶è€ƒè™‘çš„æœ€å¤§ç‰¹å¾æ•°ï¼Œä»¥æ§åˆ¶å†³ç­–æ ‘çš„ç”Ÿæˆæ—¶é—´ã€‚ å†³ç­–æ ‘æœ€å¤§æ·±åº¦max_depth: é»˜è®¤å¯ä»¥ä¸è¾“å…¥ï¼Œå¦‚æœä¸è¾“å…¥çš„è¯ï¼Œé»˜è®¤å€¼æ˜¯3ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œæ•°æ®å°‘æˆ–è€…ç‰¹å¾å°‘çš„æ—¶å€™å¯ä»¥ä¸ç®¡è¿™ä¸ªå€¼ã€‚å¦‚æœæ¨¡å‹æ ·æœ¬é‡å¤šï¼Œç‰¹å¾ä¹Ÿå¤šçš„æƒ…å†µä¸‹ï¼Œæ¨èé™åˆ¶è¿™ä¸ªæœ€å¤§æ·±åº¦ï¼Œå…·ä½“çš„å–å€¼å–å†³äºæ•°æ®çš„åˆ†å¸ƒã€‚ å¸¸ç”¨çš„å¯ä»¥å–å€¼10-100ä¹‹é—´ã€‚ å†…éƒ¨èŠ‚ç‚¹å†åˆ’åˆ†æ‰€éœ€æœ€å°æ ·æœ¬æ•°min_samples_split: è¿™ä¸ªå€¼é™åˆ¶äº†å­æ ‘ç»§ç»­åˆ’åˆ†çš„æ¡ä»¶ï¼Œå¦‚æœæŸèŠ‚ç‚¹çš„æ ·æœ¬æ•°å°‘äºmin_samples_splitï¼Œåˆ™ä¸ä¼šç»§ç»­å†å°è¯•é€‰æ‹©æœ€ä¼˜ç‰¹å¾æ¥è¿›è¡Œåˆ’åˆ†ã€‚ é»˜è®¤æ˜¯2.å¦‚æœæ ·æœ¬é‡ä¸å¤§ï¼Œä¸éœ€è¦ç®¡è¿™ä¸ªå€¼ã€‚å¦‚æœæ ·æœ¬é‡æ•°é‡çº§éå¸¸å¤§ï¼Œåˆ™æ¨èå¢å¤§è¿™ä¸ªå€¼ã€‚ å¶å­èŠ‚ç‚¹æœ€å°‘æ ·æœ¬æ•°min_samples_leaf: è¿™ä¸ªå€¼é™åˆ¶äº†å¶å­èŠ‚ç‚¹æœ€å°‘çš„æ ·æœ¬æ•°ï¼Œå¦‚æœæŸå¶å­èŠ‚ç‚¹æ•°ç›®å°äºæ ·æœ¬æ•°ï¼Œåˆ™ä¼šå’Œå…„å¼ŸèŠ‚ç‚¹ä¸€èµ·è¢«å‰ªæã€‚ é»˜è®¤æ˜¯1,å¯ä»¥è¾“å…¥æœ€å°‘çš„æ ·æœ¬æ•°çš„æ•´æ•°ï¼Œæˆ–è€…æœ€å°‘æ ·æœ¬æ•°å æ ·æœ¬æ€»æ•°çš„ç™¾åˆ†æ¯”ã€‚ å¦‚æœæ ·æœ¬é‡ä¸å¤§ï¼Œä¸éœ€è¦ç®¡è¿™ä¸ªå€¼ã€‚å¦‚æœæ ·æœ¬é‡æ•°é‡çº§éå¸¸å¤§ï¼Œåˆ™æ¨èå¢å¤§è¿™ä¸ªå€¼ã€‚ å¶å­èŠ‚ç‚¹æœ€å°çš„æ ·æœ¬æƒé‡å’Œmin_weight_fraction_leafï¼šè¿™ä¸ªå€¼é™åˆ¶äº†å¶å­èŠ‚ç‚¹æ‰€æœ‰æ ·æœ¬æƒé‡å’Œçš„æœ€å°å€¼ï¼Œå¦‚æœå°äºè¿™ä¸ªå€¼ï¼Œåˆ™ä¼šå’Œå…„å¼ŸèŠ‚ç‚¹ä¸€èµ·è¢«å‰ªæã€‚ é»˜è®¤æ˜¯0ï¼Œå°±æ˜¯ä¸è€ƒè™‘æƒé‡é—®é¢˜ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œå¦‚æœæˆ‘ä»¬æœ‰è¾ƒå¤šæ ·æœ¬æœ‰ç¼ºå¤±å€¼ï¼Œæˆ–è€…åˆ†ç±»æ ‘æ ·æœ¬çš„åˆ†å¸ƒç±»åˆ«åå·®å¾ˆå¤§ï¼Œå°±ä¼šå¼•å…¥æ ·æœ¬æƒé‡ï¼Œè¿™æ—¶æˆ‘ä»¬å°±è¦æ³¨æ„è¿™ä¸ªå€¼äº†ã€‚ æœ€å¤§å¶å­èŠ‚ç‚¹æ•°max_leaf_nodes: é€šè¿‡é™åˆ¶æœ€å¤§å¶å­èŠ‚ç‚¹æ•°ï¼Œå¯ä»¥é˜²æ­¢è¿‡æ‹Ÿåˆï¼Œé»˜è®¤æ˜¯&quot;Noneâ€ï¼Œå³ä¸é™åˆ¶æœ€å¤§çš„å¶å­èŠ‚ç‚¹æ•°ã€‚å¦‚æœåŠ äº†é™åˆ¶ï¼Œç®—æ³•ä¼šå»ºç«‹åœ¨æœ€å¤§å¶å­èŠ‚ç‚¹æ•°å†…æœ€ä¼˜çš„å†³ç­–æ ‘ã€‚ å¦‚æœç‰¹å¾ä¸å¤šï¼Œå¯ä»¥ä¸è€ƒè™‘è¿™ä¸ªå€¼ï¼Œä½†æ˜¯å¦‚æœç‰¹å¾åˆ†æˆå¤šçš„è¯ï¼Œå¯ä»¥åŠ ä»¥é™åˆ¶ï¼Œå…·ä½“çš„å€¼å¯ä»¥é€šè¿‡äº¤å‰éªŒè¯å¾—åˆ°ã€‚ èŠ‚ç‚¹åˆ’åˆ†æœ€å°ä¸çº¯åº¦min_impurity_split: è¿™ä¸ªå€¼é™åˆ¶äº†å†³ç­–æ ‘çš„å¢é•¿ï¼Œå¦‚æœæŸèŠ‚ç‚¹çš„ä¸çº¯åº¦(åŸºäºåŸºå°¼ç³»æ•°ï¼Œå‡æ–¹å·®)å°äºè¿™ä¸ªé˜ˆå€¼ï¼Œåˆ™è¯¥èŠ‚ç‚¹ä¸å†ç”Ÿæˆå­èŠ‚ç‚¹ã€‚å³ä¸ºå¶å­èŠ‚ç‚¹ ã€‚ ä¸€èˆ¬ä¸æ¨èæ”¹åŠ¨é»˜è®¤å€¼1e-7ã€‚ å‚è€ƒ ã€Šç™¾é¢æœºå™¨å­¦ä¹ ã€‹ æ¢¯åº¦æå‡æ ‘(GBDT)åŸç†å°ç»“ scikit-learn æ¢¯åº¦æå‡æ ‘(GBDT)è°ƒå‚å°ç»“]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>sklearn</tag>
        <tag>æœºå™¨å­¦ä¹ </tag>
        <tag>ç®—æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[éšæœºæ£®æ—(Random Forest)ç®—æ³•æ¢³ç†]]></title>
    <url>%2F2019%2F04%2F04%2F%E9%9A%8F%E6%9C%BA%E6%A3%AE%E6%9E%97%2F</url>
    <content type="text"><![CDATA[å­¦ä¹ ä»»åŠ¡ï¼š é›†æˆå­¦ä¹  ä»€ä¹ˆæ˜¯é›†æˆå­¦ä¹ ï¼Ÿ é›†æˆå­¦ä¹ çš„ç§ç±»æœ‰å“ªäº›ï¼Ÿ é›†æˆå­¦ä¹ çš„åŸºæœ¬æ­¥éª¤ï¼šä¸ªä½“å­¦ä¹ å™¨çš„é€‰æ‹©ã€è®­ç»ƒã€ç»“åˆ baggingç®—æ³• éšæœºæ£®æ—æ€æƒ³ éšæœºæ£®æ—çš„æ¨å¹¿ sklearnå‚æ•° é›†æˆå­¦ä¹  é›†æˆå­¦ä¹ ï¼ˆensemble learningï¼‰æ˜¯æœºå™¨å­¦ä¹ ä¸­çš„ä¸€ç§æ€æƒ³ï¼Œè€Œä¸æ˜¯æŒ‡æŸä¸€å…·ä½“ç®—æ³•ï¼Œå®ƒé€šè¿‡æ„å»ºå¹¶ç»“åˆå¤šä¸ªå­¦ä¹ å™¨æ¥å®Œæˆå­¦ä¹ ä»»åŠ¡ã€‚ é›†æˆå­¦ä¹ é€šè¿‡å°†å¤šä¸ªå­¦ä¹ å™¨è¿›è¡Œç»“åˆï¼Œå¸¸å¯è·å¾—æ¯”å•ä¸€å­¦ä¹ å™¨æ˜¾è‘—ä¼˜è¶Šçš„æ³›åŒ–æ€§èƒ½ã€‚ é›†æˆå­¦ä¹ çš„ç§ç±» æ ¹æ®ä¸ªä½“å­¦ä¹ å™¨çš„ç”Ÿæˆæ–¹å¼ï¼Œç›®å‰çš„é›†æˆå­¦ä¹ æ–¹æ³•å¤§è‡´å¯åˆ†ä¸ºä¸¤å¤§ç±»ï¼š ä¸ªä½“å­¦ä¹ å™¨é—®å­˜åœ¨å¼ºä¾èµ–å…³ç³»ã€å¿…é¡»ä¸²è¡Œç”Ÿæˆçš„åºåˆ—åŒ–æ–¹æ³•ï¼Œä»£è¡¨æ˜¯ Boostingï¼› ä¸ªä½“å­¦ä¹ å™¨é—´ä¸å­˜åœ¨å¼ºä¾èµ–å…³ç³»ã€å¯åŒæ—¶ç”Ÿæˆçš„å¹¶è¡ŒåŒ–æ–¹æ³•ï¼Œä»£è¡¨æ˜¯ Bagging å’Œ&quot;éšæœºæ£®æ—&quot; (Random Forest)ã€‚ Boosting çš„åŸºæœ¬æ€è·¯æ˜¯å°†åŸºåˆ†ç±»å™¨å±‚å±‚å åŠ ï¼Œ æ¯ä¸€å±‚åœ¨è®­ç»ƒçš„æ—¶å€™ï¼Œ å¯¹å‰ä¸€å±‚åŸºåˆ†ç±»å™¨ä¸­åˆ†é”™çš„æ ·æœ¬ï¼Œ ç»™äºˆæ›´é«˜çš„æƒé‡ã€‚ æµ‹è¯•æ—¶ï¼Œ æ ¹æ®å„å±‚åˆ†ç±»å™¨çš„ç»“æœçš„åŠ æƒå¾—åˆ°æœ€ç»ˆç»“æœã€‚ï¼ˆé™ä½åå·®ï¼‰ Bagging æ–¹æ³•æ›´åƒæ˜¯ä¸€ä¸ªé›†ä½“å†³ç­–çš„è¿‡ç¨‹ï¼Œ æ¯ä¸ªä¸ªä½“éƒ½è¿›è¡Œå•ç‹¬å­¦ä¹ ï¼Œ å­¦ä¹ çš„å†…å®¹å¯ä»¥ç›¸åŒï¼Œ ä¹Ÿå¯ä»¥ä¸åŒï¼Œ ä¹Ÿå¯ä»¥éƒ¨åˆ†é‡å ã€‚ ä½†ç”±äºä¸ªä½“ä¹‹é—´å­˜åœ¨å·®å¼‚æ€§ï¼Œ æœ€ç»ˆåšå‡ºçš„åˆ¤æ–­ä¸ä¼šå®Œå…¨ä¸€è‡´ã€‚ åœ¨æœ€ç»ˆåšå†³ç­–æ—¶ï¼Œ æ¯ä¸ªä¸ªä½“å•ç‹¬ä½œå‡ºåˆ¤æ–­ï¼Œ å†é€šè¿‡æŠ•ç¥¨çš„æ–¹å¼åšå‡ºæœ€åçš„é›†ä½“å†³ç­–ã€‚ ï¼ˆé™ä½æ–¹å·®ï¼‰ é›†æˆå­¦ä¹ çš„åŸºæœ¬æ­¥éª¤ é›†æˆå­¦ä¹ ä¸€èˆ¬å¯åˆ†ä¸ºä»¥ä¸‹3ä¸ªæ­¥éª¤ã€‚ æ‰¾åˆ°è¯¯å·®äº’ç›¸ç‹¬ç«‹çš„ä¸ªä½“å­¦ä¹ å™¨ã€‚ è¿™é‡Œå¯ä»¥é€‰å–ID3å†³ç­–æ ‘ä½œä¸ºåŸºåˆ†ç±»å™¨ã€‚ äº‹å®ä¸Šï¼Œ ä»»ä½•åˆ†ç±»æ¨¡å‹éƒ½å¯ä»¥ä½œä¸ºåŸºåˆ†ç±»å™¨ï¼Œ ä½†æ ‘å½¢æ¨¡å‹ç”±äºç»“æ„ç®€å•ä¸”è¾ƒæ˜“äº§ç”Ÿéšæœºæ€§æ‰€ä»¥æ¯”è¾ƒå¸¸ç”¨ã€‚ è®­ç»ƒä¸ªä½“å­¦ä¹ å™¨ã€‚ åœ¨é›†æˆå­¦ä¹ ä¸­éœ€æœ‰æ•ˆåœ°ç”Ÿæˆå¤šæ ·æ€§å¤§çš„ä¸ªä½“å­¦ä¹ å™¨ã€‚ä¸ç®€å•åœ°ç›´æ¥ç”¨åˆå§‹æ•°æ®è®­ç»ƒå‡ºä¸ªä½“å­¦ä¹ å™¨ç›¸æ¯”ï¼Œå¦‚ä½•å¢å¼ºå¤šæ ·æ€§å‘¢?ä¸€èˆ¬æ€è·¯æ˜¯åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­å¼•å…¥éšæœºæ€§ï¼Œå¸¸è§åšæ³•ä¸»è¦æ˜¯å¯¹æ•°æ®æ ·æœ¬ã€ è¾“å…¥å±æ€§ã€è¾“å‡ºè¡¨ç¤º ã€ ç®—æ³•å‚æ•°è¿›è¡Œæ‰°åŠ¨ã€‚ æ•°æ®æ ·æœ¬æ‰°åŠ¨ï¼šé€šå¸¸æ˜¯åŸºäºé‡‡æ ·æ³•ï¼Œ ä¾‹å¦‚åœ¨ Baggingä¸­ä½¿ç”¨è‡ªåŠ©é‡‡æ ·(å³æœ‰æ”¾å›çš„é‡‡æ ·)ï¼Œåœ¨ AdaBoost ä¸­ä½¿ç”¨åºåˆ—é‡‡æ ·. è¾“å…¥å±æ€§æ‰°åŠ¨ï¼šä»åˆå§‹å±æ€§é›†ä¸­æŠ½å–å‡ºè‹¥å¹²ä¸ªå±æ€§å­é›†ï¼Œå†åŸºäºæ¯ä¸ªå±æ€§å­é›†è®­ç»ƒä¸€ä¸ªåŸºå­¦ä¹ å™¨ã€‚æ¯”å¦‚éšæœºå­ç©ºé—´ (random subspace)ç®—æ³•ã€‚ è¾“å‡ºè¡¨ç¤ºæ‰°åŠ¨ï¼šå¯å¯¹è®­ç»ƒæ ·æœ¬çš„ç±»æ ‡è®°ç¨ä½œå˜åŠ¨ï¼Œå¦‚&quot;ç¿»è½¬æ³•&quot; (Flipping Output)éšæœºæ”¹å˜ä¸€äº›è®­ç»ƒæ ·æœ¬çš„æ ‡è®°;ä¹Ÿå¯å¯¹è¾“å‡ºè¡¨ç¤ºè¿›è¡Œè½¬åŒ–ï¼Œå¦‚&quot;è¾“å‡ºè°ƒåˆ¶æ³•&quot; (Output Smearing) å°†åˆ†ç±»è¾“å‡ºè½¬åŒ–ä¸ºå›å½’è¾“å‡ºåæ„å»ºä¸ªä½“å­¦ä¹ å™¨; ç®—æ³•å‚æ•°æ‰°åŠ¨ï¼šåŸºå­¦ä¹ ç®—æ³•ä¸€èˆ¬éƒ½æœ‰å‚æ•°éœ€è¿›è¡Œè®¾ç½®ï¼Œä¾‹å¦‚ç¥ç»ç½‘ç»œçš„éšå±‚ç¥ç»å…ƒæ•°ã€åˆå§‹è¿æ¥æƒå€¼ç­‰ã€‚é€šè¿‡éšæœºè®¾ç½®ä¸åŒçš„å‚æ•°ï¼Œå¾€å¾€å¯äº§ç”Ÿå·®åˆ«è¾ƒå¤§çš„ä¸ªä½“å­¦ä¹ å™¨. åˆå¹¶ä¸ªä½“å­¦ä¹ å™¨çš„ç»“æœã€‚ å¸¸è§çš„ç»“åˆç­–ç•¥ï¼šå¹³å‡æ³•(averaging)ï¼ŒæŠ•ç¥¨æ³•(voting)ï¼Œå­¦ä¹ æ³•(æ¯”å¦‚ stacking) averaging å¸¸ç”¨äºæ•°å€¼å‹è¾“å‡ºã€‚æœ‰ç®€å•å¹³å‡æ³•ã€åŠ æƒå¹³å‡æ³•ç­‰ã€‚ voting æ˜¯ç”¨æŠ•ç¥¨çš„æ–¹å¼ï¼Œ å°†è·å¾—æœ€å¤šé€‰ç¥¨çš„ç»“æœä½œä¸ºæœ€ç»ˆçš„ç»“æœã€‚å¸¸ç”¨äºåˆ†ç±»ä»»åŠ¡ã€‚ stacking æ˜¯ç”¨ä¸²è¡Œçš„æ–¹å¼ï¼Œ æŠŠå‰ä¸€ä¸ªåŸºåˆ†ç±»å™¨çš„ç»“æœè¾“å‡ºåˆ°ä¸‹ä¸€ä¸ªåˆ†ç±»å™¨ï¼Œ å°†æ‰€æœ‰åŸºåˆ†ç±»å™¨çš„è¾“å‡ºç»“æœç›¸åŠ ï¼ˆæˆ–è€…ç”¨æ›´å¤æ‚çš„ç®—æ³•èåˆï¼‰ ä½œä¸ºæœ€ç»ˆçš„è¾“å‡ºã€‚ Baggingç®—æ³• é‡‡æ ·ï¼Œè®­ç»ƒ åœ¨Bootstrap(æœ‰æ”¾å›æŠ½æ ·)çš„åŸºç¡€ä¸Šå¯ä»¥æ„é€ å‡ºBaggingï¼ˆBootstrap Aggregatingï¼‰ç®—æ³•ã€‚è¿™ç§æ–¹æ³•å¯¹è®­ç»ƒæ ·æœ¬é›†è¿›è¡Œå¤šæ¬¡BootstrapæŠ½æ ·ï¼Œç”¨æ¯æ¬¡æŠ½æ ·å½¢æˆçš„æ•°æ®é›†è®­ç»ƒä¸€ä¸ªå¼±å­¦ä¹ å™¨æ¨¡å‹ï¼Œå¾—åˆ°å¤šä¸ªç‹¬ç«‹çš„å¼±å­¦ä¹ å™¨ï¼ˆå¯¹äºåˆ†ç±»é—®é¢˜ï¼Œç§°ä¸ºå¼±åˆ†ç±»å™¨ï¼‰ï¼Œæœ€åç”¨å®ƒä»¬çš„ç»„åˆè¿›è¡Œé¢„æµ‹ã€‚ ç»“åˆç­–ç•¥ åœ¨å¯¹é¢„æµ‹è¾“å‡ºè¿›è¡Œç»“åˆæ—¶ï¼Œ Bagging é€šå¸¸å¯¹åˆ†ç±»ä»»åŠ¡ä½¿ç”¨ç®€å•æŠ•ç¥¨æ³•ï¼Œå¯¹å›å½’ä»»åŠ¡ä½¿ç”¨ç®€å•å¹³å‡æ³•. è‹¥åˆ†ç±»é¢„æµ‹æ—¶å‡ºç°ä¸¤ä¸ªç±»æ”¶åˆ°åŒæ ·ç¥¨æ•°çš„æƒ…å½¢ï¼Œåˆ™æœ€ç®€å•çš„åšæ³•æ˜¯éšæœºé€‰æ‹©ä¸€ä¸ªï¼Œä¹Ÿå¯è¿›ä¸€æ­¥è€ƒå¯Ÿå­¦ä¹ å™¨æŠ•ç¥¨çš„ç½®ä¿¡åº¦æ¥ç¡®å®šæœ€ç»ˆèƒœè€…. ç®—æ³•ç‰¹ç‚¹ å‡å®šåŸºå­¦ä¹ å™¨çš„è®¡ç®—å¤æ‚åº¦ä¸º O(m) ï¼Œ åˆ™ Bagging çš„å¤æ‚åº¦å¤§è‡´ä¸º\(T(O(m) + O (s))\) ï¼Œè€ƒè™‘åˆ°é‡‡æ ·ä¸æŠ•ç¥¨/å¹³å‡è¿‡ç¨‹çš„å¤æ‚åº¦ \(O(s)\) å¾ˆå°ï¼Œè€Œ\(T\)é€šå¸¸æ˜¯ä¸€ä¸ªä¸å¤ªå¤§çš„å¸¸æ•°ï¼Œå› æ­¤ï¼Œè®­ç»ƒä¸€ä¸ª Bagging é›†æˆä¸ç›´æ¥ä½¿ç”¨åŸºå­¦ä¹ ç®—æ³•è®­ç»ƒä¸€ä¸ªå­¦ä¹ å™¨çš„å¤æ‚åº¦åŒé˜¶ï¼Œè¿™è¯´æ˜ Bagging æ˜¯ä¸€ä¸ªå¾ˆé«˜æ•ˆçš„é›†æˆå­¦ä¹ ç®—æ³•. å› ä¸ºBoostrapé‡‡æ ·è¿‡ç¨‹ï¼Œæ¯ä¸ªåŸºå­¦ä¹ å™¨åªä½¿ç”¨äº†åˆå§‹è®­ç»ƒé›†ä¸­çº¦ 63.2% çš„æ ·æœ¬ï¼Œé‚£ä¹ˆå‰©ä¸‹çº¦ 36.8% çš„æ ·æœ¬å¯ç”¨ä½œéªŒè¯é›†æ¥å¯¹æ³›åŒ–æ€§èƒ½è¿›è¡Œ&quot;åŒ…å¤–ä¼°è®¡&quot; (out-oÎ¹bag estimate) ä»åå·®æ–¹å·®åˆ†è§£çš„è§’åº¦çœ‹ï¼Œ Bagging ä¸»è¦å…³æ³¨é™ä½æ–¹å·®ï¼Œå› æ­¤å®ƒåœ¨ä¸å‰ªæ å†³ç­–æ ‘ã€ç¥ç»ç½‘ç»œç­‰æ˜“å—æ ·æœ¬æ‰°åŠ¨çš„å­¦ä¹ å™¨ä¸Šæ•ˆç”¨æ›´ä¸ºæ˜æ˜¾. éšæœºæ£®æ—æ€æƒ³ éšæœºæ£®æ—(Random Forestï¼Œç®€ç§°RF)æ˜¯ Bagging çš„ä¸€ä¸ªæ‰©å±•å˜ä½“. RF åœ¨ä»¥å†³ç­–æ ‘ä¸ºåŸºå­¦ä¹ å™¨æ„å»º Bagging é›†æˆçš„åŸºç¡€ä¸Šï¼Œè¿›ä¸€æ­¥åœ¨å†³ç­–æ ‘çš„è®­ç»ƒè¿‡ç¨‹ä¸­å¼•å…¥äº†éšæœºå±æ€§é€‰æ‹©. (æ•°æ®æ ·æœ¬æ‰°åŠ¨ + è¾“å…¥å±æ€§æ‰°åŠ¨) ä¼ ç»Ÿå†³ç­–æ ‘åœ¨é€‰æ‹©åˆ’åˆ†å±æ€§æ—¶æ˜¯åœ¨å½“å‰ç»“ç‚¹çš„å±æ€§é›†åˆ(å‡å®šæœ‰ d ä¸ªå±æ€§)ä¸­é€‰æ‹©ä¸€ä¸ªæœ€ä¼˜å±æ€§; è€Œåœ¨RF ä¸­ï¼Œå¯¹åŸºå†³ç­–æ ‘çš„æ¯ä¸ªç»“ç‚¹ï¼Œå…ˆä»è¯¥ç»“ç‚¹çš„å±æ€§é›†åˆä¸­éšæœºé€‰æ‹©ä¸€ä¸ªåŒ…å« k ä¸ªå±æ€§çš„å­é›†ï¼Œç„¶åå†ä»è¿™ä¸ªå­é›†ä¸­é€‰æ‹©ä¸€ä¸ªæœ€ä¼˜å±æ€§ç”¨äºåˆ’åˆ†. è¿™é‡Œçš„å‚æ•° k æ§åˆ¶äº†éšæœºæ€§çš„å¼•å…¥ç¨‹åº¦ï¼š è‹¥ä»¤ \(k = d\) ï¼Œ åˆ™åŸºå†³ç­–æ ‘çš„æ„å»ºä¸ä¼ ç»Ÿå†³ç­–æ ‘ç›¸åŒ; è‹¥ä»¤ \(k = 1\) ï¼Œ åˆ™æ˜¯éšæœºé€‰æ‹©ä¸€ä¸ªå±æ€§ç”¨äºåˆ’åˆ† ; ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæ¨èå€¼ \(k = log_{2}d\) ç‰¹ç‚¹ éšæœºæ£®æ—ç®€å•ã€å®¹æ˜“å®ç°ã€è®¡ç®—å¼€é”€å°ï¼Œä»¤äººæƒŠå¥‡çš„æ˜¯ï¼Œå®ƒåœ¨å¾ˆå¤šç°å®ä»»åŠ¡ä¸­å±•ç°å‡ºå¼ºå¤§çš„æ€§èƒ½ã€‚ éšæœºæ£®æ—çš„è®­ç»ƒæ•ˆç‡å¸¸ä¼˜äº Baggingã€‚ å› ä¸ºåœ¨ä¸ªä½“å†³ç­–æ ‘çš„æ„å»ºè¿‡ç¨‹ä¸­ï¼ŒBaggingä½¿ç”¨çš„æ˜¯ &quot;ç¡®å®šå‹&quot; å†³ç­–æ ‘ï¼Œåœ¨é€‰æ‹©åˆ’åˆ†å±æ€§æ—¶è¦å¯¹ç»“ç‚¹çš„æ‰€æœ‰å±æ€§è¿›è¡Œè€ƒå¯Ÿï¼Œè€Œéšæœºæ£®æ—ä½¿ç”¨çš„&quot;éšæœºå‹&quot;å†³ç­–æ ‘åˆ™åªéœ€è€ƒå¯Ÿä¸€ä¸ªå±æ€§å­é›†ã€‚ ç”±äºå¯ä»¥éšæœºé€‰æ‹©å†³ç­–æ ‘èŠ‚ç‚¹åˆ’åˆ†ç‰¹å¾ï¼Œè¿™æ ·åœ¨æ ·æœ¬ç‰¹å¾ç»´åº¦å¾ˆé«˜çš„æ—¶å€™ï¼Œä»ç„¶èƒ½é«˜æ•ˆçš„è®­ç»ƒæ¨¡å‹ã€‚ åœ¨è®­ç»ƒåï¼Œå¯ä»¥ç»™å‡ºå„ä¸ªç‰¹å¾å¯¹äºè¾“å‡ºçš„é‡è¦æ€§ã€‚ ç¼ºç‚¹ åœ¨æŸäº›å™ªéŸ³æ¯”è¾ƒå¤§çš„æ ·æœ¬é›†ä¸Šï¼ŒRFæ¨¡å‹å®¹æ˜“é™·å…¥è¿‡æ‹Ÿåˆã€‚ éšæœºæ£®æ—çš„æ¨å¹¿ åŸºäºRFï¼Œæœ‰å¾ˆå¤šå˜ç§ç®—æ³•ï¼Œåº”ç”¨ä¹Ÿå¾ˆå¹¿æ³›ï¼Œä¸å…‰å¯ä»¥ç”¨äºåˆ†ç±»å›å½’ï¼Œè¿˜å¯ä»¥ç”¨äºç‰¹å¾è½¬æ¢ï¼Œå¼‚å¸¸ç‚¹æ£€æµ‹ç­‰ã€‚ sklearnå‚æ•° RFçš„åˆ†ç±»å™¨æ˜¯RandomForestClassifierï¼Œå›å½’å™¨æ˜¯RandomForestRegressorã€‚RFéœ€è¦è°ƒçš„å‚æ•°åŒ…æ‹¬ä¸¤éƒ¨åˆ†ï¼Œç¬¬ä¸€éƒ¨åˆ†æ˜¯Baggingæ¡†æ¶çš„å‚æ•°ï¼Œç¬¬äºŒéƒ¨åˆ†æ˜¯CARTå†³ç­–æ ‘çš„å‚æ•°ã€‚ 1234567891011class sklearn.ensemble.RandomForestClassifier( n_estimators=â€™warnâ€™, criterion=â€™giniâ€™, max_depth=None, min_samples_split=2, min_samples_leaf=1, min_weight_fraction_leaf=0.0, max_features=â€™autoâ€™, max_leaf_nodes=None, min_impurity_decrease=0.0, min_impurity_split=None, bootstrap=True, oob_score=False, n_jobs=None, random_state=None, verbose=0, warm_start=False, class_weight=None) Baggingæ¡†æ¶çš„å‚æ•°è§£é‡Š n_estimatorsï¼šå¼±å­¦ä¹ å™¨çš„æœ€å¤§è¿­ä»£æ¬¡æ•°ï¼Œæˆ–è€…è¯´æœ€å¤§çš„å¼±å­¦ä¹ å™¨çš„ä¸ªæ•°ã€‚ ä¸€èˆ¬æ¥è¯´n_estimatorså¤ªå°ï¼Œå®¹æ˜“è¿‡æ‹Ÿåˆï¼Œå¤ªå¤§åˆå®¹æ˜“æ¬ æ‹Ÿåˆï¼Œä¸€èˆ¬é€‰æ‹©ä¸€ä¸ªé€‚ä¸­çš„æ•°å€¼ã€‚é»˜è®¤æ˜¯100.å®é™…è°ƒå‚çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¸¸å¸¸å°†n_estimatorså’Œä¸‹é¢ä»‹ç»çš„å‚æ•°learning_rateä¸€èµ·è€ƒè™‘ã€‚ oob_scoreï¼šå³æ˜¯å¦é‡‡ç”¨è¢‹å¤–æ ·æœ¬æ¥è¯„ä¼°æ¨¡å‹çš„å¥½åã€‚é»˜è®¤è®¾ç½®Falseã€‚ä¸ªäººæ¨èè®¾ç½®ä¸ºTrueï¼Œå› ä¸ºè¢‹å¤–åˆ†æ•°ååº”äº†ä¸€ä¸ªæ¨¡å‹æ‹Ÿåˆåçš„æ³›åŒ–èƒ½åŠ›ã€‚ criterionï¼šå³CARTå†³ç­–æ ‘åšåˆ’åˆ†æ—¶å¯¹ç‰¹å¾çš„è¯„ä»·æ ‡å‡†ã€‚åˆ†ç±»æ¨¡å‹å’Œå›å½’æ¨¡å‹çš„æŸå¤±å‡½æ•°ä¸ä¸€æ ·ã€‚ åˆ†ç±»RFå¯¹åº”çš„CARTåˆ†ç±»æ ‘é»˜è®¤æ˜¯åŸºå°¼ç³»æ•°ï¼Œå¦ä¸€ä¸ªå¯é€‰æ‹©çš„æ ‡å‡†æ˜¯ä¿¡æ¯å¢ç›Šã€‚ å›å½’RFå¯¹åº”çš„CARTå›å½’æ ‘é»˜è®¤æ˜¯å‡æ–¹å·®mseï¼Œå¦ä¸€ä¸ªå¯ä»¥é€‰æ‹©çš„æ ‡å‡†æ—¶ç»å¯¹å€¼maeã€‚ ä¸€èˆ¬æ¥è¯´é€‰æ‹©é»˜è®¤çš„æ ‡å‡†å°±å·²ç»å¾ˆå¥½äº†ã€‚ RFé‡è¦çš„æ¡†æ¶å‚æ•°æ¯”è¾ƒå°‘ï¼Œä¸»è¦å…³æ³¨çš„æ˜¯n_estimatorsï¼Œå³RFæœ€å¤§çš„å†³ç­–æ ‘ä¸ªæ•°ã€‚ RFå†³ç­–æ ‘å‚æ•° RFçš„å†³ç­–æ ‘å‚æ•°ï¼Œå®ƒè¦è°ƒå‚çš„å‚æ•°åŸºæœ¬å’ŒGBDTç›¸åŒï¼Œå¦‚ä¸‹: max_features:RFåˆ’åˆ†æ—¶è€ƒè™‘çš„æœ€å¤§ç‰¹å¾ï¼Œå¯ä»¥ä½¿ç”¨å¾ˆå¤šç§ç±»å‹çš„å€¼. é»˜è®¤æ˜¯&quot;auto&quot;ï¼Œæ„å‘³ç€åˆ’åˆ†æ—¶æœ€å¤šè€ƒè™‘ \(\sqrt{N}\) ä¸ªç‰¹å¾ï¼› å¦‚æœæ˜¯&quot;log2&quot;æ„å‘³ç€åˆ’åˆ†æ—¶æœ€å¤šè€ƒè™‘ \(log_{2}N\) ä¸ªç‰¹å¾ï¼› å¦‚æœæ˜¯&quot;sqrt&quot;æˆ–è€…&quot;auto&quot;æ„å‘³ç€åˆ’åˆ†æ—¶æœ€å¤šå¯è€ƒè™‘ \(\sqrt{N}\) ä¸ªç‰¹å¾ã€‚ å¦‚æœæ˜¯æ•´æ•°ï¼Œä»£è¡¨è€ƒè™‘çš„ç‰¹å¾ç»å¯¹æ•°ã€‚ å¦‚æœæ˜¯æµ®ç‚¹æ•°ï¼Œä»£è¡¨è€ƒè™‘ç‰¹å¾ç™¾åˆ†æ¯”ï¼Œå³è€ƒè™‘ï¼ˆç™¾åˆ†æ¯”xNï¼‰å–æ•´åçš„ç‰¹å¾æ•°ã€‚ å…¶ä¸­Nä¸ºæ ·æœ¬æ€»ç‰¹å¾æ•°ã€‚ ä¸€èˆ¬æˆ‘ä»¬é»˜è®¤çš„&quot;auto&quot;å°±å¯ä»¥äº†ï¼Œå¦‚æœç‰¹å¾æ•°éå¸¸å¤šï¼Œæˆ‘ä»¬å¯ä»¥çµæ´»ä½¿ç”¨åˆšæ‰æè¿°çš„å…¶ä»–å–å€¼æ¥æ§åˆ¶åˆ’åˆ†æ—¶è€ƒè™‘çš„æœ€å¤§ç‰¹å¾æ•°ï¼Œä»¥æ§åˆ¶å†³ç­–æ ‘çš„ç”Ÿæˆæ—¶é—´ã€‚ max_depth: å†³ç­–æ ‘æœ€å¤§æ·±åº¦ã€‚é»˜è®¤å¯ä»¥ä¸è¾“å…¥ï¼Œå¦‚æœä¸è¾“å…¥çš„è¯ï¼Œå†³ç­–æ ‘åœ¨å»ºç«‹å­æ ‘çš„æ—¶å€™ä¸ä¼šé™åˆ¶å­æ ‘çš„æ·±åº¦ã€‚ ä¸€èˆ¬æ¥è¯´ï¼Œæ•°æ®å°‘æˆ–è€…ç‰¹å¾å°‘çš„æ—¶å€™å¯ä»¥ä¸ç®¡è¿™ä¸ªå€¼ã€‚ å¦‚æœæ¨¡å‹æ ·æœ¬é‡å¤šï¼Œç‰¹å¾ä¹Ÿå¤šçš„æƒ…å†µä¸‹ï¼Œæ¨èé™åˆ¶è¿™ä¸ªæœ€å¤§æ·±åº¦ï¼Œå…·ä½“çš„å–å€¼å–å†³äºæ•°æ®çš„åˆ†å¸ƒã€‚å¸¸ç”¨çš„å¯ä»¥å–å€¼10-100ä¹‹é—´ã€‚ min_samples_split: å†…éƒ¨èŠ‚ç‚¹å†åˆ’åˆ†æ‰€éœ€æœ€å°æ ·æœ¬æ•°ã€‚è¿™ä¸ªå€¼é™åˆ¶äº†å­æ ‘ç»§ç»­åˆ’åˆ†çš„æ¡ä»¶ï¼Œå¦‚æœæŸèŠ‚ç‚¹çš„æ ·æœ¬æ•°å°‘äºmin_samples_splitï¼Œåˆ™ä¸ä¼šç»§ç»­å†å°è¯•é€‰æ‹©æœ€ä¼˜ç‰¹å¾æ¥è¿›è¡Œåˆ’åˆ†ã€‚ é»˜è®¤æ˜¯2.å¦‚æœæ ·æœ¬é‡ä¸å¤§ï¼Œä¸éœ€è¦ç®¡è¿™ä¸ªå€¼ã€‚å¦‚æœæ ·æœ¬é‡æ•°é‡çº§éå¸¸å¤§ï¼Œåˆ™æ¨èå¢å¤§è¿™ä¸ªå€¼ã€‚ min_samples_leaf: å¶å­èŠ‚ç‚¹æœ€å°‘æ ·æœ¬æ•°ã€‚è¿™ä¸ªå€¼é™åˆ¶äº†å¶å­èŠ‚ç‚¹æœ€å°‘çš„æ ·æœ¬æ•°ï¼Œå¦‚æœæŸå¶å­èŠ‚ç‚¹æ•°ç›®å°äºæ ·æœ¬æ•°ï¼Œåˆ™ä¼šå’Œå…„å¼ŸèŠ‚ç‚¹ä¸€èµ·è¢«å‰ªæã€‚ é»˜è®¤æ˜¯1,å¯ä»¥è¾“å…¥æœ€å°‘çš„æ ·æœ¬æ•°çš„æ•´æ•°ï¼Œæˆ–è€…æœ€å°‘æ ·æœ¬æ•°å æ ·æœ¬æ€»æ•°çš„ç™¾åˆ†æ¯”ã€‚å¦‚æœæ ·æœ¬é‡ä¸å¤§ï¼Œä¸éœ€è¦ç®¡è¿™ä¸ªå€¼ã€‚å¦‚æœæ ·æœ¬é‡æ•°é‡çº§éå¸¸å¤§ï¼Œåˆ™æ¨èå¢å¤§è¿™ä¸ªå€¼ã€‚ min_weight_fraction_leafï¼šå¶å­èŠ‚ç‚¹æœ€å°çš„æ ·æœ¬æƒé‡å’Œã€‚è¿™ä¸ªå€¼é™åˆ¶äº†å¶å­èŠ‚ç‚¹æ‰€æœ‰æ ·æœ¬æƒé‡å’Œçš„æœ€å°å€¼ï¼Œå¦‚æœå°äºè¿™ä¸ªå€¼ï¼Œåˆ™ä¼šå’Œå…„å¼ŸèŠ‚ç‚¹ä¸€èµ·è¢«å‰ªæã€‚ é»˜è®¤æ˜¯0ï¼Œå°±æ˜¯ä¸è€ƒè™‘æƒé‡é—®é¢˜ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œå¦‚æœæˆ‘ä»¬æœ‰è¾ƒå¤šæ ·æœ¬æœ‰ç¼ºå¤±å€¼ï¼Œæˆ–è€…åˆ†ç±»æ ‘æ ·æœ¬çš„åˆ†å¸ƒç±»åˆ«åå·®å¾ˆå¤§ï¼Œå°±ä¼šå¼•å…¥æ ·æœ¬æƒé‡ï¼Œè¿™æ—¶æˆ‘ä»¬å°±è¦æ³¨æ„è¿™ä¸ªå€¼äº†ã€‚ max_leaf_nodes: æœ€å¤§å¶å­èŠ‚ç‚¹æ•°ã€‚é€šè¿‡é™åˆ¶æœ€å¤§å¶å­èŠ‚ç‚¹æ•°ï¼Œå¯ä»¥é˜²æ­¢è¿‡æ‹Ÿåˆï¼Œé»˜è®¤æ˜¯&quot;Noneâ€ï¼Œå³ä¸é™åˆ¶æœ€å¤§çš„å¶å­èŠ‚ç‚¹æ•°ã€‚å¦‚æœåŠ äº†é™åˆ¶ï¼Œç®—æ³•ä¼šå»ºç«‹åœ¨æœ€å¤§å¶å­èŠ‚ç‚¹æ•°å†…æœ€ä¼˜çš„å†³ç­–æ ‘ã€‚å¦‚æœç‰¹å¾ä¸å¤šï¼Œå¯ä»¥ä¸è€ƒè™‘è¿™ä¸ªå€¼ï¼Œä½†æ˜¯å¦‚æœç‰¹å¾å¾ˆå¤šçš„è¯ï¼Œå¯ä»¥åŠ ä»¥é™åˆ¶ï¼Œå…·ä½“çš„å€¼å¯ä»¥é€šè¿‡äº¤å‰éªŒè¯å¾—åˆ°ã€‚ min_impurity_split: èŠ‚ç‚¹åˆ’åˆ†æœ€å°ä¸çº¯åº¦ã€‚è¿™ä¸ªå€¼é™åˆ¶äº†å†³ç­–æ ‘çš„å¢é•¿ï¼Œå¦‚æœæŸèŠ‚ç‚¹çš„ä¸çº¯åº¦(åŸºäºåŸºå°¼ç³»æ•°ï¼Œå‡æ–¹å·®)å°äºè¿™ä¸ªé˜ˆå€¼ï¼Œåˆ™è¯¥èŠ‚ç‚¹ä¸å†ç”Ÿæˆå­èŠ‚ç‚¹ã€‚å³ä¸ºå¶å­èŠ‚ç‚¹ ã€‚ä¸€èˆ¬ä¸æ¨èæ”¹åŠ¨é»˜è®¤å€¼1e-7ã€‚ ä¸Šé¢å†³ç­–æ ‘å‚æ•°ä¸­æœ€é‡è¦çš„åŒ…æ‹¬æœ€å¤§ç‰¹å¾æ•° max_featuresï¼Œ æœ€å¤§æ·±åº¦ max_depthï¼Œ å†…éƒ¨èŠ‚ç‚¹å†åˆ’åˆ†æ‰€éœ€æœ€å°æ ·æœ¬æ•°min_samples_split å’Œå¶å­èŠ‚ç‚¹æœ€å°‘æ ·æœ¬æ•° min_samples_leafã€‚ å‚è€ƒ ã€Šæœºå™¨å­¦ä¹ ã€‹å‘¨å¿—å ã€Šç™¾é¢æœºå™¨å­¦ä¹ ã€‹è¯¸è‘›è¶Š éšæœºæ£®æ—æ¦‚è¿° by SIGAI éšæœºæ£®æ—ç®—æ³•ä»‹ç»(ç†è®º) scikit-learnéšæœºæ£®æ—è°ƒå‚å°ç»“]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>sklearn</tag>
        <tag>æœºå™¨å­¦ä¹ </tag>
        <tag>ç®—æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[pandas å¤„ç†æ—¶é—´ç±»å‹æ•°æ®]]></title>
    <url>%2F2019%2F04%2F01%2Fpandas%E5%A4%84%E7%90%86%E6%97%B6%E9%97%B4%E5%92%8C%E6%97%A5%E6%9C%9F%E7%B1%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%2F</url>
    <content type="text"><![CDATA[å­¦ä¹ ç›®æ ‡ï¼š - æ—¶é—´åºåˆ—æ•°æ®å¯¼å…¥ï¼Œå¹¶è½¬ä¸ºæ—¶é—´ç±»å‹ - å¯¼å…¥ä¸€ä¸ªæ—¶é—´ç›¸å…³çš„æ•°æ®é›† 123456import numpy as npimport pandas as pd## importing a dataseturl="http://mlr.cs.umass.edu/ml/machine-learning-databases/event-detection/CalIt2.data"data = pd.read_csv(url, header = None) æŸ¥çœ‹æ•°æ®çš„å±æ€§ 12345678910111213&gt;&gt;&gt; data.head(3) 0 1 2 30 7 07/24/05 00:00:00 01 9 07/24/05 00:00:00 02 7 07/24/05 00:30:00 1## æŸ¥çœ‹æ‰€æœ‰åˆ—çš„æ•°æ®ç±»å‹&gt;&gt;&gt; data.dtypes0 int641 object2 object3 int64dtype: object å¯ä»¥çœ‹å‡ºæ¥ç¬¬1åˆ—å’Œç¬¬2åˆ—åŒ…å«æ—¶é—´æ—¶é—´åºåˆ—æ•°æ®ï¼Œä½†å´æ˜¯objectç±»å‹ï¼Œæˆ‘ä»¬å¯ä»¥è½¬æ¢æˆæ—¶é—´ç±»å‹ã€‚ ## æ•°æ®ç±»å‹è½¬åŒ–(object â†’ datetime) 12345678910&gt;&gt;&gt; data[1] = pd.to_datetime(data[1])&gt;&gt;&gt; data[2] = pd.to_datetime(data[2])&gt;&gt;&gt; data.dtypes0 int641 datetime64[ns]2 datetime64[ns]3 int64dtype: object æŸ¥çœ‹datetimeç±»å‹æ•°æ® æŸ¥çœ‹è¿™ä¸ªæ•°æ®é›†ä¸­çš„æ—¶é—´æ•°æ®ä¸­åŒ…å«äº†å“ªäº›å¹´ã€æœˆã€æ—¥ç­‰ã€‚ 123456789&gt;&gt;&gt; data[1].dt.year.unique()array([2005], dtype=int64)&gt;&gt;&gt; data[1].dt.month.unique()array([ 7, 8, 9, 10, 11], dtype=int64)&gt;&gt;&gt; data[1].dt.day.unique()array([24, 25, 26, 27, 28, 29, 30, 31, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23], dtype=int64) æŸ¥çœ‹æŸæœˆçš„æ•°æ®æœ‰å¤šå°‘ 12&gt;&gt;&gt; data[data[1].dt.month == 10].shape(2976, 4) æŸ¥çœ‹ä¸¤ä¸ªæ—¶é—´ç›¸å·®å¤šä¹… 12&gt;&gt;&gt; data.loc[6624,1] - data.loc[0,1]Timedelta('69 days 00:00:00') ç¬¬1è¡Œå’Œç¬¬6624è¡Œçš„æ•°æ®ç›¸å·®69å¤©ï¼Œç»“æœæ˜¯ä¸ªTimedeltaæ•°æ®ç±»å‹ã€‚ å‚è€ƒï¼šWorking with Dates and timedelta in Pandas]]></content>
      <categories>
        <category>æ•°æ®åˆ†æ</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>pandas</tag>
        <tag>æ—¶é—´åºåˆ—</tag>
        <tag>æ•°æ®åˆ†æ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ¨¡å‹è¯„ä¼°æŒ‡æ ‡]]></title>
    <url>%2F2019%2F03%2F21%2F%E6%A8%A1%E5%9E%8B%E9%AA%8C%E8%AF%81%2F</url>
    <content type="text"><![CDATA[å…ˆåŠ è½½æ•°æ® 12345678910111213# Data Loadingimport pandas as pd# Load datamelbourne_file_path = '../input/melbourne-housing-snapshot/melb_data.csv'melbourne_data = pd.read_csv(melbourne_file_path) # Filter rows with missing price valuesfiltered_melbourne_data = melbourne_data.dropna(axis=0)# Choose target and featuresy = filtered_melbourne_data.Pricemelbourne_features = ['Rooms', 'Bathroom', 'Landsize', 'BuildingArea', 'YearBuilt', 'Lattitude', 'Longtitude']X = filtered_melbourne_data[melbourne_features] å›å½’æ¨¡å‹è¯„ä»·æŒ‡æ ‡MSEã€RMSEã€MAEã€R-Squared å‡æ–¹è¯¯å·®(MAE) MSE ï¼ˆMean Squared Errorï¼‰å«åšå‡æ–¹è¯¯å·®ã€‚çœ‹å…¬å¼ \[ \frac{1}{m}\sum _ { i=1 }^m (y_ i-\hat{y_i})^2\] å‚è€ƒ Model Validation]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>æœºå™¨å­¦ä¹ </tag>
        <tag>åŸºç¡€</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å†³ç­–æ ‘(Decision trees)]]></title>
    <url>%2F2019%2F03%2F18%2F%E5%86%B3%E7%AD%96%E6%A0%91%2F</url>
    <content type="text"><![CDATA[å†³ç­–æ ‘æ¨¡å‹æ ¸å¿ƒæ˜¯ä¸‹é¢å‡ éƒ¨åˆ†ï¼š ç»“ç‚¹å’Œæœ‰å‘è¾¹ç»„æˆ ç»“ç‚¹æœ‰å†…éƒ¨ç»“ç‚¹å’Œå¶ç»“ç‚¹ä¿©ç§ç±»å‹ å†…éƒ¨ç»“ç‚¹è¡¨ç¤ºä¸€ä¸ªç‰¹å¾ï¼Œå¶èŠ‚ç‚¹è¡¨ç¤ºä¸€ä¸ªç±» å†³ç­–æ ‘çš„åˆ¤å®šè¿‡ç¨‹å°±ç›¸å½“äºæ ‘ä¸­ä»æ ¹ç»“ç‚¹åˆ°æŸä¸€ä¸ªå¶å­ç»“ç‚¹çš„éå†ã€‚æ¯ä¸€æ­¥å¦‚ä½•éå†æ˜¯ç”±æ•°æ®å„ä¸ªç‰¹å¾çš„å…·ä½“ç‰¹å¾å±æ€§å†³å®šã€‚ æ„å»ºå†³ç­–æ ‘ æ‰€è°“å†³ç­–æ ‘çš„æ„é€ ï¼Œå°±æ˜¯è¿›è¡Œå±æ€§é€‰æ‹©åº¦é‡ï¼Œç¡®å®šå„ä¸ªç‰¹å¾å±æ€§ä¹‹é—´çš„æ‹“æ‰‘ç»“æ„ã€‚ å±æ€§é€‰æ‹©åº¦é‡æ˜¯ä¸€ç§é€‰æ‹©åˆ†è£‚å‡†åˆ™ï¼Œæ˜¯å°†ç»™å®šçš„ç±»æ ‡è®°çš„è®­ç»ƒé›†åˆçš„æ•°æ®åˆ’åˆ†Dâ€œæœ€å¥½â€åœ°åˆ†æˆä¸ªä½“ç±»çš„å¯å‘å¼æ–¹æ³•ï¼Œå®ƒå†³å®šäº†æ‹“æ‰‘ç»“æ„åŠåˆ†è£‚ç‚¹split_pointçš„é€‰æ‹©ã€‚ å±æ€§é€‰æ‹©åº¦é‡ç®—æ³•æœ‰å¾ˆå¤šï¼Œä¸€èˆ¬ä½¿ç”¨è‡ªé¡¶å‘ä¸‹é€’å½’åˆ†æ²»æ³•ï¼Œå¹¶é‡‡ç”¨ä¸å›æº¯çš„è´ªå¿ƒç­–ç•¥ã€‚ åˆ†è£‚å±æ€§ æ„é€ å†³ç­–æ ‘çš„å…³é”®æ­¥éª¤æ˜¯åˆ†è£‚å±æ€§ã€‚ åˆ†è£‚å±æ€§åˆ†ä¸ºä¸‰ç§ä¸åŒçš„æƒ…å†µï¼š å±æ€§æ˜¯ç¦»æ•£å€¼ä¸”ä¸è¦æ±‚ç”ŸæˆäºŒå‰å†³ç­–æ ‘ã€‚æ­¤æ—¶ç”¨å±æ€§çš„æ¯ä¸€ä¸ªåˆ’åˆ†ä½œä¸ºä¸€ä¸ªåˆ†æ”¯ã€‚ å±æ€§æ˜¯ç¦»æ•£å€¼ä¸”è¦æ±‚ç”ŸæˆäºŒå‰å†³ç­–æ ‘ã€‚æ­¤æ—¶ä½¿ç”¨å±æ€§åˆ’åˆ†çš„ä¸€ä¸ªå­é›†è¿›è¡Œæµ‹è¯•ï¼ŒæŒ‰ç…§â€œå±äºæ­¤å­é›†â€å’Œâ€œä¸å±äºæ­¤å­é›†â€åˆ†æˆä¸¤ä¸ªåˆ†æ”¯ã€‚ å±æ€§æ˜¯è¿ç»­å€¼ã€‚æ­¤æ—¶ç¡®å®šä¸€ä¸ªå€¼ä½œä¸ºåˆ†è£‚ç‚¹split_pointï¼ŒæŒ‰ç…§&gt;split_pointå’Œ&lt;=split_pointç”Ÿæˆä¸¤ä¸ªåˆ†æ”¯ã€‚ åˆ†è£‚å±æ€§ï¼šåœ¨æŸä¸ªèŠ‚ç‚¹å¤„æŒ‰ç…§æŸä¸€ç‰¹å¾å±æ€§çš„ä¸åŒåˆ’åˆ†æ„é€ ä¸åŒçš„åˆ†æ”¯ï¼Œå…¶ç›®æ ‡æ˜¯è®©å„ä¸ªåˆ†è£‚å­é›†å°½å¯èƒ½åœ°â€œçº¯â€ã€‚å°½å¯èƒ½â€œçº¯â€å°±æ˜¯å°½é‡è®©ä¸€ä¸ªåˆ†è£‚å­é›†ä¸­å¾…åˆ†ç±»é¡¹å±äºåŒä¸€ç±»åˆ«ã€‚ åˆ¤æ–­â€œçº¯â€çš„æ–¹æ³•ä¸åŒå¼•å‡ºäº†æˆ‘ä»¬çš„ID3ç®—æ³•ï¼ŒC4.5ç®—æ³•ä»¥åŠCARTç®—æ³•ã€‚ ID3ç®—æ³• åœ¨ä¿¡æ¯è®ºä¸­ï¼ŒæœŸæœ›ä¿¡æ¯è¶Šå°ï¼Œä¿¡æ¯å¢ç›Šè¶Šå¤§ï¼Œä»è€Œçº¯åº¦è¶Šé«˜ã€‚ ID3ç®—æ³•çš„æ ¸å¿ƒæ€æƒ³å°±æ˜¯ä»¥ä¿¡æ¯å¢ç›Šæ¥åº¦é‡å±æ€§é€‰æ‹©ï¼Œé€‰æ‹©åˆ†è£‚åä¿¡æ¯å¢ç›Šæœ€å¤§çš„å±æ€§è¿›è¡Œåˆ†è£‚ã€‚ ä¸‹é¢å…ˆå®šä¹‰å‡ ä¸ªè¦ç”¨åˆ°çš„æ¦‚å¿µã€‚ è®¾ D ä¸ºç”¨ç±»åˆ«å¯¹è®­ç»ƒå…ƒç»„è¿›è¡Œçš„åˆ’åˆ†ï¼Œåˆ™ D çš„ç†µï¼ˆentropyï¼‰è¡¨ç¤ºä¸ºï¼š \[ i n f o(D)=-\sum_{i=1}^{m} p_{i} \log _{2}\left(p_{i}\right) \] å…¶ä¸­ \(p_i\) è¡¨ç¤ºç¬¬ \(i\) ä¸ªç±»åˆ«åœ¨æ•´ä¸ªè®­ç»ƒå…ƒç»„ä¸­å‡ºç°çš„æ¦‚ç‡ï¼Œå¯ä»¥ç”¨\(\frac{å±äºæ­¤ç±»åˆ«å…ƒç´ çš„æ•°é‡} {è®­ç»ƒå…ƒç»„å…ƒç´ æ€»æ•°é‡}\) ä½œä¸ºä¼°è®¡ã€‚ç†µçš„å®é™…æ„ä¹‰è¡¨ç¤ºæ˜¯ D ä¸­å…ƒç»„çš„ç±»æ ‡å·æ‰€éœ€è¦çš„å¹³å‡ä¿¡æ¯é‡ã€‚ ç°åœ¨æˆ‘ä»¬å‡è®¾å°†è®­ç»ƒå…ƒç»„ D æŒ‰å±æ€§ A è¿›è¡Œåˆ’åˆ†ï¼Œåˆ™ A å¯¹ D åˆ’åˆ†çš„æœŸæœ›ä¿¡æ¯ä¸ºï¼š \[ i n f o_{A}(D)=\sum_{j=1}^{v} \frac{\left|D_{j}\right|}{|D|} \text i n f o\left(D_{j}\right) \] è€Œä¿¡æ¯å¢ç›Šå³ä¸ºä¸¤è€…çš„å·®å€¼ï¼š \[ \operatorname{gain}(A)=i n f o(D)-i n f o_{A}(D) \] ID3ç®—æ³•å°±æ˜¯åœ¨æ¯æ¬¡éœ€è¦åˆ†è£‚æ—¶ï¼Œè®¡ç®—æ¯ä¸ªå±æ€§çš„å¢ç›Šç‡ï¼Œç„¶åé€‰æ‹©å¢ç›Šç‡æœ€å¤§çš„å±æ€§è¿›è¡Œåˆ†è£‚ã€‚ C4.5ç®—æ³• ID3ç®—æ³•å­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯åå‘äºå¤šå€¼å±æ€§ï¼Œä¾‹å¦‚ï¼Œå¦‚æœå­˜åœ¨å”¯ä¸€æ ‡è¯†å±æ€§IDï¼Œåˆ™ID3ä¼šé€‰æ‹©å®ƒä½œä¸ºåˆ†è£‚å±æ€§ï¼Œè¿™æ ·è™½ç„¶ä½¿å¾—åˆ’åˆ†å……åˆ†çº¯å‡€ï¼Œä½†è¿™ç§åˆ’åˆ†å¯¹åˆ†ç±»å‡ ä¹æ¯«æ— ç”¨å¤„ã€‚ID3çš„åç»§ç®—æ³•C4.5ä½¿ç”¨å¢ç›Šç‡ï¼ˆgain ratioï¼‰çš„ä¿¡æ¯å¢ç›Šæ‰©å……ï¼Œè¯•å›¾å…‹æœè¿™ä¸ªåå€šã€‚ CARTç®—æ³• CART(Classification And Regression Tree)åˆ†ç±»å›å½’æ ‘ç®—æ³•é‡‡ç”¨ä¸€ç§äºŒåˆ†é€’å½’åˆ†å‰²çš„æŠ€æœ¯ï¼Œå°†å½“å‰çš„æ ·æœ¬é›†åˆ†ä¸ºä¸¤ä¸ªå­æ ·æœ¬é›†ï¼Œä½¿å¾—ç”Ÿæˆçš„urlå­èŠ‚ç‚¹éƒ½æœ‰ä¸¤ä¸ªåˆ†æ”¯ã€‚å› æ­¤ï¼ŒCARTç®—æ³•ç”Ÿæˆçš„å†³ç­–æ ‘æ˜¯ç»“æ„ç®€æ´çš„äºŒå‰æ ‘ã€‚ ç”±äºCARTç®—æ³•æ„æˆçš„æ˜¯ä¸€ä¸ªäºŒå‰æ ‘ï¼Œå®ƒåœ¨æ¯ä¸€æ­¥çš„å†³ç­–æ—¶åªèƒ½æ˜¯â€œæ˜¯â€æˆ–è€…â€œå¦â€ï¼Œå³ä½¿ä¸€ä¸ªfeatureæœ‰å¤šä¸ªå–å€¼ï¼Œä¹Ÿæ˜¯æŠŠæ•°æ®åˆ†ä¸ºä¸¤éƒ¨åˆ†ã€‚åœ¨CARTç®—æ³•ä¸­ä¸»è¦åˆ†ä¸ºä¸¤ä¸ªæ­¥éª¤: å°†æ ·æœ¬é€’å½’åˆ’åˆ†è¿›è¡Œå»ºæ ‘è¿‡ç¨‹ ç”¨éªŒè¯æ•°æ®è¿›è¡Œå‰ªæ åˆ’åˆ†å»ºæ ‘ è®¾ \(x_{1}, x_{2}, \dots, x_{n}\) ä»£è¡¨å•ä¸ªæ ·æœ¬çš„ \(n\) ä¸ªå±æ€§ï¼Œ\(y\) è¡¨ç¤ºæ‰€å±ç±»åˆ«ã€‚CARTç®—æ³•é€šè¿‡é€’å½’çš„æ–¹å¼å°†ç»´çš„ç©ºé—´åˆ’åˆ†ä¸ºä¸é‡å çš„çŸ©å½¢ã€‚åˆ’åˆ†æ­¥éª¤å¤§è‡´å¦‚ä¸‹: é€‰ä¸€ä¸ªè‡ªå˜é‡ \(x_i\)ï¼Œå†é€‰å– \(x_i\) çš„ä¸€ä¸ªå€¼ \(v_i\)ï¼Œ \(v_i\)æŠŠ n ç»´ç©ºé—´åˆ’åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œä¸€éƒ¨åˆ†çš„æ‰€æœ‰ç‚¹éƒ½æ»¡è¶³ \(x_{i} \leq v_{i}\)ï¼Œå¦ä¸€éƒ¨åˆ†çš„æ‰€æœ‰ç‚¹éƒ½æ»¡è¶³ \(x_{i} &gt; v_{i}\)ï¼Œå¯¹éè¿ç»­å˜é‡æ¥è¯´å±æ€§å€¼çš„å–å€¼åªæœ‰ä¸¤ä¸ªï¼Œå³ç­‰äºè¯¥å€¼æˆ–ä¸ç­‰äºè¯¥å€¼ã€‚ é€’å½’å¤„ç†ï¼Œå°†ä¸Šé¢å¾—åˆ°çš„ä¸¤éƒ¨åˆ†æŒ‰æ­¥éª¤1 é‡æ–°é€‰å–ä¸€ä¸ªå±æ€§ç»§ç»­åˆ’åˆ†ï¼Œç›´åˆ°æŠŠæ•´ä¸ªç»´ç©ºé—´éƒ½åˆ’åˆ†å®Œã€‚ åœ¨åˆ’åˆ†æ—¶å€™æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå®ƒæ˜¯æŒ‰ç…§ä»€ä¹ˆæ ‡å‡†æ¥åˆ’åˆ†çš„ ï¼Ÿ å¯¹äºä¸€ä¸ªå˜é‡å±æ€§æ¥è¯´ï¼Œå®ƒçš„åˆ’åˆ†ç‚¹æ˜¯ä¸€å¯¹è¿ç»­å˜é‡å±æ€§å€¼çš„ä¸­ç‚¹ã€‚å‡è®¾ m ä¸ªæ ·æœ¬çš„é›†åˆä¸€ä¸ªå±æ€§æœ‰ m ä¸ªè¿ç»­çš„å€¼ï¼Œé‚£ä¹ˆåˆ™ä¼šæœ‰ m-1 ä¸ªåˆ†è£‚ç‚¹ï¼Œæ¯ä¸ªåˆ†è£‚ç‚¹ä¸ºç›¸é‚»ä¸¤ä¸ªè¿ç»­å€¼çš„å‡å€¼ã€‚æ¯ä¸ªå±æ€§çš„åˆ’åˆ†æŒ‰ç…§èƒ½å‡å°‘çš„æ‚è´¨çš„é‡æ¥è¿›è¡Œæ’åºï¼Œè€Œæ‚è´¨çš„å‡å°‘é‡å®šä¹‰ä¸ºåˆ’åˆ†å‰çš„æ‚è´¨å‡å»åˆ’åˆ†åçš„æ¯ä¸ªèŠ‚ç‚¹çš„æ‚è´¨é‡åˆ’åˆ†æ‰€å æ¯”ç‡ä¹‹å’Œã€‚è€Œæ‚è´¨åº¦é‡æ–¹æ³•å¸¸ç”¨GiniæŒ‡æ ‡ï¼Œå‡è®¾ä¸€ä¸ªæ ·æœ¬å…±æœ‰ \(C\) ç±»ï¼Œé‚£ä¹ˆä¸€ä¸ªèŠ‚ç‚¹ \(A\) çš„Giniä¸çº¯åº¦å¯å®šä¹‰ä¸º \[ \operatorname{Gini}(A)=1-\sum_{i=1}^{C} p_{i}^{2} \] å…¶ä¸­ \(p_i\) è¡¨ç¤ºå±äº \(i\) ç±»çš„æ¦‚ç‡ï¼Œå½“ Gini(A)=0 æ—¶ï¼Œæ‰€æœ‰æ ·æœ¬å±äºåŒç±»ï¼Œæ‰€æœ‰ç±»åœ¨èŠ‚ç‚¹ä¸­ä»¥ç­‰æ¦‚ç‡å‡ºç°æ—¶ï¼ŒGini(A) æœ€å¤§åŒ–ï¼Œæ­¤æ—¶ \(C(C-1)/2\) ã€‚ æœ‰äº†ä¸Šè¿°ç†è®ºåŸºç¡€ï¼Œå®é™…çš„é€’å½’åˆ’åˆ†è¿‡ç¨‹æ˜¯è¿™æ ·çš„ï¼šå¦‚æœå½“å‰èŠ‚ç‚¹çš„æ‰€æœ‰æ ·æœ¬éƒ½ä¸å±äºåŒä¸€ç±»æˆ–è€…åªå‰©ä¸‹ä¸€ä¸ªæ ·æœ¬ï¼Œé‚£ä¹ˆæ­¤èŠ‚ç‚¹ä¸ºéå¶å­èŠ‚ç‚¹ï¼Œæ‰€ä»¥ä¼šå°è¯•æ ·æœ¬çš„æ¯ä¸ªå±æ€§ä»¥åŠæ¯ä¸ªå±æ€§å¯¹åº”çš„åˆ†è£‚ç‚¹ï¼Œå°è¯•æ‰¾åˆ°æ‚è´¨å˜é‡æœ€å¤§çš„ä¸€ä¸ªåˆ’åˆ†ï¼Œè¯¥å±æ€§åˆ’åˆ†çš„å­æ ‘å³ä¸ºæœ€ä¼˜åˆ†æ”¯ã€‚ å‰ªæ å»ºæ ‘å®Œæˆåï¼Œå¯ä»¥æ ¹æ®éªŒè¯æ•°æ®è¿›è¡Œå‰ªæã€‚åœ¨CARTæ ‘çš„å»ºæ ‘è¿‡ç¨‹ä¸­ï¼Œå¯èƒ½å­˜åœ¨Overfittingï¼Œè®¸å¤šåˆ†æ”¯ä¸­åæ˜ çš„æ˜¯æ•°æ®ä¸­çš„å¼‚å¸¸ï¼Œè¿™æ ·çš„å†³ç­–æ ‘å¯¹åˆ†ç±»çš„å‡†ç¡®æ€§ä¸é«˜ï¼Œé‚£ä¹ˆéœ€è¦æ£€æµ‹å¹¶å‡å»è¿™äº›ä¸å¯é çš„åˆ†æ”¯ã€‚ å†³ç­–æ ‘å¸¸ç”¨çš„å‰ªææœ‰äº‹å‰å‰ªæå’Œäº‹åå‰ªæï¼ŒCARTç®—æ³•é‡‡ç”¨äº‹åå‰ªæï¼Œå…·ä½“æ–¹æ³•ä¸ºä»£ä»·å¤æ‚æ€§å‰ªææ³•ã€‚å¯å‚è€ƒå¦‚ä¸‹é“¾æ¥ å‰ªæå‚è€ƒï¼šhttp://www.cnblogs.com/zhangchaoyang/articles/2709922.html å‚è€ƒ ç®—æ³•æ‚è´§é“ºâ€”â€”åˆ†ç±»ç®—æ³•ä¹‹å†³ç­–æ ‘(Decision tree) å†³ç­–æ ‘ä¹‹CARTç®—æ³•]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>æœºå™¨å­¦ä¹ </tag>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ¢¯åº¦ä¸‹é™(gradient boosting)]]></title>
    <url>%2F2019%2F03%2F18%2F%E6%A2%AF%E5%BA%A6%E4%B8%8B%E9%99%8D%2F</url>
    <content type="text"><![CDATA[]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>æœºå™¨å­¦ä¹ </tag>
        <tag>python</tag>
        <tag>æ¢¯åº¦ä¸‹é™</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å›æº¯ç®—æ³•]]></title>
    <url>%2F2019%2F03%2F16%2Fpython-leetcode-backtracking%2F</url>
    <content type="text"><![CDATA[å›æº¯æ³•æ˜¯æš´åŠ›æœç´¢æ³•ä¸­çš„ä¸€ç§ã€‚ å¯¹äºæŸäº›è®¡ç®—é—®é¢˜è€Œè¨€ï¼Œå›æº¯æ³•æ˜¯ä¸€ç§å¯ä»¥æ‰¾å‡ºæ‰€æœ‰è§£çš„ä¸€èˆ¬æ€§ç®—æ³•ï¼Œå°¤å…¶é€‚ç”¨äºçº¦æŸæ»¡è¶³é—®é¢˜ã€‚å›æº¯æ³•é‡‡ç”¨è¯•é”™çš„æ€æƒ³ï¼Œå®ƒå°è¯•åˆ†æ­¥çš„å»è§£å†³ä¸€ä¸ªé—®é¢˜ã€‚ åœ¨åˆ†æ­¥è§£å†³é—®é¢˜çš„è¿‡ç¨‹ä¸­ï¼Œå½“å®ƒé€šè¿‡å°è¯•å‘ç°ç°æœ‰çš„åˆ†æ­¥ç­”æ¡ˆä¸èƒ½å¾—åˆ°æœ‰æ•ˆçš„æ­£ç¡®çš„è§£ç­”çš„æ—¶å€™ï¼Œå®ƒå°†å–æ¶ˆä¸Šä¸€æ­¥ç”šè‡³æ˜¯ä¸Šå‡ æ­¥çš„è®¡ç®—ï¼Œå†é€šè¿‡å…¶å®ƒçš„å¯èƒ½çš„åˆ†æ­¥è§£ç­”å†æ¬¡å°è¯•å¯»æ‰¾é—®é¢˜çš„ç­”æ¡ˆã€‚å›æº¯æ³•é€šå¸¸ç”¨æœ€ç®€å•çš„é€’å½’æ–¹æ³•æ¥å®ç°ï¼Œåœ¨åå¤é‡å¤ä¸Šè¿°çš„æ­¥éª¤åå¯èƒ½å‡ºç°ä¸¤ç§æƒ…å†µï¼š æ‰¾åˆ°ä¸€ä¸ªå¯èƒ½å­˜åœ¨çš„æ­£ç¡®çš„ç­”æ¡ˆ åœ¨å°è¯•äº†æ‰€æœ‰å¯èƒ½çš„åˆ†æ­¥æ–¹æ³•åå®£å‘Šè¯¥é—®é¢˜æ²¡æœ‰ç­”æ¡ˆ å›æº¯ç®—æ³•çš„åŸºæœ¬å½¢å¼æ˜¯â€œé€’å½’+å¾ªç¯â€ï¼Œæ­£å› ä¸ºå¾ªç¯ä¸­åµŒå¥—ç€é€’å½’ï¼Œé€’å½’ä¸­åŒ…å«å¾ªç¯ï¼Œè¿™æ‰ä½¿å¾—å›æº¯æ¯”ä¸€èˆ¬çš„é€’å½’å’Œå•çº¯çš„å¾ªç¯æ›´éš¾ç†è§£ã€‚ å­¦ä¹ ç›®æ ‡ï¼š åˆ©ç”¨å›æº¯ç®—æ³•æ±‚è§£å…«çš‡åé—®é¢˜ leetcode 51. Nçš‡å leetcode 52. Nçš‡å II åˆ©ç”¨å›æº¯ç®—æ³•æ±‚è§£ 0-1 èƒŒåŒ…é—®é¢˜ Leetcode 78. å­é›† Leetcode 17. ç”µè¯å·ç çš„å­—æ¯ç»„åˆ å•è¯æœç´¢ å…«çš‡åé—®é¢˜ æœ‰ä¸€ä¸ªæ£‹ç›˜å’Œ8ä¸ªè¦æ”¾åˆ°ä¸Šé¢çš„çš‡åã€‚å”¯ä¸€çš„è¦æ±‚æ˜¯çš‡åä¹‹é—´ä¸èƒ½å½¢æˆå¨èƒã€‚ï¼ˆå¿…é¡»æŠŠå®ƒä»¬æ”¾ç½®æˆæ¯ä¸ªçš‡åéƒ½ä¸èƒ½åƒæ‰å…¶ä»–çš‡åçš„çŠ¶æ€ï¼‰çš‡åè¦å¦‚ä½•æ”¾ç½®å‘¢ï¼Ÿ å‡è®¾ä¸åªæ˜¯8ä¸ªï¼Œè€Œæ˜¯æœ‰ä»»æ„æ•°ç›®çš„çš‡åï¼Œæ€ä¹ˆè§£å†³ï¼Ÿ æ–¹æ³•ï¼šå›æº¯ + ç”Ÿæˆå™¨ è¿™æ˜¯ä¸€ä¸ªå…¸å‹çš„å›æº¯é—®é¢˜ã€‚é¦–å…ˆå°è¯•åœ¨ç¬¬ä¸€è¡Œæ”¾ç½®ç¬¬1ä¸ªçš‡åï¼Œç„¶åç¬¬äºŒè¡Œæ”¾ç½®ç¬¬2ä¸ªï¼Œä¾æ¬¡ç±»æ¨ã€‚ å¦‚æœå‘ç°ä¸èƒ½æ”¾ç½®ä¸‹ä¸€ä¸ªçš‡åï¼Œå°±å›æº¯åˆ°ä¸Šä¸€æ­¥ï¼Œè¯•ç€å°†çš‡åæ”¾åˆ°å…¶ä»–çš„ä½ç½®ã€‚æœ€åï¼Œæˆ–è€…å°è¯•å®Œæ‰€æœ‰çš„å¯èƒ½ï¼Œæˆ–è€…æ‰¾åˆ°è§£å†³æ–¹æ¡ˆã€‚ çŠ¶æ€è¡¨ç¤º å…ƒç»„è¡¨ç¤ºï¼šæ¯ä¸ªå…ƒç»„ä¸­çš„å…ƒç´ éƒ½æŒ‡ç¤ºç›¸åº”è¡Œçš„çš‡åçš„åˆ—çš„ä½ç½®ä¿¡æ¯ã€‚ æ¯”å¦‚ state[0] == 3 å°±æ˜¯ç¬¬ä¸€è¡Œçš„çš‡ååœ¨ç¬¬4åˆ—ã€‚ å¯»æ‰¾å†²çª å®šä¹‰ä¸€ä¸ª conflict å‡½æ•°ï¼Œä¼ å…¥å·²çŸ¥çš„çš‡åä½ç½®ï¼Œåˆ¤æ–­ä¸‹ä¸€ä¸ªçš‡åå¯èƒ½çš„ä½ç½®æ˜¯å¦ä¸å®ƒä»¬æœ‰å†²çªã€‚ å†²çªæŒ‡çš„æ˜¯æ°´å¹³ä½ç½®(å³åˆ—æ•°)ç›¸åŒï¼Œæˆ–è€…å¯¹è§’çº¿ä½ç½®ç›¸åŒ(å³è¡Œæ•°ä¹‹å·®==åˆ—æ•°ä¹‹å·®)ã€‚ åŸºæœ¬æƒ…å†µï¼šæœ€åä¸€ä¸ªçš‡åè¯¥æ€ä¹ˆåšï¼Ÿ å·²çŸ¥å…¶ä»–è¡Œçš‡åçš„ä½ç½®(ç›¸äº’é—´æ²¡æœ‰å†²çª)ï¼Œéå†è¿™ä¸€è¡Œçš„æ¯ä¸€åˆ—ï¼Œè¿”å›æ²¡æœ‰å†²çªå‘ç”Ÿçš„ä½ç½®ã€‚ éœ€è¦é€’å½’çš„æƒ…å†µ åŒæ ·å·²çŸ¥åº•å±‚çš„æ‰€æœ‰è¡Œçš‡åä½ç½®(ç›¸äº’é—´æ²¡æœ‰å†²çª)ï¼Œåˆ¤æ–­å½“å‰è¡Œçš„è¿™ä¸€åˆ—æ²¡æœ‰å†²çªï¼Œåˆ™åŠ å…¥åŒ…å«ä½ç½®ä¿¡æ¯çš„å…ƒç»„ä¸­ï¼Œé€’å½’ä¼ åˆ°ä¸‹ä¸€å±‚ï¼Œä¸‹ä¸€å±‚è¿”å›å®ƒçš„æ‰€æœ‰æ­£ç¡®ä½ç½®ï¼ŒåŠ å…¥åˆ°å½“å‰å±‚çš„ä½ç½®ä¿¡æ¯ä¸­ã€‚ æ‰“åŒ… æ¸…ç†è¾“å‡ºã€‚å°†è¾“å‡ºå¤„ç†å¾—æ›´å®¹æ˜“ç†è§£ä¸€ç‚¹ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041def conflict(state, nextX): #nextXæ˜¯å½“å‰åˆ—æ•° nextY = len(state) # å½“å‰è¡Œæ•° for i in range(nextY):# éå†ä¹‹å‰æ‰€æœ‰è¡Œ if abs(state[i]-nextX) in (0, nextY-i): return True # åŒä¸€åˆ—æˆ–åŒä¸€å¯¹è§’çº¿ä¸Šï¼Œå°±å†²çª return False#ç”Ÿæˆå™¨def queens(num=8, state=()): for pos in range(num):#éå†æ‰€æœ‰åˆ— if not conflict(state,pos): #å¦‚æœè¿™ä¸€åˆ—ä¸å†²çª if len(state) == num-1:#åˆ°äº†æœ€åä¸€ä¸ªçš‡å yield (pos,) else:#é€’å½’ for result in queens(num,state+(pos,)):#åŠ ä¸Šå½“å‰å±‚çš„æ­£ç¡®åˆ—æ•°poså»ä¸‹ä¸€å±‚ #resultå°±æ˜¯é€’å½’çš„ä¸‹ä¸€å±‚è¿”å›æ¥çš„ä¸€ä¸ªåˆ—ç»“æœ yield (pos,) + result # å½“å‰å±‚åº”è¯¥è¿”å›çš„ç»“æœ# ç”Ÿæˆå™¨ç»™å‡ºæ‰€æœ‰è§£å†³æ–¹æ¡ˆprint(list(queens(3))) # []print(list(queens(4))) # [(1, 3, 0, 2), (2, 0, 3, 1)]# 8ä¸ªçš‡åæœ‰å¤šå°‘ç§è§£å†³æ–¹æ¡ˆï¼šprint(len(list(queens(8)))) # 92# æ‰“åŒ…ï¼šæ›´å½¢è±¡å¾—éšæœºè¾“å‡ºè§£å†³æ–¹æ¡ˆdef prettyprint(solution): def line(pos,length=len(solution)): # å¯¹äºæ¯ä¸€è¡Œpos return '. '*pos + 'X ' + '. '*(length-pos-1) for pos in solution:# å¯¹äºæ¯ä¸€è¡Œpos print(line(pos)) import randomprettyprint(random.choice(list(queens(8))))#è¾“å‡ºï¼š#. . . . . . X . #X . . . . . . . #. . X . . . . . #. . . . . . . X #. . . . . X . . #. . . X . . . . #. X . . . . . . #. . . . X . . . Leetcode 78. å­é›† ç»™å®šä¸€ç»„ä¸å«é‡å¤å…ƒç´ çš„æ•´æ•°æ•°ç»„ numsï¼Œè¿”å›è¯¥æ•°ç»„æ‰€æœ‰å¯èƒ½çš„å­é›†ï¼ˆå¹‚é›†ï¼‰ã€‚ è¯´æ˜ï¼šè§£é›†ä¸èƒ½åŒ…å«é‡å¤çš„å­é›†ã€‚ ç¤ºä¾‹: 123456789101112è¾“å…¥: nums = [1,2,3]è¾“å‡º:[ [3], [1], [2], [1,2,3], [1,3], [2,3], [1,2], []] æ–¹æ³•ï¼šå›æº¯ï¼Œé€’å½’ï¼Œdfs æ·±åº¦ä¼˜å…ˆç®—æ³•å›æº¯ï¼šä»¥ã€1,2,3ã€‘ä¸ºä¾‹ æ¯è½®éƒ½ä¼ é€’ä¸€ä¸ªæ•°ç»„èµ·å§‹æŒ‡é’ˆçš„å€¼ï¼Œä¿è¯éå†é¡ºåºï¼š ç¬¬ä¸€è½®ï¼šå…ˆéå†ä»¥1 å¼€å¤´çš„æ‰€æœ‰å­é›†ï¼Œ1â†’12â†’123 â†’13 ç¬¬äºŒè½®ï¼šéå†ä»¥2å¼€å¤´çš„æ‰€æœ‰å­é›†ï¼Œ2â†’23 ç¬¬ä¸‰è½®:éå†ä»¥3å¼€å¤´çš„æ‰€æœ‰å­é›†ï¼Œ3 è¿™æ ·ä¸‰è½®éå†ä¿è¯èƒ½æ‰¾åˆ°å…¨éƒ¨1å¼€å¤´ï¼Œ2å¼€å¤´ï¼Œ3å¼€å¤´çš„æ‰€æœ‰å­é›†ï¼›åŒæ—¶ï¼Œæ¯è½®éå†ååˆæŠŠä¸Šè½®çš„å¤´å…ƒç´ å»æ‰ï¼Œè¿™æ ·ä¸ä¼šå‡ºç°é‡å¤å­é›†ã€‚ï¼ˆåŒ…æ‹¬ç©ºé›†ï¼‰ 1234567891011class Solution: def subsets(self, nums: List[int]) -&gt; List[List[int]]: res = [] nums.sort() def dfs(nums, index, path, res): res.append(path) for i in range(index, len(nums)): dfs(nums, i+1, path+[nums[i]], res) dfs(nums, 0, [],res) return res æ–¹æ³•ï¼šç»„åˆï¼Œéé€’å½’ â‘  æœ€å¤–å±‚å¾ªç¯é€ä¸€ä» nums æ•°ç»„ä¸­å–å‡ºæ¯ä¸ªå…ƒç´  num â‘¡ å†…å±‚å¾ªç¯ä»åŸæ¥çš„ç»“æœé›†ä¸­å–å‡ºæ¯ä¸ªä¸­é—´ç»“æœé›†ï¼Œå¹¶å‘æ¯ä¸ªä¸­é—´ç»“æœé›†ä¸­æ·»åŠ è¯¥ num å…ƒç´  â‘¢å¾€æ¯ä¸ªä¸­é—´ç»“æœé›†ä¸­åŠ å…¥ num â‘£å°†æ–°çš„ä¸­é—´ç»“æœé›†åŠ å…¥ç»“æœé›†ä¸­ 123456789class Solution: def subsets(self, nums: List[int]) -&gt; List[List[int]]: res = [[]] for num in nums: for temp in res[:]: x = temp[:] x.append(num) res.append(x) return res ç›¸æ¯”å‰ä¸€ç§æ–¹æ³•ï¼Œè¿™ä¸ªæ›´å¿« Leetcode 17. ç”µè¯å·ç çš„å­—æ¯ç»„åˆ ç»™å®šä¸€ä¸ªä»…åŒ…å«æ•°å­— 2-9 çš„å­—ç¬¦ä¸²ï¼Œè¿”å›æ‰€æœ‰å®ƒèƒ½è¡¨ç¤ºçš„å­—æ¯ç»„åˆã€‚ ç»™å‡ºæ•°å­—åˆ°å­—æ¯çš„æ˜ å°„å¦‚ä¸‹ï¼ˆä¸ç”µè¯æŒ‰é”®ç›¸åŒï¼‰ã€‚æ³¨æ„ 1 ä¸å¯¹åº”ä»»ä½•å­—æ¯ã€‚ ç¤ºä¾‹: 12è¾“å…¥ï¼š&quot;23&quot;è¾“å‡ºï¼š[&quot;ad&quot;, &quot;ae&quot;, &quot;af&quot;, &quot;bd&quot;, &quot;be&quot;, &quot;bf&quot;, &quot;cd&quot;, &quot;ce&quot;, &quot;cf&quot;]. æ–¹æ³•ï¼šdfsç©·ä¸¾ 12345678910111213141516171819202122232425class Solution: def letterCombinations(self, digits: str) -&gt; List[str]: dict = &#123;'2':['a','b','c'], '3':['d','e','f'], '4':['g','h','i'], '5':['j','k','l'], '6':['m','n','o'], '7':['p','q','r','s'], '8':['t','u','v'], '9':['w','x','y','z'] &#125; res = [] length = len(digits) def dfs(index, path, res): if index == length: res.append(path) return for letter in dict[digits[index]]: dfs(index+1, path+letter, res) if length == 0: return [] dfs(0, '', res) return res 79. å•è¯æœç´¢ ç»™å®šä¸€ä¸ªäºŒç»´ç½‘æ ¼å’Œä¸€ä¸ªå•è¯ï¼Œæ‰¾å‡ºè¯¥å•è¯æ˜¯å¦å­˜åœ¨äºç½‘æ ¼ä¸­ã€‚ å•è¯å¿…é¡»æŒ‰ç…§å­—æ¯é¡ºåºï¼Œé€šè¿‡ç›¸é‚»çš„å•å…ƒæ ¼å†…çš„å­—æ¯æ„æˆï¼Œå…¶ä¸­â€œç›¸é‚»â€å•å…ƒæ ¼æ˜¯é‚£äº›æ°´å¹³ç›¸é‚»æˆ–å‚ç›´ç›¸é‚»çš„å•å…ƒæ ¼ã€‚åŒä¸€ä¸ªå•å…ƒæ ¼å†…çš„å­—æ¯ä¸å…è®¸è¢«é‡å¤ä½¿ç”¨ã€‚ ç¤ºä¾‹: 12345678910board =[ [&apos;A&apos;,&apos;B&apos;,&apos;C&apos;,&apos;E&apos;], [&apos;S&apos;,&apos;F&apos;,&apos;C&apos;,&apos;S&apos;], [&apos;A&apos;,&apos;D&apos;,&apos;E&apos;,&apos;E&apos;]]ç»™å®š word = &quot;ABCCED&quot;, è¿”å› true.ç»™å®š word = &quot;SEE&quot;, è¿”å› true.ç»™å®š word = &quot;ABCB&quot;, è¿”å› false. æ–¹æ³•ï¼šå›æº¯ è¿™ä¸ªé¢˜çš„å›æº¯çš„èµ·ç‚¹å¯ä»¥æ˜¯äºŒç»´æ•°ç»„çš„ä»»æ„ä½ç½®ã€‚ å›æº¯æ³•çš„åˆ¤å®šæ¡ä»¶æ¯”è¾ƒç®€å•ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯æŠŠå·²ç»èµ°è¿‡çš„è·¯ç»™æ”¹å˜äº†ï¼Œä¸èƒ½å†èµ°äº†ã€‚pythonä¸­é€šè¿‡swapcase()äº¤æ¢è¯¥å­—æ¯çš„å¤§å°å†™å³å¯è¡Œã€‚ 123456789101112131415161718192021222324class Solution: def exist(self, board: List[List[str]], word: str) -&gt; bool: for x in range(len(board)): for y in range(len(board[0])): if self.existword(board, word, x, y, 0): return True return False def existword(self, board, word, x, y, i): if i==len(word): #ä»ç¬¬0ä¸ªå¼€å§‹ï¼Œwordçš„æ¯ä¸ªå­—æ¯éƒ½éå†åˆ°äº† return True if x&lt;0 or x&gt;=len(board) or y&lt;0 or y&gt;=len(board[0]): return False if board[x][y] != word[i]: return False #è¯¥å­—æ¯å­˜åœ¨åï¼Œå˜å°å†™ï¼Œé€’å½’ä¸Šä¸‹å·¦å³ board[x][y] = board[x][y].swapcase() isexist = (self.existword(board, word, x+1, y, i+1) or self.existword(board, word, x, y+1, i+1) or self.existword(board, word, x-1, y, i+1) or self.existword(board, word, x, y-1, i+1)) board[x][y] = board[x][y].swapcase() #å˜æ¢å›æ¥å¤§å†™ return isexist å‚è€ƒ leetcode 78. Subsets-æ•°ç»„å­é›†|å›æº¯ç®—æ³•]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>LeetCode</tag>
        <tag>æ•°æ®ç»“æ„</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[python é­”æ³•æ–¹æ³•]]></title>
    <url>%2F2019%2F03%2F14%2Fpython-magic%2F</url>
    <content type="text"><![CDATA[Python ä¸­æœ‰çš„æ–¹æ³•çš„åç§°å‰åéƒ½æœ‰ä¸¤ä¸ªä¸‹åˆ’çº¿ï¼Œè¿™äº›æ–¹æ³•è¢«ç§°ä¸ºé­”æ³•æ–¹æ³•ã€‚å¦‚æœå¯¹è±¡å®ç°äº†è¿™äº›æ–¹æ³•ä¸­çš„æŸä¸€ä¸ªï¼Œé‚£ä¹ˆè¿™ä¸ªæ–¹æ³•å°±ä¼šåœ¨ç‰¹æ®Šçš„æƒ…å†µä¸‹è¢« Python æ‰€è°ƒç”¨ï¼Œè€Œè¿™ä¸€åˆ‡éƒ½æ˜¯è‡ªåŠ¨å‘ç”Ÿçš„ã€‚ è¿™é‡Œæ€»ç»“ä¸€äº›é‡è¦çš„é­”æ³•æ–¹æ³•ï¼š - æ„é€ æ–¹æ³• __init__ , __new__ æ„é€ æ–¹æ³• __init__ åœ¨å®šä¹‰ç±»çš„æ—¶å€™ï¼Œä¼šå»å®šä¹‰æ„é€ æ–¹æ³•ã€‚å½“ä¸€ä¸ªå¯¹è±¡è¢«åˆ›é€ åï¼Œä¼šç«‹å³è°ƒç”¨æ„é€ æ–¹æ³•ï¼Œå®šä¹‰è¿™ä¸ªå¯¹è±¡çš„åˆå§‹å€¼ã€‚ 12345678class FooBar: def __init__(self,s=8): self.var = 40 self.some = sf = FooBar(9)print(f.var) # 40print(f.some) # 9 å¯ä»¥ç»™æ„é€ å‡½æ•°ä¼ å‡ ä¸ªå‚æ•°ã€‚ __new__ è¿™ä¸ªæ–¹æ³•æˆ‘ä»¬ä¸€èˆ¬å¾ˆå°‘å®šä¹‰ï¼Œä¸è¿‡æˆ‘ä»¬åœ¨ä¸€äº›å¼€æºæ¡†æ¶ä¸­å¶å°”ä¼šé‡åˆ°å®šä¹‰è¿™ä¸ªæ–¹æ³•çš„ç±»ã€‚å®é™…ä¸Šï¼Œè¿™æ‰æ˜¯â€œçœŸæ­£çš„æ„é€ æ–¹æ³•â€ï¼Œå®ƒä¼šåœ¨å¯¹è±¡å®ä¾‹åŒ–æ—¶ç¬¬ä¸€ä¸ªè¢«è°ƒç”¨ï¼Œç„¶åå†è°ƒç”¨__init__ï¼Œå®ƒä»¬çš„åŒºåˆ«ä¸»è¦å¦‚ä¸‹ï¼š __new__çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯clsxzï¼Œè€Œ__init__çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯self __new__è¿”å›å€¼æ˜¯ä¸€ä¸ªå®ä¾‹ï¼Œè€Œ__init__æ²¡æœ‰ä»»ä½•è¿”å›å€¼ï¼Œåªåšåˆå§‹åŒ–æ“ä½œ __new__ç”±äºæ˜¯è¿”å›ä¸€ä¸ªå®ä¾‹å¯¹è±¡ï¼Œæ‰€ä»¥å®ƒå¯ä»¥ç»™æ‰€æœ‰å®ä¾‹è¿›è¡Œç»Ÿä¸€çš„åˆå§‹åŒ–æ“ä½œ ç”±äº __new__ ä¼˜å…ˆäº __init__ è°ƒç”¨ï¼Œä¸”è¿”å›ä¸€ä¸ªå®ä¾‹ã€‚ çœ‹ä¸‹é¢ä¾‹å­ï¼š 123456789101112131415class Person(object): def __new__(cls, *args, **kwargs): print("in __new__") instance = object.__new__(cls) return instance def __init__(self, name, age): print("in __init__") self._name = name self._age = agep = Person("Wang", 33)#è¾“å‡ºï¼š#in __new__#in __init__ å¯ä»¥æ¯æ¬¡è¿”å›åŒä¸€ä¸ªå®ä¾‹æ¥å®ç°ä¸€ä¸ªå•ä¾‹ç±»ï¼š 123456789101112131415class Singleton(object): _instance = None def __new__(cls, *args, **kwargs): if cls._instance is None: cls._instance = object.__new__(cls, *args, **kwargs) return cls._instances1 = Singleton()s2 = Singleton()print(s1)print(s2) #è¾“å‡ºï¼š# &lt;__main__.Singleton object at 0x000001AEC9403400&gt;# &lt;__main__.Singleton object at 0x000001AEC9403400&gt; å¯ä»¥çœ‹åˆ°s1å’Œs2éƒ½æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ï¼Œå®ç°äº†å•ä¾‹æ¨¡å¼ã€‚ å†æ¥çœ‹ä¸‹å·¥å‚æ¨¡å¼çš„å®ç° 12345678910111213141516171819202122232425262728293031323334353637383940class Fruit(object): def __init__(self): pass def print_color(self): passclass Apple(Fruit): def __init__(self): pass def print_color(self): print("apple is in red")class Orange(Fruit): def __init__(self): pass def print_color(self): print("orange is in orange")class FruitFactory(object): fruits = &#123;"apple": Apple, "orange": Orange&#125; def __new__(cls, name): if name in cls.fruits.keys(): return cls.fruits[name]() else: return Fruit()fruit1 = FruitFactory("apple")fruit2 = FruitFactory("orange")fruit1.print_color() fruit2.print_color() fruit3 = FruitFactory("banana")print(fruit2)print(fruit3)# è¾“å‡ºï¼š# apple is in red# orange is in orange# &lt;__main__.Orange object at 0x000001AEC940F2E8&gt;# &lt;__main__.Fruit object at 0x000001AEC94277F0&gt; å¦å¤–ä¸€ç§ä½¿ç”¨åœºæ™¯æ˜¯å½“ä½ éœ€è¦ç»§æ‰¿å†…ç½®ç±»æ—¶ï¼Œä¾‹å¦‚intã€strã€tupleï¼Œåªèƒ½é€šè¿‡__new__æ¥è¾¾åˆ°åˆå§‹åŒ–æ•°æ®çš„æ•ˆæœï¼š 12345678class g(float): """åƒå…‹è½¬å…‹""" def __new__(cls, kg): return float.__new__(cls, kg * 2)# 50åƒå…‹è½¬ä¸ºå…‹a = g(50)print(a) # 100.0print(a + 100) # 200.0, ç”±äºç»§æ‰¿äº†floatï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥è¿ç®—ï¼Œéå¸¸æ–¹ä¾¿ï¼ __del__ è¿™æ˜¯ææ„æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯åœ¨å¯¹è±¡è¢«åƒåœ¾å›æ”¶ä¹‹å‰è¢«è°ƒç”¨ã€‚ è‡ªå®šä¹‰åºåˆ—å’Œæ˜ å°„ åºåˆ—å’Œæ˜ å°„æ˜¯å¯¹è±¡çš„é›†åˆã€‚ä¸ºäº†å®ç°å®ƒä»¬çš„åŸºæœ¬è¡Œä¸ºï¼Œå¦‚æœå¯¹è±¡æ˜¯ä¸å¯å˜çš„ï¼Œå°±éœ€è¦ä½¿ç”¨ __len__ å’Œ __getitem__ ä¸¤ä¸ªé­”æ³•æ–¹æ³•ï¼Œå¦‚æœæ˜¯å¯å˜çš„ï¼Œåˆ™è¿˜éœ€è¦ä½¿ç”¨ __setitem__ å’Œ __delitem__ ã€‚ __len__(self) è¿”å›å®¹å™¨çš„é•¿åº¦ï¼Œå¯å˜å’Œä¸å¯å˜ç±»å‹éƒ½éœ€è¦å®ç°ã€‚ __getitem__(self, key) å®šä¹‰å¯¹å®¹å™¨ä¸­æŸä¸€é¡¹ä½¿ç”¨ self[key] çš„æ–¹å¼è¿›è¡Œè¯»å–æ“ä½œæ—¶çš„è¡Œä¸ºã€‚è¿™ä¹Ÿæ˜¯å¯å˜å’Œä¸å¯å˜å®¹å™¨ç±»å‹éƒ½éœ€è¦å®ç°çš„ä¸€ä¸ªæ–¹æ³•ã€‚å®ƒåº”è¯¥åœ¨é”®çš„ç±»å‹é”™è¯¯å¼äº§ç”Ÿ TypeError å¼‚å¸¸ï¼ŒåŒæ—¶åœ¨æ²¡æœ‰ä¸é”®å€¼ç›¸åŒ¹é…çš„å†…å®¹æ—¶äº§ç”Ÿ KeyError å¼‚å¸¸ã€‚ __setitem__(self, key) å®šä¹‰å¯¹å®¹å™¨ä¸­æŸä¸€é¡¹ä½¿ç”¨ self[key] çš„æ–¹å¼è¿›è¡Œèµ‹å€¼æ“ä½œæ—¶çš„è¡Œä¸ºã€‚å®ƒæ˜¯å¯å˜å®¹å™¨ç±»å‹å¿…é¡»å®ç°çš„ä¸€ä¸ªæ–¹æ³•ï¼ŒåŒæ ·åº”è¯¥åœ¨åˆé€‚çš„æ—¶å€™äº§ç”Ÿ KeyError å’Œ TypeError å¼‚å¸¸ã€‚ __delitem__(self, key) è¿™ä¸ªæ–¹æ³•åœ¨å¯¹ä¸€éƒ¨åˆ†å¯¹è±¡ä½¿ç”¨ del è¯­å¥æ—¶è¢«è°ƒç”¨ï¼ŒåŒæ—¶å¿…é¡»åˆ é™¤å’Œé”®ç›¸å…³çš„é”®ã€‚ è®¿é—®æ§åˆ¶ __str__ å½“è¢« str() è°ƒç”¨æ—¶ä¼šæ‰§è¡Œ__str__ã€‚æ­¤æ–¹æ³•ç±»ä¼¼JAVAä¸­çš„toStringæ–¹æ³•ã€‚ 1234567891011121314151617class A: def __init__(self,name): self.name = nameclass B: def __init__(self,name): self.name = name def __str__(self):#é‡å†™__str__æ–¹æ³• return self.namea = A("Tom")print(a)b = B("Jake")print(b)#è¾“å‡ºï¼š#&lt;__main__.A object at 0x000001AEC9447198&gt;#Jake è¿­ä»£å™¨ __iter__ è¯¥æ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªè¿­ä»£å™¨ã€‚ è¿­ä»£å™¨æ˜¯å…·æœ‰nextæ–¹æ³•çš„å¯¹è±¡ã€‚åœ¨è°ƒç”¨nextæ–¹æ³•æ—¶ï¼Œä¼šè¿”å›è¿­ä»£å™¨çš„ä¸‹ä¸€ä¸ªå€¼ã€‚ é™¤äº†åœ¨è¿­ä»£å™¨å’Œå¯è¿­ä»£å¯¹è±¡ä¸Šè¿›è¡Œè¿­ä»£å¤–ï¼Œè¿˜èƒ½æŠŠä»–ä»¬è½¬æ¢ä¸ºåºåˆ—ã€‚ ä¸‹é¢çš„ä¾‹å­æ˜¯ç”¨listæ„é€ æ–¹æ³•æ˜¾ç¤ºåœ°å°†è¿­ä»£å™¨è½¬åŒ–ä¸ºåˆ—è¡¨ã€‚ 12 ç”Ÿæˆå™¨ å‚è€ƒ Pythoné¢è¯•ä¹‹ç†è§£__new__å’Œ__init__çš„åŒºåˆ«]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[pythonå®ç°æ•°æ®ç»“æ„ä¹‹å›¾]]></title>
    <url>%2F2019%2F03%2F10%2Fpython-algo-graph%2F</url>
    <content type="text"><![CDATA[å­¦ä¹ ç›®æ ‡ï¼š å®ç°æœ‰å‘å›¾ã€æ— å‘å›¾ã€æœ‰æƒå›¾ã€æ— æƒå›¾çš„é‚»æ¥çŸ©é˜µå’Œé‚»æ¥è¡¨è¡¨ç¤ºæ–¹æ³• å®ç°å›¾çš„æ·±åº¦ä¼˜å…ˆæœç´¢ã€å¹¿åº¦ä¼˜å…ˆæœç´¢ã€A* ç®—æ³• leetCode36.æœ‰æ•ˆçš„æ•°ç‹¬ leetCode200.å²›å±¿çš„æ•°é‡ å®ç°ä¸€ä¸ªé‚»æ¥è¡¨è¡¨ç¤ºçš„æœ‰å‘å¸¦æƒå›¾ æ¯ä¸ªé¡¶ç‚¹çš„æ‰€æœ‰é‚»æ¥ç‚¹å’Œå¯¹åº”çš„è¾¹çš„æƒé‡ç”¨å­—å…¸è¡¨ç¤ºã€‚ å¯¹äºæ— æƒå›¾ï¼Œå¯ä»¥åªå°†é¡¶ç‚¹çš„æ‰€æœ‰é‚»æ¥ç‚¹æ”¾å…¥ list ä¸­å³å¯ã€‚ å›¾çš„æ‰€æœ‰é¡¶ç‚¹åç§°åŠå¯¹åº”çš„é¡¶ç‚¹å¯¹è±¡ç”¨å­—å…¸è¡¨ç¤ºã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364class Vertex:#é¡¶ç‚¹ def __init__(self,key): self.id = key self.connectedTo = &#123;&#125; #é‚»æ¥ç‚¹ï¼ŒåŠç›¸åº”çš„æƒé‡ def addNeighbor(self, nbr, weight=0): self.connectedTo[nbr] = weight def __str__(self): return str(self.id) + ' connectedTo: '+str([x.id for x in self.connectedTo]) def getConnections(self): #å¤šæœ‰é‚»æ¥ç‚¹ return self.connectedTo.keys() def getId(self): return self.id def getWeight(self,nbr): return self.connectedTo[nbr] class Graph: # é‚»æ¥è¡¨è¡¨ç¤ºçš„æœ‰å‘å¸¦æƒå›¾ def __init__(self): self.vertList = &#123;&#125; # æ‰€æœ‰é¡¶ç‚¹ self.numVertices = 0 def addVertex(self, key): #æ·»åŠ é¡¶ç‚¹ self.numVertices += 1 newVertex = Vertex(key) self.vertList[key] = newVertex return newVertex def getVertex(self, n): if n in self.vertList: return self.vertList[n] else: return None def __contains__(self,n): return n in self.vertList def addEdge(self,f,t,cost=0): #æ·»åŠ è¾¹ if f not in self.vertList: self.addVertex(f) if t not in self.vertList: self.addVertex(t) self.vertList[f].addNeighbor(self.vertList[t], cost) def getVertices(self): return self.vertList.keys() def __iter__(self): return iter(self.vertList.values()) g = Graph()for i in range(6): g.addVertex(i)print(g.getVertex(3))print(g.vertList)print(3 in g)g.addEdge(0,1,5)g.addEdge(0,5,2)g.addEdge(1,2,4)g.addEdge(2,3,9)g.addEdge(3,4,7)g.addEdge(3,5,3)g.addEdge(4,0,1)g.addEdge(5,4,8)g.addEdge(5,2,1)print(g.getVertices())for v in g: for w in v.getConnections(): print('(%s,%s)'%(v.getId(), w.getId())) è¾“å‡ºï¼š 123456789101112133 connectedTo: []&#123;0: &lt;__main__.Vertex object at 0x000001AEC9423B70&gt;, 1: &lt;__main__.Vertex object at 0x000001AEC903F748&gt;, 2: &lt;__main__.Vertex object at 0x000001AEC85F8CC0&gt;, 3: &lt;__main__.Vertex object at 0x000001AEC9415FD0&gt;, 4: &lt;__main__.Vertex object at 0x000001AEC9415EF0&gt;, 5: &lt;__main__.Vertex object at 0x000001AEC9415B70&gt;&#125;Truedict_keys([0, 1, 2, 3, 4, 5])(0,1)(0,5)(1,2)(2,3)(3,4)(3,5)(4,0)(5,4)(5,2) å›¾çš„éå† éå†å›¾æœ€å¸¸ç”¨çš„æœ‰ä¸¤ç§æ–¹å¼ï¼Œå°±æ˜¯ä½ å¸¸å¬åˆ°çš„ BFS å’Œ DFS. BFS: Breadth First Searchï¼Œå¹¿åº¦ä¼˜å…ˆæœç´¢ DFS: Depdth First Searchï¼Œæ·±åº¦ä¼˜å…ˆæœç´¢ BFS BFS ç±»ä¼¼äºæ ‘çš„å±‚åºéå†ï¼Œä»ç¬¬ä¸€ä¸ªèŠ‚ç‚¹å¼€å§‹ï¼Œå…ˆè®¿é—®ç¦» A æœ€è¿‘çš„ç‚¹ï¼Œæ¥ç€è®¿é—®æ¬¡è¿‘çš„ç‚¹ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142from collections import dequeGRAPH = &#123; # é‚»æ¥è¡¨è¡¨ç¤ºçš„æ— å‘æ— æƒå›¾ 'A': ['B', 'F'], 'B': ['C', 'I', 'G'], 'C': ['B', 'I', 'D'], 'D': ['C', 'I', 'G', 'H', 'E'], 'E': ['D', 'H', 'F'], 'F': ['A', 'G', 'E'], 'G': ['B', 'F', 'H', 'D'], 'H': ['G', 'D', 'E'], 'I': ['B', 'C', 'D'],&#125;class Queue(object): # é˜Ÿåˆ—è¾…åŠ© def __init__(self): self._deque = deque() def push(self, value): return self._deque.append(value) def pop(self): return self._deque.popleft() def __len__(self): return len(self._deque)def bfs(graph, start): search_queue = Queue() search_queue.push(start)# èµ·ç‚¹å…ˆå…¥é˜Ÿ searched = set() # å·²ç»è®¿é—®è¿‡çš„ç»“ç‚¹ while search_queue: # é˜Ÿåˆ—ä¸ä¸ºç©ºå°±ç»§ç»­ cur_node = search_queue.pop() # å‡ºé˜Ÿ if cur_node not in searched: # è‹¥æ˜¯æœªè®¿é—®çš„ç»“ç‚¹ yield cur_node # è¯»å‡º searched.add(cur_node) # æ·»åŠ åˆ°è®°å½•ä¸­ for node in graph[cur_node]: # æ‰€æœ‰é‚»æ¥ç‚¹ search_queue.push(node)# èµ·ç‚¹çš„æ‰€æœ‰é‚»æ¥ç‚¹å…¥é˜Ÿprint([i for i in bfs(GRAPH, 'A')]) è¾“å‡º 1[&apos;A&apos;, &apos;B&apos;, &apos;F&apos;, &apos;C&apos;, &apos;I&apos;, &apos;G&apos;, &apos;E&apos;, &apos;D&apos;, &apos;H&apos;] DFS æ·±åº¦ä¼˜å…ˆæœç´¢(DFS)æ˜¯æ¯é‡åˆ°ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¦‚æœæ²¡æœ‰è¢«è®¿é—®è¿‡ï¼Œå°±ç›´æ¥å»è®¿é—®å®ƒçš„é‚»å±…èŠ‚ç‚¹ï¼Œä¸æ–­åŠ æ·±ã€‚ 12345678910111213141516171819202122232425GRAPH = &#123; #é‚»æ¥è¡¨è¡¨ç¤ºçš„æ— å‘æ— æƒå›¾ 'A': ['B', 'F'], 'B': ['C', 'I', 'G'], 'C': ['B', 'I', 'D'], 'D': ['C', 'I', 'G', 'H', 'E'], 'E': ['D', 'H', 'F'], 'F': ['A', 'G', 'E'], 'G': ['B', 'F', 'H', 'D'], 'H': ['G', 'D', 'E'], 'I': ['B', 'C', 'D'],&#125;DFS_SEARCHED = set()def dfs(graph, start): if start not in DFS_SEARCHED: # è‹¥æ˜¯æœªè®¿é—®çš„ç»“ç‚¹ print(start) DFS_SEARCHED.add(start) for node in graph[start]: # æ‰€æœ‰é‚»æ¥ç‚¹ if node not in DFS_SEARCHED:# ä¸€æ—¦æ˜¯æœªè®¿é—®çš„ç»“ç‚¹ dfs(graph, node) # é€’å½’dfs(GRAPH, 'A') # A B C I D G F E H 36.æœ‰æ•ˆçš„æ•°ç‹¬ Valid Sudoku åˆ¤æ–­ä¸€ä¸ª 9x9 çš„æ•°ç‹¬æ˜¯å¦æœ‰æ•ˆã€‚åªéœ€è¦æ ¹æ®ä»¥ä¸‹è§„åˆ™ï¼ŒéªŒè¯å·²ç»å¡«å…¥çš„æ•°å­—æ˜¯å¦æœ‰æ•ˆå³å¯ã€‚ æ•°å­— 1-9 åœ¨æ¯ä¸€è¡Œåªèƒ½å‡ºç°ä¸€æ¬¡ã€‚ æ•°å­— 1-9 åœ¨æ¯ä¸€åˆ—åªèƒ½å‡ºç°ä¸€æ¬¡ã€‚ æ•°å­— 1-9 åœ¨æ¯ä¸€ä¸ªä»¥ç²—å®çº¿åˆ†éš”çš„ 3x3 å®«å†…åªèƒ½å‡ºç°ä¸€æ¬¡ã€‚ æ–¹æ³• å¦‚æœåªåˆ¤æ–­æœ‰æ•ˆçš„è¯ï¼Œå®ç°ä¸‰ä¸ªå‡½æ•°åˆ†åˆ«å¯¹åº”ä¸‰ä¸ªæ¡ä»¶å³å¯ï¼šåˆ¤æ–­è¡Œï¼Œåˆ¤æ–­åˆ—ï¼Œåˆ¤æ–­9å®«æ ¼ã€‚ æŠŠè¦åˆ¤æ–­çš„è¿™äº›ä½ç½®çš„æ•°å­—å–å‡ºæ¥ï¼Œç„¶åç”¨setåçš„é•¿åº¦æ˜¯å¦ç­‰äºåŸé•¿åº¦å°±èƒ½çŸ¥é“æ˜¯ä¸æ˜¯æœ‰é‡å¤æ•°å­—äº†ã€‚é¢˜ç›®ä¸­å·²ç»è¯´äº†ç»™å‡ºçš„æ•°å­—åªæœ‰1~9ï¼Œæ‰€ä»¥çœæ‰äº†å¾ˆå¤šäº‹ã€‚åˆ¤æ–­ä¹‹å‰éœ€è¦æŠŠâ€™.â€˜ç»™å»æ‰ï¼Œå› ä¸ºæ•°å­—åªå…è®¸å‡ºç°ä¸€æ¬¡ï¼Œè€Œâ€™.â€™å¯èƒ½å‡ºç°å¤šæ¬¡ã€‚ æ—¶é—´å¤æ‚åº¦æ˜¯O(N^2)ï¼Œç©ºé—´å¤æ‚åº¦æ˜¯O(N). 12345678910111213141516171819202122232425262728293031class Solution: def isValidSudoku(self, board: List[List[str]]) -&gt; bool: n = len(board) return self.isValidRow(n, board) and self.isValidCol(n, board) and self.isValidNineCell(n, board) def isValidRow(self, n, board): for r in range(n): row = [x for x in board[r] if x !='.'] if len(set(row)) != len(row): return False return True def isValidCol(self, n, board): for c in range(n): col = [board[r][c] for r in range(n) if board[r][c] != '.'] if len(set(col)) != len(col): return False return True def isValidNineCell(self, n, board): for r in range(0, n, 3): for c in range(0, n, 3): cell = [] for i in range(3): for j in range(3): num = board[r+i][c+j] if num != '.': cell.append(num) if len(set(cell)) != len(cell): return False return True 200.å²›å±¿çš„æ•°é‡ ç»™å®šä¸€ä¸ªç”± â€˜1â€™ï¼ˆé™†åœ°ï¼‰å’Œ â€˜0â€™ï¼ˆæ°´ï¼‰ç»„æˆçš„çš„äºŒç»´ç½‘æ ¼ï¼Œè®¡ç®—å²›å±¿çš„æ•°é‡ã€‚ä¸€ä¸ªå²›è¢«æ°´åŒ…å›´ï¼Œå¹¶ä¸”å®ƒæ˜¯é€šè¿‡æ°´å¹³æ–¹å‘æˆ–å‚ç›´æ–¹å‘ä¸Šç›¸é‚»çš„é™†åœ°è¿æ¥è€Œæˆçš„ã€‚ä½ å¯ä»¥å‡è®¾ç½‘æ ¼çš„å››ä¸ªè¾¹å‡è¢«æ°´åŒ…å›´ã€‚ ç¤ºä¾‹ 1: 1234567è¾“å…¥:11110110101100000000è¾“å‡º: 1 æ–¹æ³•:DFS 123456789101112131415161718class Solution: def numIslands(self, grid: List[List[str]]) -&gt; int: res = 0 for r in range(len(grid)): for c in range(len(grid[0])): if grid[r][c] == '1': self.dfs(grid, r, c) res += 1 return res def dfs(self, grid, i, j): dirs = [[-1,0], [0,1], [0,-1], [1,0]] grid[i][j] = '0' for dir in dirs: nr, nc = i+dir[0], j+dir[1] if nr&gt;=0 and nc&gt;=0 and nr&lt;len(grid) and nc&lt;len(grid[0]): if grid[nr][nc]=='1': self.dfs(grid, nr, nc) å‚è€ƒ ã€ŠProblem Solving with Algorithms and Data Structures using Pythonã€‹ 18_å›¾ä¸å›¾çš„éå† æ•°æ®ç»“æ„ä¹‹å›¾]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>LeetCode</tag>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>å›¾</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[pythonå®ç°æ•°æ®ç»“æ„ä¹‹å †]]></title>
    <url>%2F2019%2F03%2F10%2Fpython-algo-heap%2F</url>
    <content type="text"><![CDATA[å †æ˜¯ä¸€ç§å›¾çš„æ ‘å½¢ç»“æ„ï¼Œè¢«ç”¨äºå®ç°â€œä¼˜å…ˆé˜Ÿåˆ—â€ï¼ˆpriority queuesï¼‰ã€‚ä¼˜å…ˆé˜Ÿåˆ—æ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œå¯ä»¥è‡ªç”±æ·»åŠ æ•°æ®ï¼Œä½†å–å‡ºæ•°æ®æ—¶è¦ä»æœ€å°å€¼å¼€å§‹æŒ‰é¡ºåºå–å‡ºã€‚åœ¨å †çš„æ ‘å½¢ç»“æ„ä¸­ï¼Œå„ä¸ªé¡¶ç‚¹è¢«ç§°ä¸ºâ€œç»“ç‚¹â€ï¼ˆnodeï¼‰ï¼Œæ•°æ®å°±å­˜å‚¨åœ¨è¿™äº›ç»“ç‚¹ä¸­ã€‚ å­¦ä¹ ç›®æ ‡ï¼š å®ç°ä¸€ä¸ªå°é¡¶å †ã€å¤§é¡¶å †ã€ä¼˜å…ˆçº§é˜Ÿåˆ— å®ç°å †æ’åº åˆ©ç”¨ä¼˜å…ˆçº§é˜Ÿåˆ—åˆå¹¶ K ä¸ªæœ‰åºæ•°ç»„ æ±‚ä¸€ç»„åŠ¨æ€æ•°æ®é›†åˆçš„æœ€å¤§ Top K ï¼ˆé€‰åšï¼‰ç¬¬ä¸‰å¤©å †æ’åºå­¦ä¹ ï¼ˆå¤ä¹ ï¼‰ å †ä¸­çš„æ¯ä¸ªç»“ç‚¹æœ€å¤šæœ‰ä¸¤ä¸ªå­ç»“ç‚¹ã€‚ æ ‘çš„å½¢çŠ¶å–å†³äºæ•°æ®çš„ä¸ªæ•°ã€‚å¦å¤–ï¼Œç»“ç‚¹çš„æ’åˆ—é¡ºåºä¸ºä»ä¸Šåˆ°ä¸‹ï¼ŒåŒä¸€è¡Œé‡Œåˆ™ä¸ºä»å·¦åˆ°å³ã€‚ åœ¨å †ä¸­å­˜å‚¨æ•°æ®æ—¶å¿…é¡»éµå®ˆè¿™æ ·ä¸€æ¡è§„åˆ™ ï¼šå­ç»“ç‚¹å¿…å®šå¤§äºçˆ¶ç»“ç‚¹ã€‚ å› æ­¤ï¼Œæœ€å°å€¼è¢«å­˜å‚¨åœ¨é¡¶ç«¯çš„æ ¹ç»“ç‚¹ä¸­ã€‚ æ·»åŠ æ•°æ®ï¼š å¾€å †ä¸­æ·»åŠ æ•°æ®æ—¶ï¼Œä¸ºäº†éµå®ˆè¿™æ¡è§„åˆ™ï¼Œä¸€èˆ¬ä¼šæŠŠæ–°æ•°æ®æ”¾åœ¨æœ€ä¸‹é¢ä¸€è¡Œé å·¦çš„ä½ç½®ã€‚å½“æœ€ä¸‹é¢ä¸€è¡Œé‡Œæ²¡æœ‰å¤šä½™ç©ºé—´æ—¶ï¼Œå°±å†å¾€ä¸‹å¦èµ·ä¸€è¡Œï¼ŒæŠŠæ•°æ®åŠ åœ¨è¿™ä¸€è¡Œçš„æœ€å·¦ç«¯ã€‚ åœ¨æ·»åŠ æ–°æ•°æ®åï¼Œå¦‚æœçˆ¶ç»“ç‚¹å¤§äºå­ç»“ç‚¹ï¼Œåˆ™ä¸ç¬¦åˆä¸Šæ–‡æåˆ°çš„è§„åˆ™ï¼Œå› æ­¤éœ€è¦äº¤æ¢çˆ¶å­ç»“ç‚¹çš„ä½ç½®ã€‚é‡å¤è¿™æ ·çš„æ“ä½œç›´åˆ°æ•°æ®éƒ½ç¬¦åˆè§„åˆ™ï¼Œä¸å†éœ€è¦äº¤æ¢ä¸ºæ­¢ã€‚ å–æ•°æ®ï¼š ä»å †ä¸­å–å‡ºæ•°æ®æ—¶ï¼Œå–å‡ºçš„æ˜¯æœ€ä¸Šé¢çš„æ•°æ®ã€‚è¿™æ ·ï¼Œå †ä¸­å°±èƒ½å§‹ç»ˆä¿æŒæœ€ä¸Šé¢çš„æ•°æ®æœ€å°ã€‚ ç”±äºæœ€ä¸Šé¢çš„æ•°æ®è¢«å–å‡ºï¼Œå› æ­¤å †çš„ç»“æ„ä¹Ÿéœ€è¦é‡æ–°è°ƒæ•´ã€‚æŒ‰ç…§ä»ä¸Šåˆ°ä¸‹ã€åŒä¸€è¡Œé‡Œä»å·¦åˆ°å³çš„æ’åˆ—é¡ºåºï¼Œå°†æœ€åçš„æ•°æ®ç§»åŠ¨åˆ°æœ€é¡¶ç«¯ã€‚ å¦‚æœå­ç»“ç‚¹çš„æ•°å­—å°äºçˆ¶ç»“ç‚¹çš„ï¼Œå°±å°†çˆ¶ç»“ç‚¹ä¸å…¶å·¦å³ä¸¤ä¸ªå­ç»“ç‚¹ä¸­è¾ƒå°çš„ä¸€ä¸ªè¿›è¡Œäº¤æ¢ã€‚é‡å¤è¿™ä¸ªæ“ä½œç›´åˆ°æ•°æ®éƒ½ç¬¦åˆè§„åˆ™ï¼Œä¸å†éœ€è¦äº¤æ¢ä¸ºæ­¢ã€‚]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>LeetCode</tag>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>å †</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[pythonè§£leetcodeäºŒå‰æ ‘(1)]]></title>
    <url>%2F2019%2F03%2F09%2Fpython_leetcode-binary-tree(1)%2F</url>
    <content type="text"><![CDATA[äºŒå‰æŸ¥æ‰¾æ ‘ï¼ˆè‹±è¯­ï¼šBinary Search Treeï¼‰ï¼Œä¹Ÿç§°ä¸ºäºŒå‰æœç´¢æ ‘ã€æœ‰åºäºŒå‰æ ‘ï¼ˆordered binary treeï¼‰æˆ–æ’åºäºŒå‰æ ‘ï¼ˆsorted binary treeï¼‰ã€‚ å­¦ä¹ ç›®æ ‡ï¼š å®ç°ä¸€ä¸ªäºŒå‰æŸ¥æ‰¾æ ‘ï¼Œå¹¶ä¸”æ”¯æŒæ’å…¥ã€åˆ é™¤ã€æŸ¥æ‰¾æ“ä½œ LeetCode 108. å°†æœ‰åºæ•°ç»„è½¬æ¢ä¸ºäºŒå‰æœç´¢æ ‘ LeetCode 109. æœ‰åºé“¾è¡¨è½¬æ¢äºŒå‰æœç´¢æ ‘ LeetCode 701. äºŒå‰æœç´¢æ ‘ä¸­çš„æ’å…¥æ“ä½œ LeetCode 700. äºŒå‰æœç´¢æ ‘ä¸­çš„æœç´¢ LeetCode 450. åˆ é™¤äºŒå‰æœç´¢æ ‘ä¸­çš„ç»“ç‚¹ å®ç°æŸ¥æ‰¾äºŒå‰æŸ¥æ‰¾æ ‘ä¸­æŸä¸ªç»“ç‚¹çš„åç»§ã€å‰é©±ç»“ç‚¹ å®ç°äºŒå‰æ ‘å‰ã€ä¸­ã€ååºä»¥åŠæŒ‰å±‚éå† LeetCode 144. äºŒå‰æ ‘çš„å‰åºéå† LeetCode 94. äºŒå‰æ ‘çš„ä¸­åºéå† LeetCode 145. äºŒå‰æ ‘çš„ååºéå† LeetCode 102. äºŒå‰æ ‘çš„å±‚æ¬¡éå† ä»å‰åºä¸ä¸­åºéå†åºåˆ—æ„é€ äºŒå‰æ ‘ éªŒè¯äºŒå‰æœç´¢æ ‘ äºŒå‰æ ‘çš„é”¯é½¿å½¢å±‚æ¬¡éå† äºŒå‰æ ‘å±•å¼€ä¸ºé“¾è¡¨ ç¿»è½¬äºŒå‰æ ‘ äºŒå‰æŸ¥æ‰¾æ ‘æ˜¯æŒ‡ï¼šä¸€æ£µç©ºæ ‘ï¼Œæˆ–è€…å…·æœ‰ä¸‹åˆ—æ€§è´¨çš„äºŒå‰æ ‘ï¼š è‹¥ä»»æ„èŠ‚ç‚¹çš„å·¦å­æ ‘ä¸ç©ºï¼Œåˆ™å·¦å­æ ‘ä¸Šæ‰€æœ‰èŠ‚ç‚¹çš„å€¼å‡å°äºå®ƒçš„æ ¹èŠ‚ç‚¹çš„å€¼ï¼› è‹¥ä»»æ„èŠ‚ç‚¹çš„å³å­æ ‘ä¸ç©ºï¼Œåˆ™å³å­æ ‘ä¸Šæ‰€æœ‰èŠ‚ç‚¹çš„å€¼å‡å¤§äºå®ƒçš„æ ¹èŠ‚ç‚¹çš„å€¼ï¼› ä»»æ„èŠ‚ç‚¹çš„å·¦ã€å³å­æ ‘ä¹Ÿåˆ†åˆ«ä¸ºäºŒå‰æŸ¥æ‰¾æ ‘ï¼› æ²¡æœ‰é”®å€¼ç›¸ç­‰çš„èŠ‚ç‚¹ã€‚ äºŒå‰æŸ¥æ‰¾æ ‘ç›¸æ¯”äºå…¶ä»–æ•°æ®ç»“æ„çš„ä¼˜åŠ¿åœ¨äºæŸ¥æ‰¾ã€æ’å…¥çš„æ—¶é—´å¤æ‚åº¦è¾ƒä½ï¼Œä¸º \(O(log n)\)ã€‚ æ¯æ¬¡æ’å…¥çš„æ–°çš„ç»“ç‚¹éƒ½æ˜¯äºŒå‰æŸ¥æ‰¾æ ‘ä¸Šæ–°çš„å¶å­ç»“ç‚¹ï¼Œåœ¨è¿›è¡Œæ’å…¥æ“ä½œæ—¶ï¼Œä¸å¿…ç§»åŠ¨å…¶å®ƒç»“ç‚¹ï¼Œåªéœ€æ”¹åŠ¨æŸä¸ªç»“ç‚¹çš„æŒ‡é’ˆï¼Œç”±ç©ºå˜ä¸ºéç©ºå³å¯ã€‚ å°†æœ‰åºæ•°ç»„è½¬æ¢ä¸ºäºŒå‰æœç´¢æ ‘ LeetCode 108. Convert Sorted Array to Binary Search Tree å°†ä¸€ä¸ªæŒ‰ç…§å‡åºæ’åˆ—çš„æœ‰åºæ•°ç»„ï¼Œè½¬æ¢ä¸ºä¸€æ£µé«˜åº¦å¹³è¡¡äºŒå‰æœç´¢æ ‘ã€‚ æœ¬é¢˜ä¸­ï¼Œä¸€ä¸ªé«˜åº¦å¹³è¡¡äºŒå‰æ ‘æ˜¯æŒ‡ä¸€ä¸ªäºŒå‰æ ‘æ¯ä¸ªèŠ‚ç‚¹ çš„å·¦å³ä¸¤ä¸ªå­æ ‘çš„é«˜åº¦å·®çš„ç»å¯¹å€¼ä¸è¶…è¿‡ 1ã€‚ ç¤ºä¾‹: 123456789ç»™å®šæœ‰åºæ•°ç»„: [-10,-3,0,5,9],ä¸€ä¸ªå¯èƒ½çš„ç­”æ¡ˆæ˜¯ï¼š[0,-3,9,-10,null,5]ï¼Œå®ƒå¯ä»¥è¡¨ç¤ºä¸‹é¢è¿™ä¸ªé«˜åº¦å¹³è¡¡äºŒå‰æœç´¢æ ‘ï¼š 0 / \ -3 9 / / -10 5 æ–¹æ³•ï¼šé€’å½’ ç”±äºè¦æ±‚äºŒå‰æŸ¥æ‰¾æ ‘æ˜¯å¹³è¡¡çš„ã€‚æ‰€ä»¥å¯ä»¥é€‰åœ¨æ•°ç»„çš„ä¸­é—´é‚£ä¸ªæ•°å½“æ ‘æ ¹rootã€‚ ç„¶åè¿™ä¸ªæ•°å·¦è¾¹çš„æ•°ç»„ä¸ºå·¦å­æ ‘ï¼Œå³è¾¹çš„æ•°ç»„ä¸ºå³å­æ ‘ï¼Œåˆ†åˆ«é€’å½’äº§ç”Ÿå·¦å³å­æ ‘å°±å¯ä»¥äº†ã€‚ 12345678910111213141516171819# Definition for a binary tree node.# class TreeNode:# def __init__(self, x):# self.val = x# self.left = None# self.right = Noneclass Solution: def sortedArrayToBST(self, nums: List[int]) -&gt; TreeNode: length = len(nums) if length == 0: return None if length == 1: return TreeNode(nums[0]) middle = (length-1)//2 root = TreeNode(nums[middle]) root.left = self.sortedArrayToBST(nums[:middle]) root.right = self.sortedArrayToBST(nums[middle+1:]) return root æœ‰åºé“¾è¡¨è½¬æ¢äºŒå‰æœç´¢æ ‘ LeetCode 109. Convert Sorted List to Binary Search Tree ç»™å®šä¸€ä¸ªå•é“¾è¡¨ï¼Œå…¶ä¸­çš„å…ƒç´ æŒ‰å‡åºæ’åºï¼Œå°†å…¶è½¬æ¢ä¸ºé«˜åº¦å¹³è¡¡çš„äºŒå‰æœç´¢æ ‘ã€‚ æœ¬é¢˜ä¸­ï¼Œä¸€ä¸ªé«˜åº¦å¹³è¡¡äºŒå‰æ ‘æ˜¯æŒ‡ä¸€ä¸ªäºŒå‰æ ‘æ¯ä¸ªèŠ‚ç‚¹ çš„å·¦å³ä¸¤ä¸ªå­æ ‘çš„é«˜åº¦å·®çš„ç»å¯¹å€¼ä¸è¶…è¿‡ 1ã€‚ ç¤ºä¾‹: 123456789ç»™å®šçš„æœ‰åºé“¾è¡¨ï¼š [-10, -3, 0, 5, 9],ä¸€ä¸ªå¯èƒ½çš„ç­”æ¡ˆæ˜¯ï¼š[0, -3, 9, -10, null, 5], å®ƒå¯ä»¥è¡¨ç¤ºä¸‹é¢è¿™ä¸ªé«˜åº¦å¹³è¡¡äºŒå‰æœç´¢æ ‘ï¼š 0 / \ -3 9 / / -10 5 æ–¹æ³•ï¼šé“¾è¡¨è½¬æˆæ•°ç»„ è½¬æˆæ•°ç»„åï¼Œæ–¹æ³•åŒä¸Šä¸€é¢˜108çš„è§£æ³• 123456789101112131415161718192021222324252627282930313233# Definition for singly-linked list.# class ListNode:# def __init__(self, x):# self.val = x# self.next = None# Definition for a binary tree node.# class TreeNode:# def __init__(self, x):# self.val = x# self.left = None# self.right = Noneclass Solution: def sortedListToBST(self, head: ListNode) -&gt; TreeNode: nums = [] while head: nums.append(head.val) head = head.next def sortedArrayToBST(nums): length = len(nums) if length == 0: return None if length == 1: return TreeNode(nums[0]) middle = (length-1)//2 root = TreeNode(nums[middle]) root.left = sortedArrayToBST(nums[:middle]) root.right = sortedArrayToBST(nums[middle+1:]) return root return sortedArrayToBST(nums) äºŒå‰æœç´¢æ ‘ä¸­çš„æ’å…¥æ“ä½œ LeetCode 701. Insert into a Binary Search Tree ç»™å®šäºŒå‰æœç´¢æ ‘ï¼ˆBSTï¼‰çš„æ ¹èŠ‚ç‚¹å’Œè¦æ’å…¥æ ‘ä¸­çš„å€¼ï¼Œå°†å€¼æ’å…¥äºŒå‰æœç´¢æ ‘ã€‚ è¿”å›æ’å…¥åäºŒå‰æœç´¢æ ‘çš„æ ¹èŠ‚ç‚¹ã€‚ ä¿è¯åŸå§‹äºŒå‰æœç´¢æ ‘ä¸­ä¸å­˜åœ¨æ–°å€¼ã€‚ æ³¨æ„ï¼Œå¯èƒ½å­˜åœ¨å¤šç§æœ‰æ•ˆçš„æ’å…¥æ–¹å¼ï¼Œåªè¦æ ‘åœ¨æ’å…¥åä»ä¿æŒä¸ºäºŒå‰æœç´¢æ ‘å³å¯ã€‚ ä½ å¯ä»¥è¿”å›ä»»æ„æœ‰æ•ˆçš„ç»“æœã€‚ ä¾‹å¦‚, 123456789ç»™å®šäºŒå‰æœç´¢æ ‘: 4 / \ 2 7 / \ 1 3å’Œ æ’å…¥çš„å€¼: 5 ä½ å¯ä»¥è¿”å›è¿™ä¸ªäºŒå‰æœç´¢æ ‘: 12345 4 / \ 2 7 / \ /1 3 5 æˆ–è€…è¿™ä¸ªæ ‘ä¹Ÿæ˜¯æœ‰æ•ˆçš„: 1234567 5 / \ 2 7 / \ 1 3 \ 4 æ–¹æ³• ä¸æ ¹ç»“ç‚¹æ¯”è¾ƒå¤§å°ï¼Œé€’å½’å·¦å­æ ‘æˆ–å³å­æ ‘ã€‚ 1234567891011121314151617# Definition for a binary tree node.# class TreeNode:# def __init__(self, x):# self.val = x# self.left = None# self.right = Noneclass Solution: def insertIntoBST(self, root: TreeNode, val: int) -&gt; TreeNode: if root: if val &lt; root.val: root.left = self.insertIntoBST(root.left, val) else: root.right = self.insertIntoBST(root.right, val) return root else: return TreeNode(val) äºŒå‰æœç´¢æ ‘ä¸­çš„æœç´¢ LeetCode 700. Search in a Binary Search Tree ç»™å®šäºŒå‰æœç´¢æ ‘ï¼ˆBSTï¼‰çš„æ ¹èŠ‚ç‚¹å’Œä¸€ä¸ªå€¼ã€‚ ä½ éœ€è¦åœ¨BSTä¸­æ‰¾åˆ°èŠ‚ç‚¹å€¼ç­‰äºç»™å®šå€¼çš„èŠ‚ç‚¹ã€‚ è¿”å›ä»¥è¯¥èŠ‚ç‚¹ä¸ºæ ¹çš„å­æ ‘ã€‚ å¦‚æœèŠ‚ç‚¹ä¸å­˜åœ¨ï¼Œåˆ™è¿”å› NULLã€‚ ä¾‹å¦‚ï¼Œ 123456789ç»™å®šäºŒå‰æœç´¢æ ‘: 4 / \ 2 7 / \ 1 3å’Œå€¼: 2 ä½ åº”è¯¥è¿”å›å¦‚ä¸‹å­æ ‘: 123 2 / \ 1 3 æ–¹æ³• ä¸æ ¹ç»“ç‚¹æ¯”è¾ƒå¤§å°ï¼Œç­‰äºåˆ™è¿”å›ï¼Œå¤§äºå°äºåˆ™ é€’å½’ å·¦å­æ ‘æˆ–å³å­æ ‘ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142# Definition for a binary tree node.# class TreeNode:# def __init__(self, x):# self.val = x# self.left = None# self.right = Noneclass Solution:# def sortedArrayToBST(self, nums: [int]) -&gt; TreeNode:# #å±‚åºæ ‘çš„åˆ—è¡¨è½¬ä¸ºæ ‘ç»“æ„# l=len(nums)# nodeLst = []# for i in range(l):# nodeLst.append(TreeNode(nums[i]))# for i in range(l//2-1):# nodeLst[i].left = nodeLst[2*i+1]# nodeLst[i].right = nodeLst[2*i+2]# nodeLst[l//2-1].left = nodeLst[2*(l//2-1)+1]# if len(nums)%2 == 1:# nodeLst[l//2-2].left = nodeLst[2*(l//2-1)+1]# return nodeLst[0]## def BSTTraversal(self,root): #å±‚åºè¾“å‡ºæ ‘çš„åˆ—è¡¨# a = []# L = []# L.append(root)# while L:# if L[0].left is not None:# L.append(L[0].left) # if L[0].right is not None:# L.append(L[0].right)# a.append(L.pop(0).val)# return a def searchBST(self, root: TreeNode, val: int) -&gt; TreeNode: if not root: return None if val == root.val: return root if val &lt; root.val: return self.searchBST(root.left, val) else: return self.searchBST(root.right, val) åˆ é™¤äºŒå‰æœç´¢æ ‘ä¸­çš„èŠ‚ç‚¹ LeetCode 450. Delete Node in a BST ç»™å®šä¸€ä¸ªäºŒå‰æœç´¢æ ‘çš„æ ¹èŠ‚ç‚¹ root å’Œä¸€ä¸ªå€¼ keyï¼Œåˆ é™¤äºŒå‰æœç´¢æ ‘ä¸­çš„ key å¯¹åº”çš„èŠ‚ç‚¹ï¼Œå¹¶ä¿è¯äºŒå‰æœç´¢æ ‘çš„æ€§è´¨ä¸å˜ã€‚è¿”å›äºŒå‰æœç´¢æ ‘ï¼ˆæœ‰å¯èƒ½è¢«æ›´æ–°ï¼‰çš„æ ¹èŠ‚ç‚¹çš„å¼•ç”¨ã€‚ ä¸€èˆ¬æ¥è¯´ï¼Œåˆ é™¤èŠ‚ç‚¹å¯åˆ†ä¸ºä¸¤ä¸ªæ­¥éª¤ï¼š é¦–å…ˆæ‰¾åˆ°éœ€è¦åˆ é™¤çš„èŠ‚ç‚¹ï¼› å¦‚æœæ‰¾åˆ°äº†ï¼Œåˆ é™¤å®ƒã€‚ è¯´æ˜ï¼š è¦æ±‚ç®—æ³•æ—¶é—´å¤æ‚åº¦ä¸º O(h)ï¼Œh ä¸ºæ ‘çš„é«˜åº¦ã€‚ ç¤ºä¾‹: 1234567891011121314151617181920212223242526root = [5,3,6,2,4,null,7]key = 3 5 / \ 3 6 / \ \2 4 7ç»™å®šéœ€è¦åˆ é™¤çš„èŠ‚ç‚¹å€¼æ˜¯ 3ï¼Œæ‰€ä»¥æˆ‘ä»¬é¦–å…ˆæ‰¾åˆ° 3 è¿™ä¸ªèŠ‚ç‚¹ï¼Œç„¶ååˆ é™¤å®ƒã€‚ä¸€ä¸ªæ­£ç¡®çš„ç­”æ¡ˆæ˜¯ [5,4,6,2,null,null,7], å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ 5 / \ 4 6 / \2 7å¦ä¸€ä¸ªæ­£ç¡®ç­”æ¡ˆæ˜¯ [5,2,6,null,4,null,7]ã€‚ 5 / \ 2 6 \ \ 4 7 æ–¹æ³• é€’å½’éå†æ•´ä¸ªæ ‘ æ‰¾åˆ°è¿™ä¸ªè¦åˆ é™¤çš„ç»“ç‚¹åï¼Œå¦‚æœåªæœ‰å·¦å­©å­ï¼Œæˆ–æ²¡æœ‰å­©å­ï¼Œè¿”å›å·¦å­©å­æˆ–ç©º å¦‚æœæœ‰å³å­©å­ï¼Œæ‰¾å³å­æ ‘çš„æœ€å°å€¼ï¼Œå³å¾…åˆ ç»“ç‚¹çš„åç»§ï¼Œäº¤æ¢ä¸¤ä¸ªå€¼ã€‚ 12345678910111213141516171819202122# Definition for a binary tree node.# class TreeNode:# def __init__(self, x):# self.val = x# self.left = None# self.right = Noneclass Solution: def deleteNode(self, root: TreeNode, key: int) -&gt; TreeNode: if not root: return None if root.val == key: # æ‰¾åˆ°è¿™ä¸ªç»“ç‚¹ if not root.right: # å¦‚æœåªæœ‰å·¦å­©å­ï¼Œæˆ–æ²¡æœ‰å­©å­ return root.left else: # å¦‚æœæœ‰å³å­©å­ succ = root.right while succ.left:# æ‰¾å³å­æ ‘çš„æœ€å°å€¼ï¼Œå³å¾…åˆ ç»“ç‚¹çš„åç»§ succ = succ.left succ.val, root.val = root.val, succ.val #äº¤æ¢ä¸¤ä¸ªå€¼ root.left = self.deleteNode(root.left, key) # é€’å½’éå†å·¦å­æ ‘ root.right = self.deleteNode(root.right, key) # é€’å½’éå†å³å­æ ‘ return root æŸ¥æ‰¾åç»§èŠ‚ç‚¹ æŸ¥æ‰¾äºŒå‰æŸ¥æ‰¾æ ‘ä¸­æŸä¸ªèŠ‚ç‚¹çš„å‰é©±èŠ‚ç‚¹ æ€è·¯ è‹¥ä¸€ä¸ªèŠ‚ç‚¹æœ‰å³å­æ ‘ï¼Œé‚£ä¹ˆè¯¥èŠ‚ç‚¹çš„åç»§èŠ‚ç‚¹æ˜¯å…¶å³å­æ ‘ä¸­valå€¼æœ€å°çš„èŠ‚ç‚¹ï¼ˆä¹Ÿå°±æ˜¯å³å­æ ‘ä¸­æ‰€è°“çš„leftMostNodeï¼‰ è‹¥ä¸€ä¸ªèŠ‚ç‚¹æ²¡æœ‰å³å­æ ‘ï¼Œé‚£ä¹ˆåˆ¤æ–­è¯¥èŠ‚ç‚¹å’Œå…¶çˆ¶èŠ‚ç‚¹çš„å…³ç³» è‹¥è¯¥èŠ‚ç‚¹æ˜¯å…¶çˆ¶èŠ‚ç‚¹çš„å·¦è¾¹å­©å­ï¼Œé‚£ä¹ˆè¯¥èŠ‚ç‚¹çš„åç»§ç»“ç‚¹å³ä¸ºå…¶çˆ¶èŠ‚ç‚¹ è‹¥è¯¥èŠ‚ç‚¹æ˜¯å…¶çˆ¶èŠ‚ç‚¹çš„å³è¾¹å­©å­ï¼Œé‚£ä¹ˆéœ€è¦æ²¿ç€å…¶çˆ¶äº²èŠ‚ç‚¹ä¸€ç›´å‘æ ‘çš„é¡¶ç«¯å¯»æ‰¾ï¼Œç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªèŠ‚ç‚¹Pï¼ŒPèŠ‚ç‚¹æ˜¯å…¶çˆ¶èŠ‚ç‚¹Qçš„å·¦è¾¹å­©å­ï¼Œé‚£ä¹ˆQå°±æ˜¯è¯¥èŠ‚ç‚¹çš„åç»§èŠ‚ç‚¹ æ–¹æ³• å†™æˆé€’å½’å½¢å¼ï¼Œ å½“æ ¹èŠ‚ç‚¹å€¼å°äºç­‰äºpèŠ‚ç‚¹å€¼ï¼Œè¯´æ˜pçš„åç»§èŠ‚ç‚¹ä¸€å®šåœ¨å³å­æ ‘ä¸­ï¼Œ æ‰€ä»¥å¯¹å³å­èŠ‚ç‚¹é€’å½’è°ƒç”¨æ­¤å‡½æ•° å¦‚æœæ ¹èŠ‚ç‚¹å€¼å¤§äºpèŠ‚ç‚¹å€¼ï¼Œé‚£ä¹ˆæœ‰å¯èƒ½æ ¹èŠ‚ç‚¹å°±æ˜¯pçš„åç»§èŠ‚ç‚¹ï¼Œæˆ–è€…å·¦å­æ ‘ä¸­çš„æŸä¸ªèŠ‚ç‚¹æ˜¯pçš„åç»§èŠ‚ç‚¹ï¼Œ æ‰€ä»¥å…ˆå¯¹å·¦å­èŠ‚ç‚¹é€’å½’è°ƒç”¨æ­¤å‡½æ•°ï¼Œå¦‚æœè¿”å›ç©ºï¼Œè¯´æ˜æ ¹èŠ‚ç‚¹æ˜¯åç»§èŠ‚ç‚¹ï¼Œè¿”å›å³å¯ï¼Œå¦‚æœä¸ä¸ºç©ºï¼Œåˆ™å°†é‚£ä¸ªèŠ‚ç‚¹è¿”å› 123456789101112131415161718192021222324252627282930313233343536373839404142434445# Definition for a binary tree node.class TreeNode: def __init__(self, x): self.val = x self.left = None self.right = Noneclass Solution: def sortedArrayToBST(self, nums: [int]) -&gt; TreeNode: #å±‚åºæ ‘çš„åˆ—è¡¨è½¬ä¸ºæ ‘ç»“æ„ l=len(nums) nodeLst = [] for i in range(l): nodeLst.append(TreeNode(nums[i])) for i in range(l//2-1): nodeLst[i].left = nodeLst[2*i+1] nodeLst[i].right = nodeLst[2*i+2] nodeLst[l//2-1].left = nodeLst[2*(l//2-1)+1] if len(nums)%2 == 1: nodeLst[l//2-2].left = nodeLst[2*(l//2-1)+1] return nodeLst[0] def searchSuccNode(self, root: TreeNode, key: int) -&gt; TreeNode: if not root: return None if root.val &lt;= key: # åç»§åœ¨å³å­æ ‘ä¸­ return self.searchSuccNode(root.right, key) else: # åç»§å°±æ˜¯è¯¥ç»“ç‚¹ï¼Œæˆ–è€…åœ¨è¯¥ç»“ç‚¹çš„å·¦å­æ ‘ä¸­ã€‚ left = self.searchSuccNode(root.left, key) if not left: return root else: return left if __name__ == '__main__': root = [4,2,7,1,3,5] p = 5 S = Solution() root = S.sortedArrayToBST(root) r= S.searchSuccNode(root,p) if not r: print(str(p) + 'çš„åç»§ä¸å­˜åœ¨') else: print(str(p) + 'çš„åç»§æ˜¯' + str(r.val)) #è¾“å‡ºï¼š5çš„åç»§æ˜¯7 æŸ¥æ‰¾å‰é©±ç»“ç‚¹ æŸ¥æ‰¾äºŒå‰æŸ¥æ‰¾æ ‘ä¸­æŸä¸ªèŠ‚ç‚¹çš„å‰é©±èŠ‚ç‚¹ æ€è·¯ è‹¥ä¸€ä¸ªèŠ‚ç‚¹æœ‰å·¦å­æ ‘ï¼Œé‚£ä¹ˆè¯¥èŠ‚ç‚¹çš„å‰é©±èŠ‚ç‚¹æ˜¯å…¶å·¦å­æ ‘ä¸­valå€¼æœ€å¤§çš„èŠ‚ç‚¹ï¼ˆä¹Ÿå°±æ˜¯å·¦å­æ ‘ä¸­æ‰€è°“çš„rightMostNodeï¼‰ è‹¥ä¸€ä¸ªèŠ‚ç‚¹æ²¡æœ‰å·¦å­æ ‘ï¼Œé‚£ä¹ˆåˆ¤æ–­è¯¥èŠ‚ç‚¹å’Œå…¶çˆ¶èŠ‚ç‚¹çš„å…³ç³» è‹¥è¯¥èŠ‚ç‚¹æ˜¯å…¶çˆ¶èŠ‚ç‚¹çš„å³è¾¹å­©å­ï¼Œé‚£ä¹ˆè¯¥èŠ‚ç‚¹çš„å‰é©±ç»“ç‚¹å³ä¸ºå…¶çˆ¶èŠ‚ç‚¹ã€‚ è‹¥è¯¥èŠ‚ç‚¹æ˜¯å…¶çˆ¶èŠ‚ç‚¹çš„å·¦è¾¹å­©å­ï¼Œé‚£ä¹ˆéœ€è¦æ²¿ç€å…¶çˆ¶äº²èŠ‚ç‚¹ä¸€ç›´å‘æ ‘çš„é¡¶ç«¯å¯»æ‰¾ï¼Œç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªèŠ‚ç‚¹Pï¼ŒPèŠ‚ç‚¹æ˜¯å…¶çˆ¶èŠ‚ç‚¹Qçš„å³è¾¹å­©å­ï¼Œé‚£ä¹ˆQå°±æ˜¯è¯¥èŠ‚ç‚¹çš„å‰é©±èŠ‚ç‚¹ æ–¹æ³• æ–¹æ³•å’ŒæŸ¥æ‰¾åç»§ç»“ç‚¹ç›¸åŒã€‚åªæ˜¯å·¦å³å­æ ‘æ¯”è¾ƒç›¸åã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344# Definition for a binary tree node.class TreeNode: def __init__(self, x): self.val = x self.left = None self.right = Noneclass Solution: def sortedArrayToBST(self, nums: [int]) -&gt; TreeNode: #å±‚åºæ ‘çš„åˆ—è¡¨è½¬ä¸ºæ ‘ç»“æ„ l=len(nums) nodeLst = [] for i in range(l): nodeLst.append(TreeNode(nums[i])) for i in range(l//2-1): nodeLst[i].left = nodeLst[2*i+1] nodeLst[i].right = nodeLst[2*i+2] nodeLst[l//2-1].left = nodeLst[2*(l//2-1)+1] if len(nums)%2 == 1: nodeLst[l//2-2].left = nodeLst[2*(l//2-1)+1] return nodeLst[0] def searchPredecessorNode(self, root: TreeNode, key: int) -&gt; TreeNode: if not root: return None if root.val &gt;= key: # å‰é©±åœ¨å·¦å­æ ‘ä¸­ return self.searchPredecessorNode(root.left, key) else: # åç»§å°±æ˜¯è¯¥ç»“ç‚¹ï¼Œæˆ–è€…åœ¨è¯¥ç»“ç‚¹çš„å·¦å­æ ‘ä¸­ã€‚ right = self.searchPredecessorNode(root.right, key) if not right: return root else: return right if __name__ == '__main__': root = [4,2,7,1,3,5] p = 3 S = Solution() root = S.sortedArrayToBST(root) r= S.searchPredecessorNode(root,p) if not r: print(str(p) + 'çš„å‰é©±ä¸å­˜åœ¨') else: print(str(p) + 'çš„å‰é©±æ˜¯' + str(r.val)) äºŒå‰æ ‘çš„å‰åºéå† LeetCode 144. Binary Tree Preorder Traversal ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œè¿”å›å®ƒçš„ å‰åº éå†ã€‚ ç¤ºä¾‹: 12345678è¾“å…¥: [1,null,2,3] 1 \ 2 / 3 è¾“å‡º: [1,2,3] æ–¹æ³•ä¸€ï¼šç”¨æ ˆä»ä¸Šåˆ°ä¸‹éå† å…ˆå³å­©å­å…¥æ ˆï¼Œå†å·¦å­©å­å…¥æ ˆã€‚ 12345678910111213141516171819# Definition for a binary tree node.# class TreeNode:# def __init__(self, x):# self.val = x# self.left = None# self.right = Noneclass Solution: def preorderTraversal(self, root: TreeNode) -&gt; List[int]: if not root: return [] stack = [root] # ç”¨æ ˆæ¥è¾…åŠ©å­˜å‚¨ res = [] while stack: node = stack.pop() res.append(node.val) if node.right: stack.append(node.right) if node.left: stack.append(node.left) return res æ–¹æ³•äºŒï¼šé€’å½’ 12345678910class Solution: def preorderTraversal(self, root: TreeNode) -&gt; List[int]: res = [] def dfs(root, res): if root: res.append(root.val) dfs(root.left, res) dfs(root.right, res) return res return dfs(root,res) æ–¹æ³•ä¸‰ï¼šç”¨æ ˆè¿­ä»£ ä»æ ¹èŠ‚ç‚¹é–‹å§‹ï¼Œä¸€ç›´æ‰¾å®ƒçš„å·¦å­æ ‘ï¼Œç›´åˆ°ä¸ºç©ºï¼Œå†æ‰¾å³å­æ ‘ã€‚ 1234567891011121314class Solution: def preorderTraversal(self, root: TreeNode) -&gt; List[int]: if not root: return [] stack = [] # ç”¨æ ˆæ¥è¾…åŠ©å­˜å‚¨ res = [] cur = root while stack or cur: while cur: #ä»æ ¹èŠ‚ç‚¹é–‹å§‹ï¼Œä¸€ç›´æ‰¾å®ƒçš„å·¦å­æ ‘ï¼Œç›´åˆ°curä¸ºç©º stack.append(cur) # æ ˆä¸­å­˜å…¥æ ¹èŠ‚ç‚¹å’Œå·¦å­©å­ res.append(cur.val) cur = cur.left cur = stack.pop().right #æ‰¾å³å­æ ‘ return res äºŒå‰æ ‘çš„ä¸­åºéå† LeetCode 94. Binary Tree Inorder Traversal ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œè¿”å›å®ƒçš„ä¸­åº éå†ã€‚ ç¤ºä¾‹: 12345678è¾“å…¥: [1,null,2,3] 1 \ 2 / 3è¾“å‡º: [1,3,2] æ–¹æ³•ä¸€ï¼šé€’å½’ 1234567891011121314151617# Definition for a binary tree node.# class TreeNode:# def __init__(self, x):# self.val = x# self.left = None# self.right = Noneclass Solution: def inorderTraversal(self, root: TreeNode) -&gt; List[int]: res = [] def inorder(root, res): if root: inorder(root.left, res) res.append(root.val) inorder(root.right, res) return res return inorder(root,res) æ–¹æ³•äºŒï¼šç”¨æ ˆè¿­ä»£ 123456789101112131415class Solution: def inorderTraversal(self, root: TreeNode) -&gt; List[int]: if not root: return [] stack = [] # ç”¨æ ˆæ¥è¾…åŠ©å­˜å‚¨ res = [] cur = root while stack or cur: while cur: #ä»æ ¹èŠ‚ç‚¹é–‹å§‹ï¼Œä¸€ç›´æ‰¾å®ƒçš„å·¦å­æ ‘ï¼Œç›´åˆ°curä¸ºç©º stack.append(cur) # æ ˆä¸­å­˜å…¥æ ¹èŠ‚ç‚¹å’Œå·¦å­©å­ cur = cur.left temp = stack.pop() # å‡ºæ ˆï¼Œåˆ™å·¦å­©å­å…ˆå‡ºæ¥ï¼Œç„¶åæ‰æ˜¯æ ¹ç»“ç‚¹ res.append(temp.val) cur = temp.right #æ‰¾å³å­æ ‘ return res äºŒå‰æ ‘çš„ååºéå† LeetCode 145. Binary Tree Postorder Traversal ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œè¿”å›å®ƒçš„ ååº éå†ã€‚ ç¤ºä¾‹: 12345678è¾“å…¥: [1,null,2,3] 1 \ 2 / 3 è¾“å‡º: [3,2,1] æ–¹æ³•ä¸€ï¼šé€’å½’ 12345678910class Solution: def postorderTraversal(self, root: TreeNode) -&gt; List[int]: res = [] def postorder(root, res): if root: postorder(root.left, res) postorder(root.right, res) res.append(root.val) return res return postorder(root,res) æ–¹æ³•äºŒï¼šè¿­ä»£ 1234567891011121314class Solution: def postorderTraversal(self, root: TreeNode) -&gt; List[int]: if not root: return [] stack = [] # ç”¨æ ˆæ¥è¾…åŠ©å­˜å‚¨ res = [] cur = root while stack or cur: while cur: #ä»æ ¹èŠ‚ç‚¹é–‹å§‹ï¼Œä¸€ç›´æ‰¾å®ƒçš„å·¦å­æ ‘ï¼Œç›´åˆ°curä¸ºç©º stack.append(cur) # æ ˆä¸­å­˜å…¥æ ¹èŠ‚ç‚¹å’Œå³å­©å­ res.append(cur.val) cur = cur.right cur = stack.pop().left #æ‰¾å·¦å­æ ‘ return res[::-1] äºŒå‰æ ‘çš„å±‚æ¬¡éå† LeetCode 102. Binary Tree Level Order Traversal ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œè¿”å›å…¶æŒ‰å±‚æ¬¡éå†çš„èŠ‚ç‚¹å€¼ã€‚ ï¼ˆå³é€å±‚åœ°ï¼Œä»å·¦åˆ°å³è®¿é—®æ‰€æœ‰èŠ‚ç‚¹ï¼‰ã€‚ ä¾‹å¦‚: ç»™å®šäºŒå‰æ ‘: [3,9,20,null,null,15,7], 12345 3 / \9 20 / \ 15 7 è¿”å›å…¶å±‚æ¬¡éå†ç»“æœï¼š 12345[ [3], [9,20], [15,7]] æ–¹æ³•ä¸€ï¼š å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆBFSï¼‰ 1234567891011121314151617181920212223# Definition for a binary tree node.# class TreeNode:# def __init__(self, x):# self.val = x# self.left = None# self.right = Noneclass Solution: def levelOrder(self, root: TreeNode) -&gt; List[List[int]]: if not root: return [] res = [] currLevel = [root] while currLevel: res.append([node.val for node in currLevel]) nextLevel = [] for node in currLevel: if node.left: nextLevel.append(node.left) if node.right: nextLevel.append(node.right) currLevel = nextLevel return res æ–¹æ³•äºŒï¼šæ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDFSï¼‰ 12345678910111213class Solution: def levelOrder(self, root: TreeNode) -&gt; List[List[int]]: def dfs(root, depth, res): if not root: return res if len(res) &lt;= depth: res.append([]) res[depth].append(root.val) dfs(root.left, depth+1,res) dfs(root.right,depth+1,res) res = [] dfs(root,0,res) return res 105. ä»å‰åºä¸ä¸­åºéå†åºåˆ—æ„é€ äºŒå‰æ ‘ æ ¹æ®ä¸€æ£µæ ‘çš„å‰åºéå†ä¸ä¸­åºéå†æ„é€ äºŒå‰æ ‘ã€‚ æ³¨æ„: ä½ å¯ä»¥å‡è®¾æ ‘ä¸­æ²¡æœ‰é‡å¤çš„å…ƒç´ ã€‚ ä¾‹å¦‚ï¼Œç»™å‡º 12å‰åºéå† preorder = [3,9,20,15,7]ä¸­åºéå† inorder = [9,3,15,20,7] è¿”å›å¦‚ä¸‹çš„äºŒå‰æ ‘ï¼š 12345 3 / \9 20 / \ 15 7 æ–¹æ³• å…ˆåºéå†çš„å¼€å¤´ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯æ ¹å…ƒç´ ï¼Œæ‰¾åˆ°å…¶åœ¨ä¸­åºéå†ä¸­çš„ä½ç½®ï¼Œåˆ†å‰²å‡ºå·¦å³å­æ ‘ã€‚å†æ ¹æ®å·¦å³å­æ ‘çš„é•¿åº¦åœ¨å…ˆåºéå†ä¸­åˆ’åˆ†ã€‚ 123456789class Solution: def buildTree(self, preorder: List[int], inorder: List[int]) -&gt; TreeNode: if not preorder or not inorder: return None root = TreeNode(preorder[0]) index = inorder.index(preorder[0]) root.left = self.buildTree(preorder[1:index+1], inorder[:index]) root.right = self.buildTree(preorder[index+1:], inorder[index+1:]) return root äºŒå‰æ ‘çš„é”¯é½¿å½¢å±‚æ¬¡éå† LeetCode 103. Binary Tree Zigzag Level Order Traversal ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œè¿”å›å…¶èŠ‚ç‚¹å€¼çš„é”¯é½¿å½¢å±‚æ¬¡éå†ã€‚ï¼ˆå³å…ˆä»å·¦å¾€å³ï¼Œå†ä»å³å¾€å·¦è¿›è¡Œä¸‹ä¸€å±‚éå†ï¼Œä»¥æ­¤ç±»æ¨ï¼Œå±‚ä¸å±‚ä¹‹é—´äº¤æ›¿è¿›è¡Œï¼‰ã€‚ ä¾‹å¦‚ï¼š ç»™å®šäºŒå‰æ ‘ [3,9,20,null,null,15,7], 12345 3 / \9 20 / \ 15 7 è¿”å›é”¯é½¿å½¢å±‚æ¬¡éå†å¦‚ä¸‹ï¼š 12345[ [3], [20,9], [15,7]] æ–¹æ³• 1234567891011121314151617181920212223# Definition for a binary tree node.# class TreeNode:# def __init__(self, x):# self.val = x# self.left = None# self.right = Noneclass Solution: def zigzagLevelOrder(self, root: TreeNode) -&gt; List[List[int]]: def dfs(root, depth, res): if not root: return res if len(res) &lt;= depth: res.append([]) if depth % 2 == 0: res[depth].append(root.val) else: res[depth].insert(0, root.val) dfs(root.left, depth+1,res) dfs(root.right,depth+1,res) res = [] dfs(root,0,res) return res éªŒè¯äºŒå‰æœç´¢æ ‘ LeetCode 98. Validate Binary Search Tree ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œåˆ¤æ–­å…¶æ˜¯å¦æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„äºŒå‰æœç´¢æ ‘ã€‚ å‡è®¾ä¸€ä¸ªäºŒå‰æœç´¢æ ‘å…·æœ‰å¦‚ä¸‹ç‰¹å¾ï¼š èŠ‚ç‚¹çš„å·¦å­æ ‘åªåŒ…å«å°äºå½“å‰èŠ‚ç‚¹çš„æ•°ã€‚ èŠ‚ç‚¹çš„å³å­æ ‘åªåŒ…å«å¤§äºå½“å‰èŠ‚ç‚¹çš„æ•°ã€‚ æ‰€æœ‰å·¦å­æ ‘å’Œå³å­æ ‘è‡ªèº«å¿…é¡»ä¹Ÿæ˜¯äºŒå‰æœç´¢æ ‘ã€‚ ç¤ºä¾‹ 1: 12345è¾“å…¥: 2 / \ 1 3è¾“å‡º: true ç¤ºä¾‹ 2: 123456789è¾“å…¥: 5 / \ 1 4 / \ 3 6è¾“å‡º: falseè§£é‡Š: è¾“å…¥ä¸º: [5,1,4,null,null,3,6]ã€‚ æ ¹èŠ‚ç‚¹çš„å€¼ä¸º 5 ï¼Œä½†æ˜¯å…¶å³å­èŠ‚ç‚¹å€¼ä¸º 4 ã€‚ æ–¹æ³•ä¸€ï¼šä¸­åºéå† ä¸­åºéå†æŒ‰ç…§ å·¦å­©å­ï¼æ ¹èŠ‚ç‚¹ï¼å³å­©å­ è¿™ä¸ªé¡ºåºéå†ï¼Œå¦‚æœæ¯ä¸ªå­æ ‘éƒ½æ»¡è¶³å·¦å­©å­&lt;æ ¹èŠ‚ç‚¹&lt;å³å­©å­ï¼Œé‚£å°±åº”è¯¥æ˜¯ä¸ªBSTå§ã€‚ 1234567891011class Solution: def isValidBST(self, root: TreeNode) -&gt; bool: res = [] def inorder(root, res): if root: inorder(root.left, res) res.append(root.val) inorder(root.right, res) return res inorder(root,res) return res == sorted(res) and len(res) == len(set(res)) æ–¹æ³•äºŒï¼šé€’å½’ å·¦å­æ ‘çš„å€¼è¦åœ¨(min,mid)ä¹‹é—´ï¼Œå³å­æ ‘çš„å€¼åœ¨(mid,max)ä¹‹é—´ï¼Œè¿™ä¸ªmidå€¼å¹¶ä¸æ˜¯ä¸­ä½æ•°è€Œæ˜¯å½“å‰èŠ‚ç‚¹çš„å€¼ã€‚ å®šä¹‰ä¸€ä¸ªè¾…åŠ©å‡½æ•°ï¼Œ è¦ç»™è¿™ä¸ªè¾…åŠ©å‡½æ•°ä¼ å…¥ï¼šå½“å‰è¦åˆ¤æ–­çš„èŠ‚ç‚¹ã€å½“å‰è¦åˆ¤æ–­çš„è¿™ä¸ªèŠ‚ç‚¹çš„å–å€¼ä¸‹é™å’Œå–å€¼ä¸Šé™ã€‚ ç„¶åä½¿ç”¨é€’å½’å³å¯ï¼Œæ¯æ¬¡è¦è®¡ç®—ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„æ—¶å€™éƒ½è¦æ ¹æ®è¿™ä¸ªèŠ‚ç‚¹æ˜¯å·¦å­©å­è¿˜æ˜¯å³å­©å­å¯¹å…¶å–å€¼çš„åŒºé—´è¿›è¡Œæ›´æ–°ã€‚ 12345678910class Solution: def isValidBST(self, root: TreeNode) -&gt; bool: return self.valid(root, float('-inf'), float('inf')) def valid(self, root, min, max): if not root: return True if root.val &gt;= max or root.val &lt;= min: return False return self.valid(root.left, min, root.val) and self.valid(root.right, root.val, max) 114. äºŒå‰æ ‘å±•å¼€ä¸ºé“¾è¡¨ ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼ŒåŸåœ°å°†å®ƒå±•å¼€ä¸ºé“¾è¡¨ã€‚ ä¾‹å¦‚ï¼Œç»™å®šäºŒå‰æ ‘ 12345 1 / \ 2 5 / \ \3 4 6 å°†å…¶å±•å¼€ä¸ºï¼š 12345678910111 \ 2 \ 3 \ 4 \ 5 \ 6 æ–¹æ³•ï¼šå…ˆåºéå† æœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯ä½¿ç”¨åˆ—è¡¨ä¿å­˜å…ˆåºéå†çš„æ¯ä¸ªèŠ‚ç‚¹ï¼Œç„¶ååœ¨åˆ—è¡¨ä¸­å®Œæˆæ“ä½œã€‚å³ï¼Œä½¿å¾—åˆ—è¡¨ä¸­æ¯ä¸ªå…ƒç´ çš„å·¦å­©å­ä¸ºç©ºï¼Œå³å­©å­éƒ½æ˜¯ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ã€‚ è¿™ä¸ªæ–¹æ³•å¾ˆç®€å•ï¼Œä¸è¿‡éœ€è¦O(N)çš„ç©ºé—´å¤æ‚åº¦ã€‚ 12345678910111213141516class Solution: def flatten(self, root: TreeNode) -&gt; None: """ Do not return anything, modify root in-place instead. """ res = [] self.preOrder(root, res) for i in range(len(res)-1): res[i].left = None res[i].right = res[i+1] def preOrder(self, root, res): if not root:return res.append(root) self.preOrder(root.left, res) self.preOrder(root.right, res) ç¿»è½¬äºŒå‰æ ‘ LeetCode 226. Invert Binary Tree ç¿»è½¬ä¸€æ£µäºŒå‰æ ‘ã€‚ ç¤ºä¾‹ï¼š 123456789101112131415è¾“å…¥ï¼š 4 / \ 2 7 / \ / \1 3 6 9è¾“å‡ºï¼š 4 / \ 7 2 / \ / \9 6 3 1 æ–¹æ³•ä¸€ï¼šé€’å½’ DFS æ¯æ¬¡é€’å½’äº¤æ¢å½“å‰èŠ‚ç‚¹çš„å·¦å³å­æ ‘ï¼ŒåŒæ—¶å¯¹å·¦å³å­æ ‘åšåŒæ ·çš„å¤„ç†ã€‚ 12345678class Solution: def invertTree(self, root: TreeNode) -&gt; TreeNode: if not root: return None temp = root.left root.left = self.invertTree(root.right) root.right = self.invertTree(temp) return root æ–¹æ³•äºŒï¼šæ ˆ 12345678910111213class Solution: def invertTree(self, root: TreeNode) -&gt; TreeNode: if not root: return None stack = [root] while len(stack) != 0: node = stack.pop() node.left, node.right = node.right, node.left if node.left: stack.append(node.left) if node.right: stack.append(node.right) return root å‚è€ƒ ã€ŠProblem Solving with Algorithms and Data Structures using Pythonã€‹ [LeetCode] Inorder Successor in BST äºŒå‰æœç´¢æ ‘ä¸­çš„ä¸­åºåç»§èŠ‚ç‚¹ 226. Invert Binary Tree [easy] (Python) 112. Path Sum [easy] (Python)]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>LeetCode</tag>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>äºŒå‰æ ‘</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[pythonè§£leetcodeå­—ç¬¦ä¸²(1)]]></title>
    <url>%2F2019%2F03%2F08%2Fpython_leetcode-string(1)%2F</url>
    <content type="text"><![CDATA[å­¦ä¹ ç›®æ ‡ï¼š å®ç°ä¸€ä¸ªå­—ç¬¦é›†ï¼ŒåªåŒ…å« aï½z è¿™ 26 ä¸ªè‹±æ–‡å­—æ¯çš„ Trie æ ‘ å®ç°æœ´ç´ çš„å­—ç¬¦ä¸²åŒ¹é…ç®—æ³• åè½¬å­—ç¬¦ä¸² ç¿»è½¬å­—ç¬¦ä¸²é‡Œçš„å•è¯ åè½¬å­—ç¬¦ä¸²ä¸­çš„å•è¯ III å­—ç¬¦ä¸²è½¬æ¢æ•´æ•° (atoi) LeetCode 208. å®ç° Trie (å‰ç¼€æ ‘) å®ç°ä¸€ä¸ª Trie (å‰ç¼€æ ‘)ï¼ŒåŒ…å« insert, search, å’Œ startsWith è¿™ä¸‰ä¸ªæ“ä½œã€‚ ç¤ºä¾‹: 12345678Trie trie = new Trie();trie.insert(&quot;apple&quot;);trie.search(&quot;apple&quot;); // è¿”å› truetrie.search(&quot;app&quot;); // è¿”å› falsetrie.startsWith(&quot;app&quot;); // è¿”å› truetrie.insert(&quot;app&quot;); trie.search(&quot;app&quot;); // è¿”å› true è¯´æ˜: ä½ å¯ä»¥å‡è®¾æ‰€æœ‰çš„è¾“å…¥éƒ½æ˜¯ç”±å°å†™å­—æ¯ a-z æ„æˆçš„ã€‚ ä¿è¯æ‰€æœ‰è¾“å…¥å‡ä¸ºéç©ºå­—ç¬¦ä¸²ã€‚ æ–¹æ³• trieï¼Œåˆç§°å‰ç¼€æ ‘æˆ–å­—å…¸æ ‘ï¼Œæ˜¯ä¸€ç§æœ‰åºæ ‘ï¼Œç”¨äºä¿å­˜å…³è”æ•°ç»„ï¼Œå…¶ä¸­çš„é”®é€šå¸¸æ˜¯å­—ç¬¦ä¸²ã€‚ ä¸€ä¸ªèŠ‚ç‚¹çš„æ‰€æœ‰å­å­™éƒ½æœ‰ç›¸åŒçš„å‰ç¼€ï¼Œä¹Ÿå°±æ˜¯è¿™ä¸ªèŠ‚ç‚¹å¯¹åº”çš„å­—ç¬¦ä¸²ï¼Œè€Œæ ¹èŠ‚ç‚¹å¯¹åº”ç©ºå­—ç¬¦ä¸²ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051class TrieNode: def __init__(self): self.isEnd = False # åˆ¤æ–­æ˜¯å¦æ˜¯è¯å°¾ self.children = dict() #å­ç»“ç‚¹ class Trie: def __init__(self): """ Initialize your data structure here. """ self.root = TrieNode() def insert(self, word: str) -&gt; None: """ Inserts a word into the trie. """ currNode = self.root for i in word: if i not in currNode.children: currNode.children[i] = TrieNode() currNode = currNode.children[i] currNode.isEnd = True def search(self, word: str) -&gt; bool: """ Returns if the word is in the trie. """ currNode = self.root for i in word: if i not in currNode.children: return False currNode = currNode.children[i] return currNode.isEnd def startsWith(self, prefix: str) -&gt; bool: """ Returns if there is any word in the trie that starts with the given prefix. """ currNode = self.root for i in prefix: if i not in currNode.children: return False currNode = currNode.children[i] return True# Your Trie object will be instantiated and called as such:# obj = Trie()# obj.insert(word)# param_2 = obj.search(word)# param_3 = obj.startsWith(prefix) Trieæ ‘çš„ä¼˜ç¼ºç‚¹ Trieæ ‘çš„æ ¸å¿ƒæ€æƒ³æ˜¯ç©ºé—´æ¢æ—¶é—´ï¼Œåˆ©ç”¨å­—ç¬¦ä¸²çš„å…¬å…±å‰ç¼€æ¥å‡å°‘æ— è°“çš„å­—ç¬¦ä¸²æ¯”è¾ƒä»¥è¾¾åˆ°æé«˜æŸ¥è¯¢æ•ˆç‡çš„ç›®çš„ã€‚ ä¼˜ç‚¹ æ’å…¥å’ŒæŸ¥è¯¢çš„æ•ˆç‡å¾ˆé«˜ï¼Œéƒ½ä¸ºO(m)O(m)ï¼Œå…¶ä¸­ mm æ˜¯å¾…æ’å…¥/æŸ¥è¯¢çš„å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚ å…³äºæŸ¥è¯¢ï¼Œä¼šæœ‰äººè¯´ hash è¡¨æ—¶é—´å¤æ‚åº¦æ˜¯O(1)O(1)ä¸æ˜¯æ›´å¿«ï¼Ÿä½†æ˜¯ï¼Œå“ˆå¸Œæœç´¢çš„æ•ˆç‡é€šå¸¸å–å†³äº hash å‡½æ•°çš„å¥½åï¼Œè‹¥ä¸€ä¸ªåçš„ hash å‡½æ•°å¯¼è‡´å¾ˆå¤šçš„å†²çªï¼Œæ•ˆç‡å¹¶ä¸ä¸€å®šæ¯”Trieæ ‘é«˜ã€‚ Trieæ ‘ä¸­ä¸åŒçš„å…³é”®å­—ä¸ä¼šäº§ç”Ÿå†²çªã€‚ Trieæ ‘åªæœ‰åœ¨å…è®¸ä¸€ä¸ªå…³é”®å­—å…³è”å¤šä¸ªå€¼çš„æƒ…å†µä¸‹æ‰æœ‰ç±»ä¼¼hashç¢°æ’å‘ç”Ÿã€‚ Trieæ ‘ä¸ç”¨æ±‚ hash å€¼ï¼Œå¯¹çŸ­å­—ç¬¦ä¸²æœ‰æ›´å¿«çš„é€Ÿåº¦ã€‚é€šå¸¸ï¼Œæ±‚hashå€¼ä¹Ÿæ˜¯éœ€è¦éå†å­—ç¬¦ä¸²çš„ã€‚ Trieæ ‘å¯ä»¥å¯¹å…³é”®å­—æŒ‰å­—å…¸åºæ’åºã€‚ ç¼ºç‚¹ å½“ hash å‡½æ•°å¾ˆå¥½æ—¶ï¼ŒTrieæ ‘çš„æŸ¥æ‰¾æ•ˆç‡ä¼šä½äºå“ˆå¸Œæœç´¢ã€‚ ç©ºé—´æ¶ˆè€—æ¯”è¾ƒå¤§ã€‚ LeetCode 28. å®ç°strStr() Implement strStr() å®ç° strStr() å‡½æ•°ã€‚ ç»™å®šä¸€ä¸ª haystack å­—ç¬¦ä¸²å’Œä¸€ä¸ª needle å­—ç¬¦ä¸²ï¼Œåœ¨ haystack å­—ç¬¦ä¸²ä¸­æ‰¾å‡º needle å­—ç¬¦ä¸²å‡ºç°çš„ç¬¬ä¸€ä¸ªä½ç½® (ä»0å¼€å§‹)ã€‚å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™è¿”å› -1ã€‚ ç¤ºä¾‹ 1: 12è¾“å…¥: haystack = &quot;hello&quot;, needle = &quot;ll&quot;è¾“å‡º: 2 ç¤ºä¾‹ 2: 12è¾“å…¥: haystack = &quot;aaaaa&quot;, needle = &quot;bba&quot;è¾“å‡º: -1 è¯´æ˜: å½“ needle æ˜¯ç©ºå­—ç¬¦ä¸²æ—¶æˆ‘ä»¬è¿”å› 0 ã€‚è¿™ä¸Cè¯­è¨€çš„ strstr() ä»¥åŠ Javaçš„ indexOf() å®šä¹‰ç›¸ç¬¦ã€‚ æ–¹æ³•ï¼šå†…ç½®find()å‡½æ•° 123class Solution: def strStr(self, haystack: str, needle: str) -&gt; int: return haystack.find(needle) æ–¹æ³•ï¼šæœ´ç´ ç®—æ³• å­—ç¬¦ä¸²åŒ¹é…ç®—æ³•ä¸»è¦æ˜¯ä¸¤ç±»ï¼Œæœ€åŸºæœ¬çš„æš´åŠ›è§£æ³•ï¼Œä¹Ÿå«åšæœ´ç´ ç®—æ³•ï¼Œå¦ä¸€ç§æ˜¯KMPç®—æ³•ã€‚ æœ´ç´ ç®—æ³•æ˜¯é€šè¿‡ä¸€ä¸ªå¾ªç¯æ‰¾åˆ°æ‰€æœ‰æœ‰æ•ˆåç§»ï¼Œæ£€æŸ¥æ˜¯å¦æ»¡è¶³æ¡ä»¶ã€‚ 1234567class Solution: def strStr(self, haystack: str, needle: str) -&gt; int: M, N = len(haystack), len(needle) for i in range(M-N+1): if haystack[i:i+N] == needle: return i return -1 LeetCode 344. åè½¬å­—ç¬¦ä¸² åè½¬å­—ç¬¦ä¸² ç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼Œå…¶ä½œç”¨æ˜¯å°†è¾“å…¥çš„å­—ç¬¦ä¸²åè½¬è¿‡æ¥ã€‚è¾“å…¥å­—ç¬¦ä¸²ä»¥å­—ç¬¦æ•°ç»„ char[] çš„å½¢å¼ç»™å‡ºã€‚ ä¸è¦ç»™å¦å¤–çš„æ•°ç»„åˆ†é…é¢å¤–çš„ç©ºé—´ï¼Œä½ å¿…é¡»åŸåœ°ä¿®æ”¹è¾“å…¥æ•°ç»„ã€ä½¿ç”¨ O(1) çš„é¢å¤–ç©ºé—´è§£å†³è¿™ä¸€é—®é¢˜ã€‚ ä½ å¯ä»¥å‡è®¾æ•°ç»„ä¸­çš„æ‰€æœ‰å­—ç¬¦éƒ½æ˜¯ ASCII ç è¡¨ä¸­çš„å¯æ‰“å°å­—ç¬¦ã€‚ ç¤ºä¾‹ 1ï¼š 12è¾“å…¥ï¼š[&quot;h&quot;,&quot;e&quot;,&quot;l&quot;,&quot;l&quot;,&quot;o&quot;]è¾“å‡ºï¼š[&quot;o&quot;,&quot;l&quot;,&quot;l&quot;,&quot;e&quot;,&quot;h&quot;] ç¤ºä¾‹ 2ï¼š 12è¾“å…¥ï¼š[&quot;H&quot;,&quot;a&quot;,&quot;n&quot;,&quot;n&quot;,&quot;a&quot;,&quot;h&quot;]è¾“å‡ºï¼š[&quot;h&quot;,&quot;a&quot;,&quot;n&quot;,&quot;n&quot;,&quot;a&quot;,&quot;H&quot;] æ–¹æ³• ä¾æ¬¡äº¤æ¢å‰é¢å’Œåé¢çš„å­—ç¬¦ç›´è‡³ä¸­é—´å­—ç¬¦ï¼Œå®Œæˆåè½¬ã€‚ 123456789class Solution: def reverseString(self, s: List[str]) -&gt; None: &quot;&quot;&quot; Do not return anything, modify s in-place instead. &quot;&quot;&quot; for i in range(len(s)//2): tmp = s[i] s[i] = s[len(s)-1-i] s[len(s)-1-i] = tmp LeetCode 151. ç¿»è½¬å­—ç¬¦ä¸²é‡Œçš„å•è¯ Reverse Words in a String ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œé€ä¸ªç¿»è½¬å­—ç¬¦ä¸²ä¸­çš„æ¯ä¸ªå•è¯ã€‚ ç¤ºä¾‹ 1ï¼š 12è¾“å…¥: &quot;the sky is blue&quot;è¾“å‡º: &quot;blue is sky the&quot; ç¤ºä¾‹ 2ï¼š 123è¾“å…¥: &quot; hello world! &quot;è¾“å‡º: &quot;world! hello&quot;è§£é‡Š: è¾“å…¥å­—ç¬¦ä¸²å¯ä»¥åœ¨å‰é¢æˆ–è€…åé¢åŒ…å«å¤šä½™çš„ç©ºæ ¼ï¼Œä½†æ˜¯åè½¬åçš„å­—ç¬¦ä¸èƒ½åŒ…æ‹¬ã€‚ ç¤ºä¾‹ 3ï¼š 123è¾“å…¥: &quot;a good example&quot;è¾“å‡º: &quot;example good a&quot;è§£é‡Š: å¦‚æœä¸¤ä¸ªå•è¯é—´æœ‰å¤šä½™çš„ç©ºæ ¼ï¼Œå°†åè½¬åå•è¯é—´çš„ç©ºæ ¼å‡å°‘åˆ°åªå«ä¸€ä¸ªã€‚ è¯´æ˜ï¼š æ— ç©ºæ ¼å­—ç¬¦æ„æˆä¸€ä¸ªå•è¯ã€‚ è¾“å…¥å­—ç¬¦ä¸²å¯ä»¥åœ¨å‰é¢æˆ–è€…åé¢åŒ…å«å¤šä½™çš„ç©ºæ ¼ï¼Œä½†æ˜¯åè½¬åçš„å­—ç¬¦ä¸èƒ½åŒ…æ‹¬ã€‚ å¦‚æœä¸¤ä¸ªå•è¯é—´æœ‰å¤šä½™çš„ç©ºæ ¼ï¼Œå°†åè½¬åå•è¯é—´çš„ç©ºæ ¼å‡å°‘åˆ°åªå«ä¸€ä¸ªã€‚ æ–¹æ³• 12345class Solution: def reverseWords(self, s: str) -&gt; str: lst = s.split() lst.reverse() return " ".join(lst) 557. åè½¬å­—ç¬¦ä¸²ä¸­çš„å•è¯ III ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä½ éœ€è¦åè½¬å­—ç¬¦ä¸²ä¸­æ¯ä¸ªå•è¯çš„å­—ç¬¦é¡ºåºï¼ŒåŒæ—¶ä»ä¿ç•™ç©ºæ ¼å’Œå•è¯çš„åˆå§‹é¡ºåºã€‚ ç¤ºä¾‹ 1: 123456è¾“å…¥: &quot;Let&apos;s take LeetCode contest&quot;è¾“å‡º: &quot;s&apos;teL ekat edoCteeL tsetnoc&quot; æ³¨æ„ï¼šåœ¨å­—ç¬¦ä¸²ä¸­ï¼Œæ¯ä¸ªå•è¯ç”±å•ä¸ªç©ºæ ¼åˆ†éš”ï¼Œå¹¶ä¸”å­—ç¬¦ä¸²ä¸­ä¸ä¼šæœ‰ä»»ä½•é¢å¤–çš„ç©ºæ ¼ã€‚123 æ–¹æ³• ä½¿ç”¨splitä¸å†…ç½®å‡½æ•°é€†ç½® 1234567class Solution: def reverseWords(self, s: str) -&gt; str: l = s.split() k = [] for i in l: k.append(i[::-1]) return " ".join(k) LeetCode 8. å­—ç¬¦ä¸²è½¬æ¢æ•´æ•° (atoi) å­—ç¬¦ä¸²è½¬æ¢æ•´æ•° (atoi) è¯·ä½ æ¥å®ç°ä¸€ä¸ª atoi å‡½æ•°ï¼Œä½¿å…¶èƒ½å°†å­—ç¬¦ä¸²è½¬æ¢æˆæ•´æ•°ã€‚ é¦–å…ˆï¼Œè¯¥å‡½æ•°ä¼šæ ¹æ®éœ€è¦ä¸¢å¼ƒæ— ç”¨çš„å¼€å¤´ç©ºæ ¼å­—ç¬¦ï¼Œç›´åˆ°å¯»æ‰¾åˆ°ç¬¬ä¸€ä¸ªéç©ºæ ¼çš„å­—ç¬¦ä¸ºæ­¢ã€‚ å½“æˆ‘ä»¬å¯»æ‰¾åˆ°çš„ç¬¬ä¸€ä¸ªéç©ºå­—ç¬¦ä¸ºæ­£æˆ–è€…è´Ÿå·æ—¶ï¼Œåˆ™å°†è¯¥ç¬¦å·ä¸ä¹‹åé¢å°½å¯èƒ½å¤šçš„è¿ç»­æ•°å­—ç»„åˆèµ·æ¥ï¼Œä½œä¸ºè¯¥æ•´æ•°çš„æ­£è´Ÿå·ï¼›å‡å¦‚ç¬¬ä¸€ä¸ªéç©ºå­—ç¬¦æ˜¯æ•°å­—ï¼Œåˆ™ç›´æ¥å°†å…¶ä¸ä¹‹åè¿ç»­çš„æ•°å­—å­—ç¬¦ç»„åˆèµ·æ¥ï¼Œå½¢æˆæ•´æ•°ã€‚ è¯¥å­—ç¬¦ä¸²é™¤äº†æœ‰æ•ˆçš„æ•´æ•°éƒ¨åˆ†ä¹‹åä¹Ÿå¯èƒ½ä¼šå­˜åœ¨å¤šä½™çš„å­—ç¬¦ï¼Œè¿™äº›å­—ç¬¦å¯ä»¥è¢«å¿½ç•¥ï¼Œå®ƒä»¬å¯¹äºå‡½æ•°ä¸åº”è¯¥é€ æˆå½±å“ã€‚ æ³¨æ„ï¼šå‡å¦‚è¯¥å­—ç¬¦ä¸²ä¸­çš„ç¬¬ä¸€ä¸ªéç©ºæ ¼å­—ç¬¦ä¸æ˜¯ä¸€ä¸ªæœ‰æ•ˆæ•´æ•°å­—ç¬¦ã€å­—ç¬¦ä¸²ä¸ºç©ºæˆ–å­—ç¬¦ä¸²ä»…åŒ…å«ç©ºç™½å­—ç¬¦æ—¶ï¼Œåˆ™ä½ çš„å‡½æ•°ä¸éœ€è¦è¿›è¡Œè½¬æ¢ã€‚ åœ¨ä»»ä½•æƒ…å†µä¸‹ï¼Œè‹¥å‡½æ•°ä¸èƒ½è¿›è¡Œæœ‰æ•ˆçš„è½¬æ¢æ—¶ï¼Œè¯·è¿”å› 0ã€‚ è¯´æ˜ï¼šå‡è®¾æˆ‘ä»¬çš„ç¯å¢ƒåªèƒ½å­˜å‚¨ 32 ä½å¤§å°çš„æœ‰ç¬¦å·æ•´æ•°ï¼Œé‚£ä¹ˆå…¶æ•°å€¼èŒƒå›´ä¸º \([âˆ’2^{31}, 2^{31} âˆ’ 1]\)ã€‚å¦‚æœæ•°å€¼è¶…è¿‡è¿™ä¸ªèŒƒå›´ï¼Œqingè¿”å› INT_MAX\((2^{31} âˆ’ 1)\) æˆ– INT_MIN \((âˆ’2^{31})\) ã€‚ ç¤ºä¾‹ 1: 12è¾“å…¥: &quot;42&quot;è¾“å‡º: 42 ç¤ºä¾‹ 2: 1234è¾“å…¥: &quot; -42&quot;è¾“å‡º: -42è§£é‡Š: ç¬¬ä¸€ä¸ªéç©ºç™½å­—ç¬¦ä¸º &apos;-&apos;, å®ƒæ˜¯ä¸€ä¸ªè´Ÿå·ã€‚ æˆ‘ä»¬å°½å¯èƒ½å°†è´Ÿå·ä¸åé¢æ‰€æœ‰è¿ç»­å‡ºç°çš„æ•°å­—ç»„åˆèµ·æ¥ï¼Œæœ€åå¾—åˆ° -42 ã€‚ ç¤ºä¾‹ 3: 123è¾“å…¥: &quot;4193 with words&quot;è¾“å‡º: 4193è§£é‡Š: è½¬æ¢æˆªæ­¢äºæ•°å­— &apos;3&apos; ï¼Œå› ä¸ºå®ƒçš„ä¸‹ä¸€ä¸ªå­—ç¬¦ä¸ä¸ºæ•°å­—ã€‚ ç¤ºä¾‹ 4: 1234è¾“å…¥: &quot;words and 987&quot;è¾“å‡º: 0è§£é‡Š: ç¬¬ä¸€ä¸ªéç©ºå­—ç¬¦æ˜¯ &apos;w&apos;, ä½†å®ƒä¸æ˜¯æ•°å­—æˆ–æ­£ã€è´Ÿå·ã€‚ å› æ­¤æ— æ³•æ‰§è¡Œæœ‰æ•ˆçš„è½¬æ¢ã€‚ ç¤ºä¾‹ 5: 1234è¾“å…¥: &quot;-91283472332&quot;è¾“å‡º: -2147483648è§£é‡Š: æ•°å­— &quot;-91283472332&quot; è¶…è¿‡ 32 ä½æœ‰ç¬¦å·æ•´æ•°èŒƒå›´ã€‚ å› æ­¤è¿”å› INT_MIN (âˆ’231) ã€‚ æ–¹æ³•ä¸€ï¼šæŒ‰æ¡ä»¶å¤šæ¬¡åˆ¤æ–­ æŒ‰é¢˜ç›®è¦æ±‚è¿›è¡Œå¦‚ä¸‹å¤„ç†å’Œåˆ¤æ–­ï¼š 1. strip()å»æ‰é¦–ä½ç©ºæ ¼å­—ç¬¦ 2. å¦‚æœå­—ç¬¦ä¸²ä¸ºç©ºï¼Œè¿”å›0 3. åˆ¤æ–­é¦–å­—ç¬¦æ˜¯å¦ä¸ºæ­£è´Ÿå· 4. éå†æ¯ä¸ªå­—ç¬¦ï¼Œè‹¥åœ¨0-9èŒƒå›´å†…ï¼Œåˆ™åŠ å…¥æ•°å­—ä¸­ï¼›å¦åˆ™breakã€‚ 5. ä¹˜ä¸Šæ­£è´Ÿå·ä¹‹åï¼Œåˆ¤æ–­æ•°å­—æ˜¯å¦è¶Šç•Œã€‚ 12345678910111213141516171819202122232425class Solution: def myAtoi(self, str): """ :type str: str :rtype: int """ str = str.strip() number, flag = 0, 1 if not str: return 0 if str[0] == '-' and len(str)&gt;1: str = str[1:] flag = -1 elif str[0] == '+' and len(str)&gt;1: str = str[1:] for c in str: if c &gt;= '0' and c &lt;= '9': number = 10*number + ord(c) - ord('0') else: break number = flag * number number = number if number &lt;= 2**31-1 else 2**31-1 number = number if number &gt;= -2**31 else -2**31 return number æ–¹æ³•äºŒï¼šæ­£åˆ™åŒ¹é… ç”¨æ­£åˆ™è¡¨è¾¾å¼æ¥åŒ¹é… 123456789101112131415161718192021222324252627282930class Solution: def myAtoi(self, str): """ :type str: str :rtype: int """ # å¯¼å…¥æ­£åˆ™æ¨¡å— import re # å­—ç¬¦ä¸²ä¸­æŸ¥æ‰¾å…¨éƒ¨ç¬¦åˆæ¡ä»¶çš„æ•´æ•°ï¼Œè¿”å›çš„æ˜¯åˆ—è¡¨ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ­£åˆ™ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯å­—ç¬¦ä¸² ret = re.findall(r"^[-+]?\d+", str.strip()) # strip()å­—ç¬¦ä¸²å»ç©ºæ ¼ # åˆ¤æ–­æ˜¯å¦æœ‰åŒ¹é…çš„å€¼ï¼Œæ²¡æœ‰çš„è¯è¿”å›0ï¼Œä¾‹å¦‚"word values 987"ï¼ŒåŒ¹é…ä¸åˆ°ï¼Œè¿”å›0 if ret: ret_str = ret[0] # åŒ¹é…çš„æ•°å­—çš„å­—ç¬¦ä¸² ret_str2 = "" # è®°å½•å»ç¬¦å·çš„å­—ç¬¦ä¸²ï¼Œret_stråé¢è¿˜è¦ä½¿ç”¨ï¼Œæ‰€ä»¥å®šä¹‰ä¸€ä¸ªæ–°çš„å˜é‡è®°å½• # åˆ¤æ–­æ˜¯å¦å¸¦æœ‰ç¬¦å· + or - if ret_str[0] == "-" or ret_str[0] == "+": ret_str2 = ret_str[1:] else: ret_str2 = ret_str # strè½¬int ret_int = int(ret_str2) # åˆ¤æ–­ç¬¬ä¸€ä¸ªå­—ç¬¦æ˜¯å¦ä¸ºè´Ÿå· if ret_str[0] == "-": # ä¸‰ç›®è¿ç®—ç¬¦ï¼Œåˆ¤æ–­æ˜¯å¦æº¢å‡º # å¦‚æœret_int &lt;= 2**31åˆ™è¿”å›-ret_intï¼Œå¦åˆ™è¿”å›-2**31 return -ret_int if ret_int &lt;= 2**31 else -2**31 else: return ret_int if ret_int &lt; 2**31 else 2**31-1 else: return 0 æ¯”æ–¹æ³•ä¸€çš„æ‰§è¡Œæ—¶é—´çŸ­ å‚è€ƒ Trieæ ‘ï¼ˆPrefix Treeï¼‰ä»‹ç»]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>LeetCode</tag>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>å­—ç¬¦ä¸²</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[pythonå®ç°æ•°æ®ç»“æ„ä¹‹å“ˆå¸Œè¡¨]]></title>
    <url>%2F2019%2F03%2F07%2Fpython-algo-hash%2F</url>
    <content type="text"><![CDATA[æ•£åˆ—è¡¨ï¼ˆHash tableï¼Œä¹Ÿå«å“ˆå¸Œè¡¨ï¼‰ï¼Œæ˜¯æ ¹æ®é”®ï¼ˆKeyï¼‰è€Œç›´æ¥è®¿é—®åœ¨å†…å­˜å­˜å‚¨ä½ç½®çš„æ•°æ®ç»“æ„ã€‚ å…·ä½“æ–¹æ³•æ˜¯ï¼š é€‰å®šä¸€ä¸ªæ•´æ•°çš„ä¸‹æ ‡èŒƒå›´ï¼ˆé€šå¸¸ä»¥ 0 æˆ– 1 å¼€å§‹)ï¼Œå»ºç«‹ä¸€ä¸ªåŒ…æ‹¬ç›¸åº”å…ƒç´ ä½ç½®èŒƒå›´çš„é¡ºåºè¡¨ã€‚ é€‰å®šä¸€ä¸ªä»å®é™…å…³é”®ç é›†åˆåˆ°ä¸Šè¿°ä¸‹æ ‡èŒƒå›´çš„é€‚å½“æ˜ å°„ h åœ¨éœ€è¦å­˜å…¥å…³é”®ç ä¸º key çš„æ•°æ®æ—¶ï¼Œå°†å…¶å­˜å…¥è¡¨ä¸­ç¬¬ h(key) ä¸ªä½ç½®ã€‚ é‡åˆ°ä»¥ key ä¸ºå…³é”®ç æ£€ç´¢æ•°æ®æ—¶ï¼Œç›´æ¥å»æ‰¾è¡¨ä¸­ç¬¬ h(key) ä¸ªä½ç½®çš„å…ƒç´ ã€‚ è¿™ä¸ª h ç§°ä¸ºæ•£åˆ—å‡½æ•°ï¼Œ ä¹Ÿå¸¸è¢«ç§°ä¸ºå“ˆå¸Œï¼ˆhash)å‡½æ•°æˆ–æ‚å‡‘å‡½æ•°ï¼Œå®ƒå°±æ˜¯ä»å¯èƒ½çš„å…³é”®ç é›†åˆåˆ°ä¸€ä¸ªæ•´æ•°åŒºé—´ï¼ˆä¸‹æ ‡åŒºé—´ï¼‰çš„æ˜ å°„ã€‚ å­¦ä¹ ç›®æ ‡ï¼š å®ç°ä¸€ä¸ªåŸºäºé“¾è¡¨æ³•è§£å†³å†²çªé—®é¢˜çš„æ•£åˆ—è¡¨ å®ç°ä¸€ä¸ª LRU ç¼“å­˜æ·˜æ±°ç®—æ³• LeetCode 1. ä¸¤æ•°ä¹‹å’Œ LeetCode 202. Happy Number å­—ç¬¦ä¸²ä¸­çš„ç¬¬ä¸€ä¸ªå”¯ä¸€å­—ç¬¦ å®ç°ä¸€ä¸ªåŸºäºé“¾è¡¨æ³•è§£å†³å†²çªé—®é¢˜çš„æ•£åˆ—è¡¨ åœ¨å­˜å‚¨æ•°æ®çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœå‘ç”Ÿå†²çªï¼Œå¯ä»¥åˆ©ç”¨é“¾è¡¨åœ¨å·²æœ‰æ•°æ®çš„åé¢æ’å…¥æ–°æ•°æ®æ¥è§£å†³å†²çªã€‚è¿™ç§æ–¹æ³•è¢«ç§°ä¸ºâ€œé“¾åœ°å€æ³•â€ã€‚ åœ¨å“ˆå¸Œè¡¨ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨å“ˆå¸Œå‡½æ•°å¿«é€Ÿè®¿é—®åˆ°æ•°ç»„ä¸­çš„ç›®æ ‡æ•°æ®ã€‚å¦‚æœå‘ç”Ÿå“ˆå¸Œå†²çªï¼Œå°±ä½¿ç”¨é“¾è¡¨è¿›è¡Œå­˜å‚¨ã€‚è¿™æ ·ä¸€æ¥ï¼Œä¸ç®¡æ•°æ®é‡ä¸ºå¤šå°‘ï¼Œæˆ‘ä»¬éƒ½èƒ½å¤Ÿçµæ´»åº”å¯¹ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455class HashTable: def __init__(self): self.size = 11 #å®¹é‡è‡ªå®šï¼Œä½†å¿…é¡»æ˜¯ç´ æ•° self.hash_table = [[] for _ in range(self.size)] # å­˜æ”¾keys-values # listä¸­çš„listæ˜¯åŒä¸€ä¸ªä½ç½®çš„å…ƒç´ é›†åˆ def insert(self,key,value): hash_value =hash(key)%self.size #å“ˆå¸Œå‡½æ•° key_exists = False bucket = self.hash_table[hash_value] for i, kv in enumerate(bucket): k, v = kv if key == k: key_exists = True break if key_exists: bucket[i] = ((key,value)) else: bucket.append((key,value)) def search(self, key): hash_value = hash(key)%self.size #å“ˆå¸Œå‡½æ•° bucket = self.hash_table[hash_value] for i, kv in enumerate(bucket): k, v = kv if key == k: return v def delete(self, key): hash_value = hash(key)%self.size #å“ˆå¸Œå‡½æ•° key_exists = False bucket = self.hash_table[hash_value] for i, kv in enumerate(bucket): k, v = kv if key == k: key_exists = True break if key_exists: del bucket[i] return v else: return 0 if __name__ == '__main__': H=HashTable() H.insert(2,"lion") H.insert(10,"cat") H.insert(25,"dog") print(H.hash_table) # è¾“å‡º H.insert(10,"kitty") H.insert(21,"tiger") print(H.hash_table) # è¾“å‡º print("æŸ¥æ‰¾10çš„å€¼ä¸º"+ H.search(10)) print("åˆ é™¤10ï¼Œå€¼ä¸º" + H.delete(10)) print(H.hash_table) # è¾“å‡º è¾“å‡ºï¼š 12345[[], [], [(2, &apos;lion&apos;)], [(25, &apos;dog&apos;)], [], [], [], [], [], [], [(10, &apos;cat&apos;)]][[], [], [(2, &apos;lion&apos;)], [(25, &apos;dog&apos;)], [], [], [], [], [], [], [(10, &apos;kitty&apos;), (21, &apos;tiger&apos;)]]æŸ¥æ‰¾10çš„å€¼ä¸ºkittyåˆ é™¤10ï¼Œå€¼ä¸ºkitty[[], [], [(2, &apos;lion&apos;)], [(25, &apos;dog&apos;)], [], [], [], [], [], [], [(21, &apos;tiger&apos;)]] å¦‚æœæ•°ç»„çš„ç©ºé—´å¤ªå°ï¼Œä½¿ç”¨å“ˆå¸Œè¡¨çš„æ—¶å€™å°±å®¹æ˜“å‘ç”Ÿå†²çªï¼Œçº¿æ€§æŸ¥æ‰¾çš„ä½¿ç”¨é¢‘ç‡ä¹Ÿä¼šæ›´é«˜ï¼›åè¿‡æ¥ï¼Œå¦‚æœæ•°ç»„çš„ç©ºé—´å¤ªå¤§ï¼Œå°±ä¼šå‡ºç°å¾ˆå¤šç©ºç®±å­ï¼Œé€ æˆå†…å­˜çš„æµªè´¹ã€‚å› æ­¤ï¼Œç»™æ•°ç»„è®¾å®šåˆé€‚çš„ç©ºé—´éå¸¸é‡è¦ã€‚ LeetCode 146. LRUç¼“å­˜æœºåˆ¶ LRU Cache ä¸€ä¸ªç”¨hashè¡¨ä½œä¸ºåº•å±‚ç»“æ„çš„æ•°æ®åº“ï¼Œå½“ç„¶å°‘ä¸äº†ç¼“å­˜æ·˜æ±°ç®—æ³•ã€‚å½“ç¼“å­˜éœ€è¦è¢«æ¸…ç†æ—¶ï¼ˆæ¯”å¦‚ç©ºé—´å ç”¨å·²ç»æ¥è¿‘ä¸´ç•Œå€¼äº†ï¼‰ï¼Œéœ€è¦ä½¿ç”¨æŸç§æ·˜æ±°ç®—æ³•æ¥å†³å®šæ¸…ç†æ‰å“ªäº›æ•°æ®ã€‚ LRUï¼šLeast Recently Usedï¼Œæœ€è¿‘æœ€å°‘ä½¿ç”¨ã€‚åˆ¤æ–­æœ€è¿‘è¢«ä½¿ç”¨çš„æ—¶é—´ï¼Œç›®å‰æœ€è¿œçš„æ•°æ®ä¼˜å…ˆè¢«æ·˜æ±°ï¼Œå…¶æ ¸å¿ƒæ€æƒ³æ˜¯â€œå¦‚æœæ•°æ®æœ€è¿‘è¢«è®¿é—®è¿‡ï¼Œé‚£ä¹ˆå°†æ¥è¢«è®¿é—®çš„å‡ ç‡ä¹Ÿæ›´é«˜â€ã€‚ LRU ç®—æ³•è¿‡ç¨‹ï¼š æ–°æ•°æ®æ’å…¥åˆ°é“¾è¡¨å¤´éƒ¨ï¼› æ¯å½“ç¼“å­˜å‘½ä¸­ï¼ˆå³ç¼“å­˜æ•°æ®è¢«è®¿é—®ï¼‰ï¼Œåˆ™å°†æ•°æ®ç§»åˆ°é“¾è¡¨å¤´éƒ¨ï¼› å½“é“¾è¡¨æ»¡çš„æ—¶å€™ï¼Œå°†é“¾è¡¨å°¾éƒ¨çš„æ•°æ®ä¸¢å¼ƒã€‚ è¿™ä¸ªç¼“å­˜å™¨ä¸»è¦æœ‰ä¸¤ä¸ªæˆå‘˜å‡½æ•°ï¼Œget å’Œ putã€‚ å…¶ä¸­ get å‡½æ•°æ˜¯é€šè¿‡è¾“å…¥ key æ¥è·å¾— valueï¼Œå¦‚æœæˆåŠŸè·å¾—åï¼Œè¿™å¯¹ (key, value) å‡è‡³ç¼“å­˜å™¨ä¸­æœ€å¸¸ç”¨çš„ä½ç½®ï¼ˆé¡¶éƒ¨ï¼‰ï¼Œå¦‚æœ key ä¸å­˜åœ¨ï¼Œåˆ™è¿”å› -1 ã€‚ è€Œ put å‡½æ•°æ˜¯æ’å…¥ä¸€å¯¹æ–°çš„ (key, value)ï¼Œå¦‚æœåŸç¼“å­˜å™¨ä¸­æœ‰è¯¥ keyï¼Œåˆ™éœ€è¦å…ˆåˆ é™¤æ‰åŸæœ‰çš„ï¼Œå°†æ–°çš„æ’å…¥åˆ°ç¼“å­˜å™¨çš„é¡¶éƒ¨ã€‚å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™ç›´æ¥æ’å…¥åˆ°é¡¶éƒ¨ã€‚ è‹¥åŠ å…¥æ–°çš„å€¼åç¼“å­˜å™¨è¶…è¿‡äº†å®¹é‡ï¼Œåˆ™éœ€è¦åˆ æ‰ä¸€ä¸ªæœ€ä¸å¸¸ç”¨çš„å€¼ï¼Œä¹Ÿå°±æ˜¯åº•éƒ¨çš„å€¼ã€‚ 123456789101112131415161718192021222324252627282930class LRUCache: def __init__(self, capacity: int): self.cap = capacity # å®¹é‡ self._cache = [] #ç¼“å­˜ self._cacheMap = &#123;&#125; #ç¼“å­˜å“ˆå¸Œè¡¨ def get(self, key: int) -&gt; int: if key not in self._cacheMap: return -1 self._cache.remove(key) self._cache.append(key) return self._cacheMap[key] def put(self, key: int, value: int) -&gt; None: if key in self._cacheMap: self._cacheMap[key] = value self._cache.remove(key) self._cache.append(key) else: if len(self._cache) == self.cap: x = self._cache.pop(0) del self._cacheMap[x] self._cache.append(key) self._cacheMap[key] = value# Your LRUCache object will be instantiated and called as such:# obj = LRUCache(capacity)# param_1 = obj.get(key)# obj.put(key,value) LeetCode 1. ä¸¤æ•°ä¹‹å’Œ Two Sum ## é¢˜ç›®æè¿° ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’Œä¸€ä¸ªç›®æ ‡å€¼ targetï¼Œè¯·ä½ åœ¨è¯¥æ•°ç»„ä¸­æ‰¾å‡ºå’Œä¸ºç›®æ ‡å€¼çš„é‚£ä¸¤ä¸ªæ•´æ•°ï¼Œå¹¶è¿”å›ä»–ä»¬çš„æ•°ç»„ä¸‹æ ‡ã€‚ ä½ å¯ä»¥å‡è®¾æ¯ç§è¾“å…¥åªä¼šå¯¹åº”ä¸€ä¸ªç­”æ¡ˆã€‚ä½†æ˜¯ï¼Œä½ ä¸èƒ½é‡å¤åˆ©ç”¨è¿™ä¸ªæ•°ç»„ä¸­åŒæ ·çš„å…ƒç´ ã€‚ ç¤ºä¾‹: ç»™å®š nums = [2, 7, 11, 15], target = 9 å› ä¸º nums[0] + nums[1] = 2 + 7 = 9 æ‰€ä»¥è¿”å› [0, 1] æ–¹æ³•ï¼šå“ˆå¸Œè¡¨ åˆ©ç”¨pythonä¸­çš„å­—å…¸è®°å½•è®°å½•ä¸‹æ¯ä¸ªå…ƒç´ å‡ºç°çš„ä½ç½® 12345678910111213141516class Solution(object): def twoSum(self, nums, target): """ :type nums: List[int] :type target: int :rtype: List[int] """ dic = dict() for index,value in enumerate(nums): sub = target - value if sub in dic: return [dic[sub], index] else: dic[value]=index LeetCode 202. Happy Number 202. å¿«ä¹æ•° ç¼–å†™ä¸€ä¸ªç®—æ³•æ¥åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯ä¸æ˜¯â€œå¿«ä¹æ•°â€ã€‚ ä¸€ä¸ªâ€œå¿«ä¹æ•°â€å®šä¹‰ä¸ºï¼šå¯¹äºä¸€ä¸ªæ­£æ•´æ•°ï¼Œæ¯ä¸€æ¬¡å°†è¯¥æ•°æ›¿æ¢ä¸ºå®ƒæ¯ä¸ªä½ç½®ä¸Šçš„æ•°å­—çš„å¹³æ–¹å’Œï¼Œç„¶åé‡å¤è¿™ä¸ªè¿‡ç¨‹ç›´åˆ°è¿™ä¸ªæ•°å˜ä¸º 1ï¼Œä¹Ÿå¯èƒ½æ˜¯æ— é™å¾ªç¯ä½†å§‹ç»ˆå˜ä¸åˆ° 1ã€‚å¦‚æœå¯ä»¥å˜ä¸º 1ï¼Œé‚£ä¹ˆè¿™ä¸ªæ•°å°±æ˜¯å¿«ä¹æ•°ã€‚ ç¤ºä¾‹: 1234567è¾“å…¥: 19è¾“å‡º: trueè§£é‡Š: 12 + 92 = 8282 + 22 = 6862 + 82 = 10012 + 02 + 02 = 1 æ–¹æ³•ä¸€ æŒ‰ç…§â€œhappy numberâ€çš„å®šä¹‰ï¼Œç›´æ¥å¾ªç¯è®¡ç®—å„ä½å¹³æ–¹å’Œï¼Œè§‚å¯Ÿæ”¶æ•›åˆ°1 12345678910class Solution: def isHappy(self, n: int) -&gt; bool: mem = set() while n!=1: n = sum([int(x)*int(x) for x in list(str(n))]) if n in mem: return False else: mem.add(n) return True æ–¹æ³•äºŒ å…ˆæ±‚å‡º100ä»¥å†…çš„æ‰€æœ‰happy numberï¼Œ æŒ‰ç…§â€œhappy numberâ€çš„å®šä¹‰ï¼Œç›´æ¥å¾ªç¯è®¡ç®—å„ä½å¹³æ–¹å’Œï¼Œè§‚å¯Ÿæ”¶æ•›åˆ°100ä¹‹å†…åçš„æ•°å€¼æ˜¯å¦åœ¨åˆ—è¡¨ä¹‹å†…ã€‚ 1234567class Solution: def isHappy(self, n: int) -&gt; bool: # 100ä»¥å†…çš„happyNumber happySet = set([1, 7, 10, 13, 19, 23, 28, 31, 32, 44, 49, 68, 70, 79, 82, 86, 91, 94, 97]) while n&gt;99: n = sum([int(x)*int(x) for x in list(str(n))]) return n in happySet 387. å­—ç¬¦ä¸²ä¸­çš„ç¬¬ä¸€ä¸ªå”¯ä¸€å­—ç¬¦ ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ‰¾åˆ°å®ƒçš„ç¬¬ä¸€ä¸ªä¸é‡å¤çš„å­—ç¬¦ï¼Œå¹¶è¿”å›å®ƒçš„ç´¢å¼•ã€‚å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™è¿”å› -1ã€‚ æ¡ˆä¾‹: s = â€œleetcodeâ€ è¿”å› 0. s = â€œloveleetcodeâ€, è¿”å› 2. æ³¨æ„äº‹é¡¹ï¼šæ‚¨å¯ä»¥å‡å®šè¯¥å­—ç¬¦ä¸²åªåŒ…å«å°å†™å­—æ¯ã€‚ æ–¹æ³• é¦–å…ˆåšä¸ªå­—ç¬¦å‡ºç°æ¬¡æ•°çš„ç»Ÿè®¡ï¼Œç„¶åå†æ¬¡éå†ï¼Œæ‰¾å‡ºåªå‡ºç°äº†ä¸€æ¬¡çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ã€‚ 1234567class Solution: def firstUniqChar(self, s: str) -&gt; int: counter = collections.Counter(s) for i,c in enumerate(s): if counter[c] == 1: return i return -1 å‚è€ƒ ç¼“å­˜æ·˜æ±°ç®—æ³•â€“LRUç®—æ³• çœ‹åŠ¨ç”»ç†è§£ã€Œé“¾è¡¨ã€å®ç°LRUç¼“å­˜æ·˜æ±°ç®—æ³• ã€Šæˆ‘çš„ç¬¬ä¸€æœ¬ç®—æ³•ä¹¦ã€‹ Hash Table implementation in Python [Data Structures &amp; Algorithms]]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>LeetCode</tag>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>å“ˆå¸Œè¡¨</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[pythonè§£LeetCodeäºŒåˆ†æŸ¥æ‰¾(1)]]></title>
    <url>%2F2019%2F03%2F06%2Fpython_leetcode-binary-search(1)%2F</url>
    <content type="text"><![CDATA[å­¦ä¹ ç›®æ ‡ï¼š å®ç°ä¸€ä¸ªæœ‰åºæ•°ç»„çš„äºŒåˆ†æŸ¥æ‰¾ç®—æ³• å®ç°æ¨¡ç³ŠäºŒåˆ†æŸ¥æ‰¾ç®—æ³• å¤§äºç»™å®šå€¼çš„ç¬¬ä¸€ä¸ªå…ƒç´  LeetCode 69. x çš„å¹³æ–¹æ ¹ LeetCode 35. æœç´¢æ’å…¥ä½ç½® LeetCode 34. åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½® äºŒåˆ†æŸ¥æ‰¾ æŸ¥æ‰¾å’Œç›®æ ‡å€¼ k å®Œå…¨ç›¸ç­‰çš„æ•° 12345678910111213141516171819def BinarySearch(lst,k): left = 0 right = len(lst)-1 while left &lt;= right: mid = (left+right)//2 if lst[mid] &lt; k: left = mid + 1 elif lst[mid] &gt; k: right = mid - 1 else: return mid return -1if __name__ == "__main__": lst = [1,2,3,34,56,57,78,87] print(BinarySearch(lst,2)) æ¨¡ç³ŠäºŒåˆ†æŸ¥æ‰¾ å¯èƒ½æ˜¯è·Ÿç›®æ ‡å€¼ç›¸ç­‰çš„æ•°åœ¨æ•°ç»„ä¸­å¹¶ä¸å”¯ä¸€ï¼Œè€Œæ˜¯æœ‰å¤šä¸ªï¼Œé‚£ä¹ˆè¿™ç§æƒ…å†µä¸‹nums[mid] == targetè¿™æ¡åˆ¤æ–­è¯­å¥å°±æ²¡æœ‰å¿…è¦å­˜åœ¨ã€‚ å¤§äºç»™å®šå€¼çš„ç¬¬ä¸€ä¸ªå…ƒç´  æŸ¥æ‰¾æ•°ç»„ä¸­ç¬¬ä¸€ä¸ªæ¯” target å¤§çš„æ•°çš„ä¸‹æ ‡ã€‚ 123456789101112131415161718192021def searchInsert(nums, target): """ :type nums: List[int] :type target: int :rtype: int """ left = 0 right = len(nums)-1 while left &lt;= right: mid = (right+left)//2 if nums[mid] &gt; target: right = mid-1 else: left = mid+1 return right+1if __name__ == "__main__": lst =[1,2,3,3,3,5,5,10,8] print(searchInsert(lst,5)) è¾“å‡º7 è¿˜å¯å˜å½¢ä¸ºæŸ¥æ‰¾æœ€åä¸€ä¸ªä¸å¤§äºç›®æ ‡å€¼çš„æ•°ã€‚ æˆ‘ä»¬å·²ç»æ‰¾åˆ°äº†ç¬¬ä¸€ä¸ªå¤§äºç›®æ ‡å€¼çš„æ•°ï¼Œé‚£ä¹ˆå†å¾€å‰é€€ä¸€ä½ï¼Œä½ç½® - 1ï¼Œå°±æ˜¯æœ€åä¸€ä¸ªä¸å¤§äºç›®æ ‡å€¼çš„æ•°ã€‚æ¯”å¦‚åœ¨æ•°ç»„[0, 1, 1, 1, 1, 5]ä¸­æŸ¥æ‰¾æ•°å­—1ï¼Œå°±ä¼šè¿”å›æœ€åä¸€ä¸ªæ•°å­—1çš„ä½ç½®4ã€‚ if nums[mid] &gt; target: ä¸­çš„â€™&gt;â€™ æ”¹ä¸º â€˜&gt;=â€™ï¼Œå°±èƒ½æ‰¾åˆ°å¤§äºç­‰äºç»™å®šå€¼çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚å¾€å‰é€€ä¸€ä½ï¼Œå¯å˜å½¢ä¸ºæŸ¥æ‰¾æœ€åä¸€ä¸ªå°äºç›®æ ‡å€¼çš„æ•°ã€‚ 69. x çš„å¹³æ–¹æ ¹ å®ç° int sqrt(int x) å‡½æ•°ã€‚ è®¡ç®—å¹¶è¿”å› x çš„å¹³æ–¹æ ¹ï¼Œå…¶ä¸­ x æ˜¯éè´Ÿæ•´æ•°ã€‚ ç”±äºè¿”å›ç±»å‹æ˜¯æ•´æ•°ï¼Œç»“æœåªä¿ç•™æ•´æ•°çš„éƒ¨åˆ†ï¼Œå°æ•°éƒ¨åˆ†å°†è¢«èˆå»ã€‚ ç¤ºä¾‹ 1: 12è¾“å…¥: 4è¾“å‡º: 2 ç¤ºä¾‹ 2: 1234è¾“å…¥: 8è¾“å‡º: 2è¯´æ˜: 8 çš„å¹³æ–¹æ ¹æ˜¯ 2.82842..., ç”±äºè¿”å›ç±»å‹æ˜¯æ•´æ•°ï¼Œå°æ•°éƒ¨åˆ†å°†è¢«èˆå»ã€‚ æ–¹æ³•ï¼šäºŒåˆ†æŸ¥æ‰¾ 1234567891011121314class Solution: def mySqrt(self, x: int) -&gt; int: left = 0 right = x while left &lt;= right: mid = (left+right)//2 if mid * mid &lt; x: left = mid + 1 elif mid * mid &gt; x: right = mid -1 else: return mid return left -1 35. æœç´¢æ’å…¥ä½ç½® Search Insert Position é¢˜ç›®æè¿° ç»™å®šä¸€ä¸ªæ’åºæ•°ç»„å’Œä¸€ä¸ªç›®æ ‡å€¼ï¼Œåœ¨æ•°ç»„ä¸­æ‰¾åˆ°ç›®æ ‡å€¼ï¼Œå¹¶è¿”å›å…¶ç´¢å¼•ã€‚å¦‚æœç›®æ ‡å€¼ä¸å­˜åœ¨äºæ•°ç»„ä¸­ï¼Œè¿”å›å®ƒå°†ä¼šè¢«æŒ‰é¡ºåºæ’å…¥çš„ä½ç½®ã€‚ ä½ å¯ä»¥å‡è®¾æ•°ç»„ä¸­æ— é‡å¤å…ƒç´ ã€‚ ç¤ºä¾‹ 1: è¾“å…¥: [1,3,5,6], 5 è¾“å‡º: 2 ç¤ºä¾‹ 2: è¾“å…¥: [1,3,5,6], 2 è¾“å‡º: 1 ç¤ºä¾‹ 3: è¾“å…¥: [1,3,5,6], 7 è¾“å‡º: 4 æ–¹æ³•ï¼šäºŒåˆ†æŸ¥æ‰¾ 1234567891011121314151617181920class Solution(object): def searchInsert(self, nums, target): """ :type nums: List[int] :type target: int :rtype: int """ left = 0 right = len(nums)-1 while left &lt;= right: mid = (right-left)/2 + left if nums[mid] == target: return mid elif nums[mid] &gt; target: right = mid-1 else: left = mid+1 return left 34. åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½® ç»™å®šä¸€ä¸ªæŒ‰ç…§å‡åºæ’åˆ—çš„æ•´æ•°æ•°ç»„ numsï¼Œå’Œä¸€ä¸ªç›®æ ‡å€¼ targetã€‚æ‰¾å‡ºç»™å®šç›®æ ‡å€¼åœ¨æ•°ç»„ä¸­çš„å¼€å§‹ä½ç½®å’Œç»“æŸä½ç½®ã€‚ ä½ çš„ç®—æ³•æ—¶é—´å¤æ‚åº¦å¿…é¡»æ˜¯ O(log n) çº§åˆ«ã€‚ å¦‚æœæ•°ç»„ä¸­ä¸å­˜åœ¨ç›®æ ‡å€¼ï¼Œè¿”å› [-1, -1]ã€‚ ç¤ºä¾‹ 1: 12è¾“å…¥: nums = [5,7,7,8,8,10], target = 8è¾“å‡º: [3,4] ç¤ºä¾‹ 2: 12è¾“å…¥: nums = [5,7,7,8,8,10], target = 6è¾“å‡º: [-1,-1] æ–¹æ³• 12345678910111213141516171819class Solution: def searchRange(self, nums: List[int], target: int) -&gt; List[int]: if not nums: return [-1,-1] left = 0 right = len(nums)-1 while left &lt;= right: mid = (right+left)//2 if nums[mid] &gt; target: right = mid-1 else: left = mid+1 if nums[right] != target: return [-1,-1] l = right while l&gt;0 and nums[l-1] == target: l -= 1 return [l,right]]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>LeetCode</tag>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>äºŒåˆ†æŸ¥æ‰¾</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[pythonå®ç°æ’åºç®—æ³•]]></title>
    <url>%2F2019%2F03%2F04%2Fpython-leetcode-sorting(0)%2F</url>
    <content type="text"><![CDATA[å­¦ä¹ ç›®æ ‡ï¼š å®ç°å½’å¹¶æ’åºã€å¿«é€Ÿæ’åºã€æ’å…¥æ’åºã€å†’æ³¡æ’åºã€é€‰æ‹©æ’åºã€å †æ’åº LeetCode 215. æ•°ç»„ä¸­çš„ç¬¬Kä¸ªæœ€å¤§å…ƒç´  æ’å…¥æ’åº æ¯æ¬¡å‡è®¾å‰é¢çš„å…ƒç´ éƒ½æ˜¯å·²ç»æ’å¥½åºäº†çš„ï¼Œç„¶åå°†å½“å‰ä½ç½®çš„å…ƒç´ æ’å…¥åˆ°å‰é¢å·²æ’å¥½åºçš„åºåˆ—ä¸­ã€‚ 123456789101112def insert_sort(lst): for index in range(1, len(lst)): #å¼€å§‹æ—¶[0,1]å·²æ’åº x = lst[index] #å¾…æ’åºçš„å…ƒç´  p = index # ä»ä½ç½®jå¾€å‰å¼€å§‹æ¯”è¾ƒ while p&gt;0 and lst[p-1] &gt; x: lst[p] = lst[p-1] p -= 1 lst[p] = xlst = [63,21,44,3,67,9,6,86,12]insert_sort(lst)print(lst) ç©ºé—´å¤æ‚åº¦æ˜¯\(O(1)\) å¹³å‡æ—¶é—´å¤æ‚åº¦\(O(n^2)\) äºŒåˆ†æŸ¥æ‰¾çš„æ’å…¥æ’åº åœ¨æ’äººæ’åºä¸­éœ€è¦æ£€ç´¢å…ƒç´ çš„æ’äººä½ç½®ï¼Œ è€Œä¸”æ˜¯åœ¨æ’åºçš„(éƒ¨åˆ†)åºåˆ—é‡Œæ£€ç´¢ã€‚ è¿™æç¤ºäº†å¦ä¸€å¯èƒ½æ–¹æ¡ˆï¼š é‡‡ç”¨äºŒåˆ†æŸ¥æ‰¾ã€‚ 1234567891011121314151617181920def insert_sort_binarysearch(lst): for index in range(1, len(lst)): x = lst[index] p = index low = 0 high = index-1 while high &gt;= low: mid = (high+low)//2 if lst[mid] &gt; x: high = mid-1 else: low = mid+1 while p &gt; low: lst[p] = lst[p-1] p -= 1 lst[p] = xlst = [63,21,44,3,67,9,6,86,12]insert_sort_binarysearch(lst)print(lst) ä½†è¿™ç§åšæ³•ä¸å¯èƒ½ä»æ ¹æœ¬ä¸Šæ”¹å˜ç®—æ³•çš„æ€§è´¨ï¼š è™½ç„¶æ¯æ¬¡æ£€ç´¢ä½ç½®çš„ä»£ä»·é™ä½äº†ï¼Œ ä½†æ‰¾åˆ°ä½ç½®åè¿˜éœ€è¦é¡ºåºç§»åŠ¨å…ƒç´ ï¼Œ è…¾å‡ºç©ºä½å°†å…ƒç´ æ’äººã€‚ åä¸€æ“ä½œä»ç„¶å¯èƒ½éœ€è¦çº¿æ€§æ—¶é—´ã€‚ é€‰æ‹©æ’åº æ€è·¯ï¼š 1. ä»¥ç©ºåºåˆ—ä½œä¸ºæ’åºå·¥ä½œçš„å¼€å§‹ï¼Œ 2. éå†ï¼Œæ¯æ¬¡ä»å‰©ä½™æœªæ’åºçš„å…ƒç´ ä¸­é€‰å–æœ€å°å€¼ï¼Œ å°†å…¶æ”¾åœ¨å·²æ’åºçš„\(i\)ä¸ªå…ƒç´ çš„åé¢ï¼Œä½œä¸ºåºåˆ—çš„ç¬¬\(i+ 1\)ä¸ªå…ƒç´ ï¼Œ ä½¿å·²æ’åºåºåˆ—å¢é•¿ã€‚ 3. åšåˆ°å°šæœªæ’åºçš„åºåˆ—é‡Œåªå‰©ä¸€ä¸ªå…ƒç´ æ—¶ï¼ˆå®ƒå¿…ç„¶ä¸ºæœ€å¤§)ï¼Œåªéœ€ç›´æ¥å°†å…¶æ”¾åœ¨å·²æ’åºçš„è®°å½•ä¹‹åï¼Œ æ•´ä¸ªæ’åºå°±å®Œæˆäº†ã€‚ éœ€è¦è§£å†³ä¸¤ä¸ªé—®é¢˜ï¼š ç¬¬ä¸€æ˜¯å¦‚ä½•é€‰æ‹©å…ƒç´ ï¼› ç¬¬äºŒæ˜¯åšå‡ºé€‚å½“å®‰æ’ï¼Œå°½å¯èƒ½åˆ©ç”¨ç°æœ‰åºåˆ—çš„å­˜å‚¨ç©ºé—´ï¼Œé¿å…å¦è¡Œå®‰æ’å­˜å‚¨ã€‚ - æœ€ç®€å•çš„é€‰æ‹©æ–¹æ³•æ˜¯é¡ºåºæ‰«æåºåˆ—ä¸­çš„å…ƒç´ ï¼Œ è®°ä½é‡åˆ°çš„æœ€å°å…ƒç´ ã€‚ ä¸€æ¬¡æ‰«æå®Œæ¯•å°±æ‰¾åˆ°äº†ä¸€ä¸ªæœ€å°å…ƒç´ ã€‚åå¤æ‰«æå°±èƒ½å®Œæˆæ’åºå·¥ä½œã€‚ - é€‰å‡ºäº†ä¸€ä¸ªå…ƒç´ ï¼ŒåŸæ¥çš„åºåˆ—ä¸­å°±å‡ºç°äº†ä¸€ä¸ªç©ºä½ï¼Œå¯ä»¥æŠŠè¿™äº›ç©ºä½é›†ä¸­èµ·æ¥å­˜æ”¾æ’å¥½åºçš„åºåˆ—ã€‚ åœ¨æ’åºè¿‡ç¨‹ä¸­çš„ä»»ä½•æ—¶åˆ»ï¼Œ è¡¨çš„å‰æ®µç§¯ç´¯äº†ä¸€æ‰¹é€’å¢çš„å·²ç»æ’å¥½åºçš„å…ƒç´ ï¼Œè€Œä¸”å®ƒä»¬éƒ½ä¸å¤§äºä»»ä½•ä¸€ä¸ªæœªæ’åºè®°å½•ã€‚ ä¸‹ä¸€æ­¥ä»æœªæ’åºæ®µä¸­é€‰å²€æœ€å°çš„å…ƒç´ ï¼Œ å°†å…¶å­˜æ”¾åœ¨å·²æ’åºå…ƒç´ æ®µçš„åé¢(ç›´æ¥äº¤æ¢ç´§éšå·²æ’åºæ®µçš„é‚£ä¸ªä½ç½®å’Œæœ€å°å€¼)ã€‚ è¿™æ ·åœ¨åªå‰©ä¸€ä¸ªå…ƒç´ æ—¶ï¼Œ ä¸€å®šæœ€å¤§å€¼ï¼Œ å·¥ä½œå³å¯ç»“æŸã€‚ 123456789101112def select_sort(lst): for index in range(len(lst)-1): #ä¸éœ€è¦å¾ªç¯æœ€åä¸€ä¸ªå…ƒç´  k = index # ä»indexä½ç½®å¼€å§‹å¾€åéå†æ¯”è¾ƒæ‰¾åˆ°æœ€å°å…ƒç´  for j in range(index, len(lst)): if lst[j] &lt; lst[k]: k = j if index != k: # ç¡®è®¤ä¸æ˜¯åŒä¸€ä¸ªä½ç½® lst[index],lst[k] = lst[k], lst[index] #äº¤æ¢å…ƒç´  lst = [63,21,44,3,67,9,6,86,12]select_sort(lst)print(lst) ç©ºé—´å¤æ‚åº¦æ˜¯\(O(1)\) æ—¶é—´å¤æ‚åº¦æ˜¯\(O(n^2)\) é€‰æ‹©æ’åºæ¯”è¾ƒä½æ•ˆï¼Œ åŸå› å°±åœ¨äºå…¶ä¸­çš„é¡ºåºæ¯”è¾ƒï¼š æ¯æ¬¡é€‰æ‹©ä¸€ä¸ªå…ƒç´ ï¼Œ éƒ½æ˜¯ä»å¤´å¼€å§‹åšä¸€éå®Œå…¨çš„æ¯”è¾ƒï¼Œ åœ¨æ•´ä¸ªæ’åºè¿‡ç¨‹ä¸­åšäº†å¾ˆå¤šé‡å¤æ¯”è¾ƒå·¥ä½œã€‚ å †æ’åº å¦‚æœåœ¨ä¸€ä¸ªè¿ç»­è¡¨é‡Œå­˜å‚¨çš„æ•°æ®æ˜¯ä¸€ä¸ªå°é¡¶å †ï¼ˆ å…ƒç´ ä¹‹é—´çš„å…³ç³»æ»¡è¶³å †åº )ï¼Œ æŒ‰ä¼˜å…ˆé˜Ÿåˆ—çš„æ“ä½œæ–¹å¼åå¤å¼¹å‡ºå †é¡¶å…ƒç´ ï¼Œ èƒ½å¤Ÿå¾—åˆ°ä¸€ä¸ªé€’å¢åºåˆ—ã€‚ 1234567891011121314151617181920212223def heap_sort(elems): def siftdown(elems,e,begin,end):# å»ºç«‹å¤§æ ¹å †ï¼Œæ’åº i, j = begin, begin*2+1 while j &lt; end: if j+1&lt;end and elems[j+1] &gt; elems[j]: j = j+1 #å·¦å³å­æ ‘æ¯”è¾ƒï¼Œé€‰æ‹©è¾ƒå¤§çš„ä¸ºj if e &gt; elems[j]: break #eæ¯”å·¦å³å­æ ‘éƒ½å¤§ï¼Œé‚£å°±ä¸ç”¨ä¸‹ç§»æ¯”è¾ƒäº† elems[i] = elems[j] i, j = j, j*2+1 #ä¸‹ç§» elems[i] = e end = len(elems) for i in range(end//2,-1,-1):#å»ºç«‹å † siftdown(elems,elems[i],i,end) for i in range(end-1, 0, -1):#æ’åº e = elems[i] elems[i] = elems[0] siftdown(elems,e,0,i) l=[-1,26,5,77,1,61,11,59,15,48,19] heap_sort(l)print(l) æ—¶é—´å¤æ‚åº¦æ˜¯\(O(nlogn)\) å†’æ³¡æ’åº å†’æ³¡æ’åºå°±æ˜¯é‡å¤â€œä»åºåˆ—å³è¾¹å¼€å§‹æ¯”è¾ƒç›¸é‚»ä¸¤ä¸ªæ•°å­—çš„å¤§å°ï¼Œå†æ ¹æ®ç»“æœäº¤æ¢ä¸¤ä¸ªæ•°å­—çš„ä½ç½®â€è¿™ä¸€æ“ä½œçš„ç®—æ³•ã€‚ æ¯ä¸€è½®æ“ä½œï¼ˆæ¯”è¾ƒå’Œäº¤æ¢ï¼‰éƒ½ä¼šæœ‰ä¸€ä¸ªæœ€å¤§å€¼ç§»åˆ°å³ç«¯ã€‚ åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæ•°å­—ä¼šåƒæ³¡æ³¡ä¸€æ ·ï¼Œæ…¢æ…¢ä»å·¦å¾€å³â€œæµ®â€åˆ°åºåˆ—çš„ä¸€ç«¯ï¼Œæ‰€ä»¥è¿™ä¸ªç®—æ³•æ‰è¢«ç§°ä¸ºâ€œå†’æ³¡æ’åºâ€ã€‚ é€šè¿‡ä¸€ééæ‰«æï¼Œè¡¨çš„æœ€åå°†ç§¯ç´¯èµ·è¶Šæ¥è¶Šå¤šæ’å¥½é¡ºåºçš„å¤§å…ƒç´ ã€‚ æ¯éæ‰«æï¼Œè¿™æ®µå…ƒç´ å¢åŠ ä¸€ä¸ªï¼Œç»è¿‡ n-1 éæ‰«æï¼Œä¸€å®šèƒ½å®Œæˆæ’åºã€‚ æ­¤å¤–ï¼Œåšä¸€éï¼Œæ‰«æçš„èŒƒå›´å¯ä»¥ç¼©çŸ­ä¸€é¡¹ã€‚ æŠŠè¿™äº›è€ƒè™‘ç»¼åˆèµ·æ¥å°±å¾—åˆ°äº†ä¸‹é¢çš„ç®—æ³•ï¼š 12345678910def bubble_sort(lst): for i in range(len(lst)): for j in range(1,len(lst)-i): if lst[j-1] &gt; lst[j]: lst[j-1],lst[j] = lst[j], lst[j-1] l=[-1,26,5,77,1,61,11,59,15,48,19] bubble_sort(l)print(l) æ”¹è¿› è™½ç„¶æœ‰æ—¶èµ·æ³¡æ’åºç¡®å®éœ€è¦åšæ»¡ n-1 éï¼Œä½†é‚£æ˜¯ç‰¹ä¾‹ï¼Œåªæœ‰è¢«æ’åºè¡¨çš„æœ€å°å…ƒç´ æ°å¥½åœ¨æœ€åæ—¶æ‰ä¼šå‡ºç°è¿™ç§æƒ…å†µã€‚ åœ¨å…¶ä»–æƒ…å†µä¸‹ï¼Œæ‰«æå°±ä¸éœ€è¦åšé‚£ä¹ˆå¤šæ¬¡ï¼Œå¦‚æœå‘ç°æ’åºå·²ç»å®Œæˆå°±å¯ä»¥åŠæ—©ç»“æŸã€‚ å¦‚æœåœ¨ä¸€æ¬¡æ‰«æä¸­æ²¡é‡åˆ°é€†åºï¼Œå°±è¯´æ˜æ’åºå·¥ä½œå·²ç»å®Œæˆï¼Œ å¯ä»¥æå‰ç»“æŸäº†ã€‚ 12345678910111213def bubble_sort(lst): for i in range(len(lst)): found = False for j in range(1,len(lst)-i): if lst[j-1] &gt; lst[j]: lst[j-1],lst[j] = lst[j], lst[j-1] found = True #æœ‰é€†åº if not found:# å¦‚æœæ²¡æœ‰é€†åº break #å¯ä»¥è·³å‡ºå¾ªç¯ç»“æŸäº† l=[-1,26,5,77,1,61,11,59,15,48,19] bubble_sort(l)print(l) å½’å¹¶æ’åº å½’å¹¶æ’åºç®—æ³•ä¼šæŠŠåºåˆ—åˆ†æˆé•¿åº¦ç›¸åŒçš„ä¸¤ä¸ªå­åºåˆ—ï¼Œå½“æ— æ³•ç»§ç»­å¾€ä¸‹åˆ†æ—¶ï¼ˆä¹Ÿå°±æ˜¯æ¯ä¸ªå­åºåˆ—ä¸­åªæœ‰ä¸€ä¸ªæ•°æ®æ—¶ï¼‰ï¼Œå°±å¯¹å­åºåˆ—è¿›è¡Œå½’å¹¶ã€‚å½’å¹¶æŒ‡çš„æ˜¯æŠŠä¸¤ä¸ªæ’å¥½åºçš„å­åºåˆ—åˆå¹¶æˆä¸€ä¸ªæœ‰åºåºåˆ—ã€‚è¯¥æ“ä½œä¼šä¸€ç›´é‡å¤æ‰§è¡Œï¼Œç›´åˆ°æ‰€æœ‰å­åºåˆ—éƒ½å½’å¹¶ä¸ºä¸€ä¸ªæ•´ä½“ä¸ºæ­¢ã€‚ å½’å¹¶æ’åºä¸­ï¼Œåˆ†å‰²åºåˆ—æ‰€èŠ±è´¹çš„æ—¶é—´ä¸ç®—åœ¨è¿è¡Œæ—¶é—´å†…ï¼ˆå¯ä»¥å½“ä½œåºåˆ—æœ¬æ¥å°±æ˜¯åˆ†å‰²å¥½çš„ï¼‰ã€‚åœ¨åˆå¹¶ä¸¤ä¸ªå·²æ’å¥½åºçš„å­åºåˆ—æ—¶ï¼Œåªéœ€é‡å¤æ¯”è¾ƒé¦–ä½æ•°æ®çš„å¤§å°ï¼Œç„¶åç§»åŠ¨è¾ƒå°çš„æ•°æ®ï¼Œå› æ­¤åªéœ€èŠ±è´¹å’Œä¸¤ä¸ªå­åºåˆ—çš„é•¿åº¦ç›¸åº”çš„è¿è¡Œæ—¶é—´ã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼Œå®Œæˆä¸€è¡Œå½’å¹¶æ‰€éœ€çš„è¿è¡Œæ—¶é—´å–å†³äºè¿™ä¸€è¡Œçš„æ•°æ®é‡ã€‚ æ— è®ºå“ªä¸€è¡Œéƒ½æ˜¯nä¸ªæ•°æ®ï¼Œæ‰€ä»¥æ¯è¡Œçš„è¿è¡Œæ—¶é—´éƒ½ä¸º O(n)ã€‚ è€Œå°†é•¿åº¦ä¸º n çš„åºåˆ—å¯¹åŠåˆ†å‰²ç›´åˆ°åªæœ‰ä¸€ä¸ªæ•°æ®ä¸ºæ­¢æ—¶ï¼Œå¯ä»¥åˆ†æˆ\(log_2n\)è¡Œï¼Œå› æ­¤ï¼Œæ€» å…±æœ‰\(log_2n\)è¡Œã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ€»çš„è¿è¡Œæ—¶é—´ä¸º O(nlogn) 123456789101112131415161718192021222324252627282930def mergesort(lst): if len(lst) &lt;= 1: return lst mid = len(lst)//2 # å°†åˆ—è¡¨åˆ†æˆæ›´å°çš„ä¸¤ä¸ªåˆ—è¡¨ # åˆ†åˆ«å¯¹å·¦å³ä¸¤ä¸ªåˆ—è¡¨è¿›è¡Œå¤„ç†ï¼Œåˆ†åˆ«è¿”å›ä¸¤ä¸ªæ’åºå¥½çš„åˆ—è¡¨ left = mergesort(lst[:mid]) right = mergesort(lst[mid:]) # å¯¹æ’åºå¥½çš„ä¸¤ä¸ªåˆ—è¡¨åˆå¹¶ï¼Œäº§ç”Ÿä¸€ä¸ªæ–°çš„æ’åºå¥½çš„åˆ—è¡¨ return merge(left, right)def merge(left, right): res = [] i = 0 j = 0 # å¯¹ä¸¤ä¸ªåˆ—è¡¨ä¸­çš„å…ƒç´  ä¸¤ä¸¤å¯¹æ¯”ã€‚ # å°†æœ€å°çš„å…ƒç´ ï¼Œæ”¾åˆ°resä¸­ while i&lt;len(left) and j&lt;len(right): if left[i] &lt;= right[j]: res.append(left[i]) i += 1 else: res.append(right[j]) j += 1 res += left[i:] res += right[j:] return res l=[-1,26,5,77,1,61,11,59,15,48,19] res = mergesort(l)print(res) å¿«é€Ÿæ’åº å¿«é€Ÿæ’åºç®—æ³•é¦–å…ˆä¼šåœ¨åºåˆ—ä¸­éšæœºé€‰æ‹©ä¸€ä¸ªåŸºå‡†å€¼ï¼ˆpivotï¼‰ï¼Œç„¶åå°†é™¤äº†åŸºå‡†å€¼ä»¥å¤–çš„æ•°åˆ†ä¸ºâ€œæ¯”åŸºå‡†å€¼å°çš„æ•°â€å’Œâ€œæ¯”åŸºå‡†å€¼å¤§çš„æ•°â€è¿™ä¸¤ä¸ªç±»åˆ«ï¼Œå†å°†å…¶æ’åˆ—æˆä»¥ä¸‹å½¢å¼ã€‚ [ æ¯”åŸºå‡†å€¼å°çš„æ•° ] åŸºå‡†å€¼ [ æ¯”åŸºå‡†å€¼å¤§çš„æ•° ] æ¥ç€ï¼Œå¯¹ä¸¤ä¸ªâ€œ[ ]â€ä¸­çš„æ•°æ®è¿›è¡Œæ’åºä¹‹åï¼Œæ•´ä½“çš„æ’åºä¾¿å®Œæˆäº†ã€‚å¯¹â€œ[ ]â€é‡Œé¢çš„æ•°æ®è¿›è¡Œæ’åºæ—¶åŒæ ·ä¹Ÿä¼šä½¿ç”¨å¿«é€Ÿæ’åº(é€’å½’)ã€‚ 123456789101112131415161718192021222324def qsort_rec(lst, l, r): if l&gt;=r: return i = l j = r pivot = lst[i] while i&lt;j: # æ‰¾pivotçš„æœ€ç»ˆä½ç½® while i&lt;j and lst[j]&gt;=pivot: j -= 1 # ç”¨jå‘å·¦æ‰«ææ‰¾å°äºpivotçš„è®°å½• if i&lt;j: lst[i] = lst[j] i += 1 # å°è®°å½•ç§»åˆ°å·¦è¾¹ while i&lt;j and lst[i]&lt;pivot: i += 1 if i&lt;j: lst[j] = lst[i] j -= 1 lst[i] = pivot qsort_rec(lst, l, i-1) # é€’å½’å¤„ç†å·¦åŠåŒºé—´ qsort_rec(lst, i+1, r) # é€’å½’å¤„ç†å·¦å³åŠåŒºé—´ l=[-1,26,5,77,1,61,11,59,15,48,19] qsort_rec(l,0,len(l)-1)print(l) æ—¶é—´å¤æ‚åº¦\(O(nlogn)\) æ”¹è¿› 1234567891011121314151617def quick_sort1(lst): def qsort(lst, begin,end): if begin &gt;= end: return pivot = lst[begin] i = begin for j in range(begin+1, end+1): if lst[j] &lt; pivot: i += 1 lst[i],lst[j] = lst[j],lst[i] lst[begin],lst[i] = lst[i], lst[begin] qsort(lst, begin, i-1) qsort(lst,i+1, end) qsort(lst,0,len(lst)-1)l=[-1,26,5,77,1,61,11,59,15,48,19] quick_sort1(l)print(l) LeetCode 215. æ•°ç»„ä¸­çš„ç¬¬Kä¸ªæœ€å¤§å…ƒç´  åœ¨æœªæ’åºçš„æ•°ç»„ä¸­æ‰¾åˆ°ç¬¬ k ä¸ªæœ€å¤§çš„å…ƒç´ ã€‚è¯·æ³¨æ„ï¼Œä½ éœ€è¦æ‰¾çš„æ˜¯æ•°ç»„æ’åºåçš„ç¬¬ k ä¸ªæœ€å¤§çš„å…ƒç´ ï¼Œè€Œä¸æ˜¯ç¬¬ k ä¸ªä¸åŒçš„å…ƒç´ ã€‚ ç¤ºä¾‹ 1: 12è¾“å…¥: [3,2,1,5,6,4] å’Œ k = 2è¾“å‡º: 5 ç¤ºä¾‹ 2: 12è¾“å…¥: [3,2,3,1,2,4,5,5,6] å’Œ k = 4è¾“å‡º: 4 è¯´æ˜: ä½ å¯ä»¥å‡è®¾ k æ€»æ˜¯æœ‰æ•ˆçš„ï¼Œä¸” 1 â‰¤ k â‰¤ æ•°ç»„çš„é•¿åº¦ã€‚ æ–¹æ³•ï¼šå¿«é€Ÿæ’åºä¸­é€‰æ‹© 1234567891011121314151617181920class Solution: def findKthLargest(self, nums: List[int], k: int) -&gt; int: def qsort(lst, begin,end): if begin &gt;= end: return pivot = lst[begin] i = begin for j in range(begin+1, end+1): if lst[j] &gt; pivot: i += 1 lst[i],lst[j] = lst[j],lst[i] lst[begin],lst[i] = lst[i], lst[begin] if i&gt;k-1: qsort(lst, begin, i-1) elif i&lt;k-1: qsort(lst,i+1, end) else: return qsort(nums,0,len(nums)-1) return nums[k-1] æ–¹æ³•æ”¹è¿› 123456789101112131415import randomclass Solution: def findKthLargest(self, nums, k): pivot = random.choice(nums) nums1, nums2 = [], [] for num in nums: if num &gt; pivot: nums1.append(num) elif num &lt; pivot: nums2.append(num) if k &lt;= len(nums1): return self.findKthLargest(nums1, k) if k &gt; len(nums) - len(nums2): return self.findKthLargest(nums2, k - (len(nums) - len(nums2))) return pivot å‚è€ƒ ã€Šæ•°æ®ç»“æ„(C++è¯­è¨€ç‰ˆ)ã€‹ Python Data Structures - C2 Sort pythonå½’å¹¶æ’åºâ€“é€’å½’å®ç°]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>LeetCode</tag>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>æ’åº</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[é€’å½’ç®—æ³•(pythonå®ç°)]]></title>
    <url>%2F2019%2F03%2F02%2F%E9%80%92%E5%BD%92(python)%2F</url>
    <content type="text"><![CDATA[åœ¨å‡½æ•°çš„å®šä¹‰ä¸­å¯¹è¿™ä¸ªå‡½æ•°è‡ªèº«çš„è°ƒç”¨ï¼Œå°±æ˜¯é€’å½’ã€‚ é€’å½’ç»“æ„ä¸­ï¼Œé€’å½’çš„éƒ¨åˆ†å¿…é¡»æ¯”åŸæ¥çš„æ•´ä½“ç®€å•ï¼Œæ‰æœ‰å¯èƒ½åˆ°è¾¾æŸç§ç»ˆç»“ç‚¹(å‡ºå£)ã€‚è€Œä¸”å¿…é¡»å­˜åœ¨éé€’å½’çš„åŸºæœ¬ç»“æ„æ„æˆçš„éƒ¨åˆ†ï¼Œå¦åˆ™ä¼šæ— é™é€’å½’ã€‚ å­¦ä¹ ç›®æ ‡ï¼š ç¼–ç¨‹å®ç°æ–æ³¢é‚£å¥‘æ•°åˆ—æ±‚å€¼ f(n)=f(n-1)+f(n-2) ç¼–ç¨‹å®ç°æ±‚é˜¶ä¹˜ n! ç¼–ç¨‹å®ç°ä¸€ç»„æ•°æ®é›†åˆçš„å…¨æ’åˆ— LeetCode 46. å…¨æ’åˆ— LeetCode 47. å…¨æ’åˆ— II LeetCode 70. çˆ¬æ¥¼æ¢¯ ä»¥ä¸Šé—®é¢˜éƒ½å¯ä»¥ç”¨é€’å½’æ¥è§£å†³ã€‚ æ–æ³¢é‚£å¥‘æ•°åˆ—æ±‚å€¼ f(n)=f(n-1)+f(n-2) æ–æ³¢é‚£å¥‘æ•°åˆ—ç”± 0 å’Œ 1 å¼€å§‹ï¼Œåé¢çš„æ¯ä¸€é¡¹æ•°å­—éƒ½æ˜¯å‰é¢ä¸¤é¡¹æ•°å­—çš„å’Œã€‚ [0,1,1,2,3,5,8,13,...] ç»™å®šn,è®¡ç®— f(N) å¯¹åº”LeetCodeä¹ é¢˜ï¼š509. Fibonacci Number æ–¹æ³• 12345class Solution: def fib(self, N: int) -&gt; int: if N &lt;= 1: return N return self.fib(N-1) + self.fib(N-2) åŠ¨æ€è§„åˆ’æ–¹æ³•å‚è§ï¼šåŠ¨æ€è§„åˆ’ æ±‚é˜¶ä¹˜ n! 12345678def factorial(n): if n == 0 or n == 1: return 1 else: return (n*factorial(n-1))a = factorial(3)print(a) è¾“å‡ºï¼š6 LeetCode 46. å…¨æ’åˆ— Permutations ç»™å®šä¸€ä¸ªæ²¡æœ‰é‡å¤æ•°å­—çš„åºåˆ—ï¼Œè¿”å›å…¶æ‰€æœ‰å¯èƒ½çš„å…¨æ’åˆ—ã€‚ ç¤ºä¾‹ è¾“å…¥: [1,2,3] è¾“å‡º: [ [1,2,3], [1,3,2], [2,1,3], [2,3,1], [3,1,2], [3,2,1]] æ–¹æ³• æ¯æ¬¡é€‰æ‹©ä¸€ä¸ªæ•°å‡ºæ¥ï¼Œç„¶åæŠŠå‰©ä¸‹çš„æ•°ï¼Œå†é€‰æ‹©ä¸€ä¸ªå‡ºæ¥ï¼Œä¾æ¬¡ç±»æ¨ï¼Œé€‰åˆ°å¤´ï¼Œå°±å›æº¯åˆ°ä¸Šä¸€å±‚ã€‚ 1234567891011class Solution: def permute(self, nums: List[int]) -&gt; List[List[int]]: res = [] def dfs(nums = nums, path = []): if not nums: res.append(path) for i in range(len(nums)): dfs(nums[:i]+nums[i+1:], path+[nums[i]]) dfs() return res LeetCode 47. å…¨æ’åˆ— II Permutations II ç»™å®šä¸€ä¸ªå¯åŒ…å«é‡å¤æ•°å­—çš„åºåˆ—ï¼Œè¿”å›æ‰€æœ‰ä¸é‡å¤çš„å…¨æ’åˆ—ã€‚ ç¤ºä¾‹: è¾“å…¥: [1,1,2] è¾“å‡º: [ [1, 1, 2], [1, 2, 1], [2, 1, 1] ] æ–¹æ³• ç›¸æ¯”ä¸Šä¸€é¢˜ï¼Œå¤šäº†æ’åºå’Œå†…éƒ¨çš„é‡å¤åˆ¤æ–­ã€‚ 1234567891011121314class Solution: def permuteUnique(self, nums: List[int]) -&gt; List[List[int]]: nums.sort() res = [] def dfs(nums = nums, path=[]): if not nums: res.append(path) for i in range(len(nums)): if i&gt;0 and nums[i] == nums[i-1]: continue dfs(nums[:i]+nums[i+1:], path+[nums[i]]) dfs() return res LeetCode 70. çˆ¬æ¥¼æ¢¯ Climbing Stairs å‡è®¾ä½ æ­£åœ¨çˆ¬æ¥¼æ¢¯ã€‚éœ€è¦ n é˜¶ä½ æ‰èƒ½åˆ°è¾¾æ¥¼é¡¶ã€‚ æ¯æ¬¡ä½ å¯ä»¥çˆ¬ 1 æˆ– 2 ä¸ªå°é˜¶ã€‚ä½ æœ‰å¤šå°‘ç§ä¸åŒçš„æ–¹æ³•å¯ä»¥çˆ¬åˆ°æ¥¼é¡¶å‘¢ï¼Ÿ æ³¨æ„ï¼šç»™å®š n æ˜¯ä¸€ä¸ªæ­£æ•´æ•°ã€‚ ç¤ºä¾‹ ï¼š 123456è¾“å…¥ï¼š 3è¾“å‡ºï¼š 3è§£é‡Šï¼š æœ‰ä¸‰ç§æ–¹æ³•å¯ä»¥çˆ¬åˆ°æ¥¼é¡¶ã€‚1. 1 é˜¶ + 1 é˜¶ + 1 é˜¶2. 1 é˜¶ + 2 é˜¶3. 2 é˜¶ + 1 é˜¶ æ–¹æ³•ï¼šé€’å½’ å½“æœ‰nä¸ªå°é˜¶æ—¶ï¼Œå¯ä¾›é€‰æ‹©çš„èµ°æ³•å¯ä»¥åˆ†ä¸¤ç±»ï¼š1ï¼Œå…ˆè·¨ä¸€é˜¶å†è·¨å®Œå‰©ä¸‹n-1é˜¶ï¼›2ï¼Œå…ˆè·¨2é˜¶å†è·¨å®Œå‰©ä¸‹n-2é˜¶ã€‚æ‰€ä»¥né˜¶çš„ä¸åŒèµ°æ³•çš„æ•°ç›®æ˜¯n-1é˜¶å’Œn-2é˜¶çš„èµ°æ³•æ•°çš„å’Œã€‚ è¿™å’Œæ–æ³¢é‚£å¥‘æ•°åˆ—çš„è§„å¾‹ç›¸åŒï¼Œå¯ä»¥ç”¨è¿™ä¸ªæ€è·¯ã€‚ 123456789class Solution: def climbStairs(self, n): """ :type n: int :rtype: int """ if n&lt;=2: return n return self.climbStairs(n-1) + self.climbStairs(n-2) è¿™ä¸ªæ–¹æ³•è¿è¡Œæ­£å¸¸ï¼Œä½†æ˜¯å› ä¸ºè¶…å‡ºæ—¶é—´é™åˆ¶ï¼Œæœªèƒ½é€šè¿‡ã€‚ æ–¹æ³•ï¼šåŠ¨æ€è§„åˆ’ åŠ¨æ€è§„åˆ’æ¥è®°å½•å†å²æ•°æ®ã€‚ 12345678910class Solution: def climbStairs(self, n): """ :type n: int :rtype: int """ prev, current = 0, 1 for i in range(n): prev, current = current, prev + current return current]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>LeetCode</tag>
        <tag>é€’å½’</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[pythonå®ç°æ•°æ®ç»“æ„ä¸­çš„é˜Ÿåˆ—]]></title>
    <url>%2F2019%2F03%2F01%2Fpython-algo-queue%2F</url>
    <content type="text"><![CDATA[é˜Ÿåˆ—ä¸­çš„æ•°æ®å‘ˆçº¿æ€§æ’åˆ—ã€‚ä¸æ ˆç±»ä¼¼ï¼Œé˜Ÿåˆ—ä¸­å¯ä»¥æ“ä½œæ•°æ®çš„ä½ç½®ä¹Ÿæœ‰ä¸€å®šçš„é™åˆ¶ã€‚åœ¨æ ˆä¸­ï¼Œæ•°æ®çš„æ·»åŠ å’Œåˆ é™¤éƒ½åœ¨åŒä¸€ç«¯è¿›è¡Œï¼Œè€Œåœ¨é˜Ÿåˆ—ä¸­åˆ™åˆ†åˆ«æ˜¯åœ¨ä¸¤ç«¯è¿›è¡Œçš„ã€‚é˜Ÿåˆ—ä¹Ÿä¸èƒ½ç›´æ¥è®¿é—®ä½äºä¸­é—´çš„æ•°æ®ï¼Œå¿…é¡»é€šè¿‡å‡ºé˜Ÿæ“ä½œå°†ç›®æ ‡æ•°æ®å˜æˆé¦–ä½åæ‰èƒ½è®¿é—®ã€‚ åƒé˜Ÿåˆ—è¿™ç§æœ€å…ˆè¿›å»çš„æ•°æ®æœ€å…ˆè¢«å–æ¥ï¼Œå³â€œå…ˆè¿›å…ˆå‡ºâ€çš„ç»“æ„ï¼Œæˆ‘ä»¬ç§°ä¸º First In First Outï¼Œç®€ç§° FIFOã€‚ â€œå…ˆæ¥çš„æ•°æ®å…ˆå¤„ç†â€æ˜¯ä¸€ç§å¾ˆå¸¸è§çš„æ€è·¯ï¼Œæ‰€ä»¥é˜Ÿåˆ—çš„åº”ç”¨èŒƒå›´éå¸¸å¹¿æ³›ã€‚æ¯”å¦‚å¹¿åº¦ä¼˜å…ˆæœç´¢ç®—æ³•ï¼Œé€šå¸¸å°±ä¼šä»æœç´¢å€™è¡¥ä¸­é€‰æ‹©æœ€æ—©çš„æ•°æ®ä½œä¸ºä¸‹ä¸€ä¸ªé¡¶ç‚¹ã€‚æ­¤æ—¶ï¼Œåœ¨å€™è¡¥é¡¶ç‚¹çš„ç®¡ç†ä¸Šå°±å¯ä»¥ä½¿ç”¨é˜Ÿåˆ—ã€‚ å­¦ä¹ ç›®æ ‡ï¼š - ç”¨æ•°ç»„å®ç°ä¸€ä¸ªé¡ºåºé˜Ÿåˆ— - ç”¨é“¾è¡¨å®ç°ä¸€ä¸ªé“¾å¼é˜Ÿåˆ— - å®ç°ä¸€ä¸ªå¾ªç¯é˜Ÿåˆ— - LeetCode 641. è®¾è®¡å¾ªç¯åŒç«¯é˜Ÿåˆ— - LeetCode 239. æ»‘åŠ¨çª—å£æœ€å¤§å€¼ ç”¨æ•°ç»„å®ç°ä¸€ä¸ªé¡ºåºé˜Ÿåˆ— listè¡¨å¤´å…¥é˜Ÿï¼Œè¡¨å°¾å‡ºé˜Ÿã€‚åè¿‡æ¥ä¹Ÿå¯ä»¥ã€‚ å®ç°çš„åŸºæœ¬æ“ä½œæœ‰ï¼š - enqueue å…¥é˜Ÿï¼Œè¦æŠŠè¡¨ä¸­å…¶ä½™å…ƒç´ å…¨éƒ¨åç§»ï¼Œå†æ’å…¥é¦–å…ƒç´ ï¼Œéœ€è¦ \(O(n)\)æ—¶é—´ - dequeue å‡ºé˜Ÿ,\(O(1)\) 1234567891011121314class Queue: def __init__(self): self.items = [] def enqueue(self, item): # å…¥é˜Ÿ self.items.insert(0,item) def dequeue(self): # å‡ºé˜Ÿ return self.items.pop() if __name__ == '__main__': q = Queue() q.enqueue(4) q.enqueue(5) q.enqueue(6) print(q.dequeue()) è¾“å‡ºï¼š 14 ç”¨é“¾è¡¨å®ç°ä¸€ä¸ªé“¾å¼é˜Ÿåˆ— ç­‰åŒäºç”¨å¸¦è¡¨å°¾æŒ‡é’ˆçš„å•é“¾è¡¨ã€‚é“¾å°¾å…¥é˜Ÿï¼Œé“¾é¦–å‡ºé˜Ÿã€‚ å®ç°çš„åŸºæœ¬æ“ä½œæœ‰ï¼š - enqueue å…¥é˜Ÿ \(O(1)\) - dequeue å‡ºé˜Ÿ \(O(1)\) - peek æŸ¥çœ‹é˜Ÿé¦–å…ƒç´  \(O(1)\) 123456789101112131415161718192021222324252627282930313233343536class Node: # é“¾è¡¨çš„ç»“ç‚¹ def __init__(self, x, next_=None): self.val = x self.next = next_class LQueue: # def __init__(self): # ç©ºè¡¨ self._head = None self._rear = None # å°¾ç»“ç‚¹ def enqueue(self, x): # å…¥é˜Ÿ if self._head is None: self._head = Node(x, self._head) self._rear = self._head else: self._rear.next = Node(x) self._rear = self._rear.next def dequeue(self): # å‡ºé˜Ÿ if self._head is None: return x = self._head.val self._head = self._head.next return x def peek(self): # æŸ¥çœ‹æœ€æ—©å…¥é˜Ÿçš„å…ƒç´  if self._head is None: return return self._head.val if __name__ == '__main__': l = LQueue() l.enqueue(4) l.enqueue(5) print(l.peek()) l.enqueue(6) l.dequeue() print(l.peek()) è¾“å‡ºï¼š 1245 å®ç°ä¸€ä¸ªå¾ªç¯é˜Ÿåˆ— LeetCode 622 é˜Ÿå¤´å˜é‡_headè®°å½•å½“å‰é˜Ÿåˆ—çš„ç¬¬ä¸€ä¸ªå…ƒç´ ä½ç½® 1234567891011121314151617181920212223242526272829303132333435363738394041class QueueUnderflow(ValueError):# ç©ºé˜Ÿåˆ—æ— æ³• dequeueçš„å¼‚å¸¸é”™è¯¯ passclass SQueue: def __init__(self, init_len=8): self._elems = [0]*init_len # é˜Ÿåˆ—å…ƒç´  self._head = 0 # é˜Ÿåˆ—é¦–å…ƒç´ ä½ç½®çš„ä¸‹æ ‡ self._num = 0 # è¡¨ä¸­å…ƒç´ ä¸ªæ•° self._len = init_len # å½“å‰è¡¨çš„é•¿åº¦ï¼Œè¡¨æ»¡äº†çš„è¯ï¼Œè¦æ¢ä¸€ä¸ªå­˜å‚¨è¡¨ def peek(self): if self._num == 0: # é˜Ÿç©ºçŠ¶æ€ raise QueueUnderflow return self._elems[self._head] def dequeue(self): if self._num == 0: # é˜Ÿç©ºçŠ¶æ€ raise QueueUnderflow e = self._elems[self._head] self._head = (self._head+1) % self._len self._num -= 1 return e def enqueue(self, e): if self._num == self._len: # é˜Ÿæ»¡çŠ¶æ€ self.__extend() # æ‰©å¤§å­˜å‚¨åŒº # æ–°å…ƒç´ çš„å…¥é˜Ÿä½ç½® self._elems[(self._head + self._num) % self._len]=e self._num += 1 def __extend(self): # æ‰©å®¹ old_len = self._len self._len *= 2 new_elems = [0] * self._len for i in range(old_len): new_elems[i] = self._elems[(self._head + i)%old_len] self._elems, self._head = new_elems, 0 if __name__ == '__main__': l = SQueue() for i in range(10): l.enqueue(i+1) print(l.peek()) l.dequeue() print(l.peek()) LeetCode 641. è®¾è®¡å¾ªç¯åŒç«¯é˜Ÿåˆ— Design Circular Deque è®¾è®¡å®ç°åŒç«¯é˜Ÿåˆ—ã€‚ ä½ çš„å®ç°éœ€è¦æ”¯æŒä»¥ä¸‹æ“ä½œï¼š MyCircularDeque(k)ï¼šæ„é€ å‡½æ•°,åŒç«¯é˜Ÿåˆ—çš„å¤§å°ä¸ºkã€‚ insertFront()ï¼šå°†ä¸€ä¸ªå…ƒç´ æ·»åŠ åˆ°åŒç«¯é˜Ÿåˆ—å¤´éƒ¨ã€‚ å¦‚æœæ“ä½œæˆåŠŸè¿”å› trueã€‚ insertLast()ï¼šå°†ä¸€ä¸ªå…ƒç´ æ·»åŠ åˆ°åŒç«¯é˜Ÿåˆ—å°¾éƒ¨ã€‚å¦‚æœæ“ä½œæˆåŠŸè¿”å› trueã€‚ deleteFront()ï¼šä»åŒç«¯é˜Ÿåˆ—å¤´éƒ¨åˆ é™¤ä¸€ä¸ªå…ƒç´ ã€‚ å¦‚æœæ“ä½œæˆåŠŸè¿”å› trueã€‚ deleteLast()ï¼šä»åŒç«¯é˜Ÿåˆ—å°¾éƒ¨åˆ é™¤ä¸€ä¸ªå…ƒç´ ã€‚å¦‚æœæ“ä½œæˆåŠŸè¿”å› trueã€‚ getFront()ï¼šä»åŒç«¯é˜Ÿåˆ—å¤´éƒ¨è·å¾—ä¸€ä¸ªå…ƒç´ ã€‚å¦‚æœåŒç«¯é˜Ÿåˆ—ä¸ºç©ºï¼Œè¿”å› -1ã€‚ getRear()ï¼šè·å¾—åŒç«¯é˜Ÿåˆ—çš„æœ€åä¸€ä¸ªå…ƒç´ ã€‚ å¦‚æœåŒç«¯é˜Ÿåˆ—ä¸ºç©ºï¼Œè¿”å› -1ã€‚ isEmpty()ï¼šæ£€æŸ¥åŒç«¯é˜Ÿåˆ—æ˜¯å¦ä¸ºç©ºã€‚ isFull()ï¼šæ£€æŸ¥åŒç«¯é˜Ÿåˆ—æ˜¯å¦æ»¡äº†ã€‚ ç¤ºä¾‹ï¼š 12345678910MyCircularDeque circularDeque = new MycircularDeque(3); // è®¾ç½®å®¹é‡å¤§å°ä¸º3circularDeque.insertLast(1); // è¿”å› truecircularDeque.insertLast(2); // è¿”å› truecircularDeque.insertFront(3); // è¿”å› truecircularDeque.insertFront(4); // å·²ç»æ»¡äº†ï¼Œè¿”å› falsecircularDeque.getRear(); // è¿”å› 2circularDeque.isFull(); // è¿”å› truecircularDeque.deleteLast(); // è¿”å› truecircularDeque.insertFront(4); // è¿”å› truecircularDeque.getFront(); // è¿”å› 4 æç¤ºï¼š æ‰€æœ‰å€¼çš„èŒƒå›´ä¸º [1, 1000] æ“ä½œæ¬¡æ•°çš„èŒƒå›´ä¸º [1, 1000] è¯·ä¸è¦ä½¿ç”¨å†…ç½®çš„åŒç«¯é˜Ÿåˆ—åº“ã€‚ æ–¹æ³• å’Œä¸Šä¸€é¢˜æ€è·¯ç›¸åŒï¼Œç”¨ä¸€ä¸ªlistå®ç°ç±»ä¼¼çš„ç¯å½¢åˆ—è¡¨ã€‚ åŒå‘é“¾è¡¨å¯ä»¥ä»å¤´å°¾æ’å…¥å…ƒç´ ï¼Œå¯¹åº”äº†listçš„insertå’Œappendæ–¹æ³•ã€‚æ³¨æ„ï¼Œæ— è®ºæ˜¯åœ¨å¤´å°¾æ’å…¥ï¼Œè¦ç§»åŠ¨çš„æŒ‡é’ˆéƒ½æ˜¯rearã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495class MyCircularDeque: def __init__(self, k: int): """ Initialize your data structure here. Set the size of the deque to be k. """ self._elems = [0]*k # é˜Ÿåˆ—å…ƒç´  self._head = 0 # é˜Ÿåˆ—é¦–å…ƒç´ ä½ç½®çš„ä¸‹æ ‡ self._num = 0 # è¡¨ä¸­å…ƒç´ ä¸ªæ•° self._len = k # è¡¨çš„é•¿åº¦ def insertFront(self, value: int) -&gt; bool: """ Adds an item at the front of Deque. Return true if the operation is successful. """ if self._num == self._len: # é˜Ÿæ»¡çŠ¶æ€ return False # æ–°å…ƒç´ çš„å…¥é˜Ÿä½ç½® self._head = (self._head + self._len - 1) % self._len self._elems[self._head]= value self._num += 1 return True def insertLast(self, value: int) -&gt; bool: """ Adds an item at the rear of Deque. Return true if the operation is successful. """ if self._num == self._len: # é˜Ÿæ»¡çŠ¶æ€ return False # æ–°å…ƒç´ çš„å…¥é˜Ÿä½ç½® self._elems[(self._head + self._num) % self._len]= value self._num += 1 return True def deleteFront(self) -&gt; bool: """ Deletes an item from the front of Deque. Return true if the operation is successful. """ if self._num == 0: # é˜Ÿç©ºçŠ¶æ€ return False # e = self._elems[self._head] self._head = (self._head+1) % self._len self._num -= 1 return True def deleteLast(self) -&gt; bool: """ Deletes an item from the rear of Deque. Return true if the operation is successful. """ if self._num == 0: # é˜Ÿç©ºçŠ¶æ€ return False # e = self._elems[(self._head + self._num-1) % self._len] self._num -= 1 return True def getFront(self) -&gt; int: """ Get the front item from the deque. """ if self._num == 0: # é˜Ÿç©ºçŠ¶æ€ return -1 return self._elems[self._head] def getRear(self) -&gt; int: """ Get the last item from the deque. """ if self._num == 0: # é˜Ÿç©ºçŠ¶æ€ return -1 return self._elems[(self._head + self._num-1) % self._len] def isEmpty(self) -&gt; bool: """ Checks whether the circular deque is empty or not. """ return self._num == 0 def isFull(self) -&gt; bool: """ Checks whether the circular deque is full or not. """ return self._len == self._num# Your MyCircularDeque object will be instantiated and called as such:# obj = MyCircularDeque(k)# param_1 = obj.insertFront(value)# param_2 = obj.insertLast(value)# param_3 = obj.deleteFront()# param_4 = obj.deleteLast()# param_5 = obj.getFront()# param_6 = obj.getRear()# param_7 = obj.isEmpty()# param_8 = obj.isFull() LeetCode 239. æ»‘åŠ¨çª—å£æœ€å¤§å€¼ Sliding Window Maximum æ–¹æ³•ï¼šdequeï¼ˆåŒç«¯é˜Ÿåˆ—ï¼‰ éå†æ•°ç»„numsï¼Œä½¿ç”¨åŒç«¯é˜Ÿåˆ—dequeç»´æŠ¤æ»‘åŠ¨çª—å£å†…æœ‰å¯èƒ½æˆä¸ºæœ€å¤§å€¼å…ƒç´ çš„æ•°ç»„ä¸‹æ ‡ã€‚ å½“ä¸‹æ ‡iä»é˜Ÿå°¾å…¥é˜Ÿæ—¶ï¼Œé¡ºæ¬¡å¼¹å‡ºé˜Ÿåˆ—å°¾å€¼&lt;=nums[i]çš„æ•°ç»„ä¸‹æ ‡ã€‚ å½“å‰ä¸‹æ ‡ä¸ºiï¼Œåˆ™æ»‘åŠ¨çª—å£çš„æœ‰æ•ˆä¸‹æ ‡èŒƒå›´ä¸º[i - (k - 1), i] ,æ‰€ä»¥å½“é˜Ÿå¤´å…ƒç´ dq[0] == i-kï¼Œå°±è¦ä»é˜Ÿå¤´å‡ºé˜Ÿã€‚ 12345678910111213class Solution: def maxSlidingWindow(self, nums: List[int], k: int) -&gt; List[int]: dq = collections.deque() # é˜Ÿåˆ— res = [] for i in range(len(nums)): while dq and nums[dq[-1]] &lt;= nums[i]:#(å¾ªç¯)å½“dqé˜Ÿå°¾å€¼å°äºæ–°å…ƒç´ nums[i] dq.pop() #é˜Ÿå°¾å€¼å‡ºé˜Ÿ(ç›´åˆ°dqä¸­çš„å€¼éƒ½å¤§äºæ–°å…ƒç´ nums[i]) dq.append(i) #æ–°å…ƒç´ å…¥é˜Ÿ if dq[0] == i-k: # çª—å£æ»‘å‡ºï¼Œé˜Ÿå¤´å…ƒç´ ä¸åœ¨çª—å£åŒºåŸŸå†… dq.popleft() # é˜Ÿå¤´å€¼å‡ºé˜Ÿ if i &gt;= k-1: # iéå†åˆ°ä¸€ä¸ªçª—å£å¤§å°ä¹‹åï¼Œæ¯è½®éƒ½èƒ½æ‰§è¡Œæ­¤è¡Œã€‚ res.append(nums[dq[0]]) #çª—å£æœ€å¤§å…ƒç´  return res å‚è€ƒ ã€Šæˆ‘çš„ç¬¬ä¸€æœ¬ç®—æ³•ä¹¦ã€‹ [LeetCode]Sliding Window Maximum]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>LeetCode</tag>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>é˜Ÿåˆ—</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[pythonå®ç°æ•°æ®ç»“æ„ä¸­çš„æ ˆ]]></title>
    <url>%2F2019%2F03%2F01%2Fpython_leetcode-stack(0)%2F</url>
    <content type="text"><![CDATA[æ ˆæ˜¯ä¸€ç§æ•°æ®å‘ˆçº¿æ€§æ’åˆ—çš„ã€åå…¥å…ˆå‡ºï¼ˆLIFOï¼Œlast-in-first-outï¼‰çš„æ•°æ®ç»“æ„ã€‚ä¸è¿‡åœ¨è¿™ç§ç»“æ„ä¸­ï¼Œæˆ‘ä»¬åªèƒ½è®¿é—®æœ€æ–°æ·»åŠ çš„æ•°æ®ã€‚æ·»åŠ ç§»é™¤æ–°é¡¹æ€»å‘ç”Ÿåœ¨åŒä¸€ç«¯ã€‚è¿™ä¸€ç«¯é€šå¸¸ç§°ä¸ºâ€œé¡¶éƒ¨â€ã€‚ä¸é¡¶éƒ¨å¯¹åº”çš„ç«¯ç§°ä¸ºâ€œåº•éƒ¨â€ã€‚ æ ˆçš„åº•éƒ¨å¾ˆé‡è¦ï¼Œå› ä¸ºåœ¨æ ˆä¸­é è¿‘åº•éƒ¨çš„é¡¹æ˜¯å­˜å‚¨æ—¶é—´æœ€é•¿çš„ã€‚æœ€è¿‘æ·»åŠ çš„é¡¹æ˜¯æœ€å…ˆä¼šè¢«ç§»é™¤çš„ã€‚ å¯¹æ ˆçš„ä¸¤ç§ä¸»è¦æ“ä½œæ˜¯å°†ä¸€ä¸ªå…ƒç´ å‹å…¥æ ˆå’Œå°†ä¸€ä¸ªå…ƒç´ å¼¹å‡ºæ ˆã€‚å…¥æ ˆä½¿ç”¨push()æ–¹æ³•ï¼Œå‡ºæ ˆä½¿ç”¨pop()æ–¹æ³•ã€‚ åœ¨æ ˆçš„åº”ç”¨ä¸Šï¼Œæ¯”å¦‚æ·±åº¦ä¼˜å…ˆæœç´¢ç®—æ³•ï¼Œé€šå¸¸ä¼šé€‰æ‹©æœ€æ–°çš„æ•°æ®ä½œä¸ºå€™è¡¥é¡¶ç‚¹ã€‚åœ¨å€™è¡¥é¡¶ç‚¹çš„ç®¡ç†ä¸Šå°±å¯ä»¥ä½¿ç”¨æ ˆã€‚ å­¦ä¹ ç›®æ ‡ï¼š ç”¨æ•°ç»„å®ç°ä¸€ä¸ªé¡ºåºæ ˆ ç”¨é“¾è¡¨å®ç°ä¸€ä¸ªé“¾å¼æ ˆ ç¼–ç¨‹æ¨¡æ‹Ÿå®ç°ä¸€ä¸ªæµè§ˆå™¨çš„å‰è¿›ã€åé€€åŠŸèƒ½ æœ€å°æ ˆ LeetCode 20. æœ‰æ•ˆçš„æ‹¬å· LeetCode 32. æœ€é•¿æœ‰æ•ˆçš„æ‹¬å· LeetCode 150. é€†æ³¢å…°è¡¨è¾¾å¼æ±‚å€¼ ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  I ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  II æ¥é›¨æ°´ ç”¨æ•°ç»„å®ç°ä¸€ä¸ªé¡ºåºæ ˆ å‡å®šæ•°ç»„çš„ç»“å°¾ä½œä¸ºæ ˆé¡¶ï¼Œåç«¯æ’å…¥å’Œåˆ é™¤æ˜¯ O(1) æ“ä½œã€‚ æ ˆæœ‰å¦‚ä¸‹åŸºæœ¬æ“ä½œï¼š - Stack() åˆ›å»ºä¸€ä¸ªç©ºçš„æ–°æ ˆã€‚ è¿”å›ä¸€ä¸ªç©ºæ ˆã€‚ - push(item)å°†ä¸€ä¸ªæ–°é¡¹æ·»åŠ åˆ°æ ˆçš„é¡¶éƒ¨ã€‚å®ƒéœ€è¦ item åšå‚æ•°å¹¶ä¸è¿”å›ä»»ä½•å†…å®¹ã€‚ - pop() ä»æ ˆä¸­åˆ é™¤é¡¶éƒ¨é¡¹ã€‚å®ƒè¿”å› item ã€‚æ ˆè¢«ä¿®æ”¹ã€‚ - top() ä»æ ˆè¿”å›é¡¶éƒ¨é¡¹ï¼Œä½†ä¸ä¼šåˆ é™¤å®ƒã€‚ä¸ä¿®æ”¹æ ˆã€‚ - isEmpty() æµ‹è¯•æ ˆæ˜¯å¦ä¸ºç©ºã€‚è¿”å›å¸ƒå°”å€¼ã€‚ - size() è¿”å›æ ˆä¸­çš„ item æ•°é‡ã€‚è¿”å›ä¸€ä¸ªæ•´æ•°ã€‚ 1234567891011121314151617181920212223242526class SStack: def __init__(self): self.items = [] def isEmpty(self): return self.items == [] # return not self.items def push(self,item): self.items.append(item) def pop(self): return self.items.pop() def top(self): if self.items: return self.items[-1] else: return None def size(self): return len(self.items) if __name__ == "__main__": s = SStack() s.push('a') print(s.top()) s.push('b') s.push('c') print(s.pop()) è¾“å‡ºï¼š 12ac æ•°ç»„å®ç°çš„ç¼ºç‚¹ï¼š éœ€è¦å®Œæ•´çš„å¤§å—å­˜å‚¨ç©ºé—´ æ‰©å¤§å­˜å‚¨çš„æ“ä½œä»£ä»·é«˜ è€Œç”¨é“¾è¡¨å®ç°å°±æ²¡æœ‰ä»¥ä¸Šçš„é—®é¢˜ã€‚ ç”¨é“¾è¡¨å®ç°ä¸€ä¸ªé“¾å¼æ ˆ å¯¹äºé“¾æ¥è¡¨ï¼Œå°†è¡¨å¤´ä½œä¸ºæ ˆé¡¶ï¼Œåœ¨å‰ç«¯æ’å…¥å’Œåˆ é™¤éƒ½æ˜¯ O(1) æ“ä½œã€‚ 123456789101112131415161718192021222324252627282930class Node: # é“¾è¡¨çš„ç»“ç‚¹ def __init__(self, x, next_=None): self.val = x self.next = next_class LStack: #æ ˆçš„é“¾æ¥è¡¨å®ç° def __init__(self): self._top = None def isEmpty(self): return self._top is None def push(self,item): self._top = Node(item, self._top) def pop(self): p = self._top self._top = p.next return p.val def top(self): if self._top: return self._top.val else: return None if __name__ == "__main__": s = LStack() s.push('a') print(s.top()) s.push('b') s.push('c') print(s.pop()) è¾“å‡ºï¼š 12ac ç¼–ç¨‹æ¨¡æ‹Ÿå®ç°ä¸€ä¸ªæµè§ˆå™¨çš„å‰è¿›ã€åé€€åŠŸèƒ½ æ¯ä¸ª web æµè§ˆå™¨éƒ½æœ‰ä¸€ä¸ªè¿”å›æŒ‰é’®ã€‚å½“ä½ æµè§ˆç½‘é¡µæ—¶ï¼Œè¿™äº›ç½‘é¡µè¢«æ”¾ç½®åœ¨ä¸€ä¸ªæ ˆä¸­ï¼ˆå®é™…æ˜¯ç½‘é¡µçš„ç½‘å€ï¼‰ã€‚ä½ ç°åœ¨æŸ¥çœ‹çš„ç½‘é¡µåœ¨é¡¶éƒ¨ï¼Œä½ ç¬¬ä¸€ä¸ªæŸ¥çœ‹çš„ç½‘é¡µåœ¨åº•éƒ¨ã€‚å¦‚æœæŒ‰â€˜è¿”å›â€™æŒ‰é’®ï¼Œå°†æŒ‰ç›¸åçš„é¡ºåºæµè§ˆåˆšæ‰çš„é¡µé¢ã€‚ 123456789101112131415161718192021222324252627282930313233343536class Page: # ä¸€ä¸ªç½‘é¡µ def __init__(self, url, prev_=None, next_=None): self.val = url self.next = next_ self.prev = prev_class History: def __init__(self): self._cur = Page(None) def loadPage(self, newPage): #åŠ è½½æ–°çš„é¡µé¢ p = Page(newPage,self._cur,None) self._cur.next = p self._cur = self._cur.next return self._cur.val def back(self): #è¿”å›ä¸Šä¸€é¡µé¢ if self._cur.prev is None: return self._cur = self._cur.prev return self._cur.val def forward(self): #å‰è¿›é¡µé¢ if self._cur.next is None: return self._cur = self._cur.next return self._cur.val if __name__ == '__main__': h = History() print('åŠ è½½é¡µé¢'+ h.loadPage('a')) print('åŠ è½½é¡µé¢'+ h.loadPage('b')) print('è¿”å›åˆ°'+ h.back()) print('åŠ è½½é¡µé¢'+ h.loadPage('c')) print('è¿”å›åˆ°'+ h.back()) print('å‰è¿›åˆ°'+ h.forward()) è¾“å‡ºï¼š 123456åŠ è½½é¡µé¢aåŠ è½½é¡µé¢bè¿”å›åˆ°aåŠ è½½é¡µé¢cè¿”å›åˆ°aå‰è¿›åˆ°c 155. æœ€å°æ ˆ è®¾è®¡ä¸€ä¸ªæ”¯æŒ pushï¼Œpopï¼Œtop æ“ä½œï¼Œå¹¶èƒ½åœ¨å¸¸æ•°æ—¶é—´å†…æ£€ç´¢åˆ°æœ€å°å…ƒç´ çš„æ ˆã€‚ push(x) â€“ å°†å…ƒç´  x æ¨å…¥æ ˆä¸­ã€‚ pop() â€“ åˆ é™¤æ ˆé¡¶çš„å…ƒç´ ã€‚ top() â€“ è·å–æ ˆé¡¶å…ƒç´ ã€‚ getMin() â€“ æ£€ç´¢æ ˆä¸­çš„æœ€å°å…ƒç´ ã€‚ ç¤ºä¾‹: 12345678MinStack minStack = new MinStack();minStack.push(-2);minStack.push(0);minStack.push(-3);minStack.getMin(); --&gt; è¿”å› -3.minStack.pop();minStack.top(); --&gt; è¿”å› 0.minStack.getMin(); --&gt; è¿”å› -2. æ–¹æ³• è¿™ä¸ªé¢˜è¦æ±‚åœ¨å¸¸æ•°æ—¶é—´å†…è·å¾—æœ€å°å€¼ï¼Œå› æ­¤ä¸èƒ½åœ¨getMin()çš„æ—¶å€™å†å»è®¡ç®—ï¼Œåº”è¯¥åœ¨pushçš„æ—¶å€™å°±è®¡ç®—äº†ã€‚ å¯ä»¥ç”¨ä¸€ä¸ªæ ˆï¼Œè¿™ä¸ªæ ˆä¿å­˜çš„æ˜¯æ¯ä¸ªæ•°å­—è¿›å…¥æ ˆçš„æ—¶å€™çš„ï¼ˆå€¼ä¸æœ€å°å€¼ï¼‰ã€‚é€Ÿåº¦å¾ˆå¿«ã€‚ 12345678910111213141516171819202122232425262728class MinStack: def __init__(self): """ initialize your data structure here. """ self.stack = [] def push(self, x: int) -&gt; None: if not self.stack: self.stack.append((x, x)) else: self.stack.append((x, min(x, self.stack[-1][1]))) def pop(self) -&gt; None: self.stack.pop() def top(self) -&gt; int: return self.stack[-1][0] def getMin(self) -&gt; int: return self.stack[-1][1]# Your MinStack object will be instantiated and called as such:# obj = MinStack()# obj.push(x)# obj.pop()# param_3 = obj.top()# param_4 = obj.getMin() LeetCode 20. æœ‰æ•ˆçš„æ‹¬å· Valid Parentheses ç»™å®šä¸€ä¸ªåªåŒ…æ‹¬ â€˜(â€™ï¼Œâ€˜)â€™ï¼Œâ€˜{â€™ï¼Œâ€˜}â€™ï¼Œâ€˜[â€™ï¼Œâ€™]â€™ çš„å­—ç¬¦ä¸²ï¼Œåˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦æœ‰æ•ˆã€‚ æœ‰æ•ˆå­—ç¬¦ä¸²éœ€æ»¡è¶³ï¼š å·¦æ‹¬å·å¿…é¡»ç”¨ç›¸åŒç±»å‹çš„å³æ‹¬å·é—­åˆã€‚ å·¦æ‹¬å·å¿…é¡»ä»¥æ­£ç¡®çš„é¡ºåºé—­åˆã€‚ æ³¨æ„ç©ºå­—ç¬¦ä¸²å¯è¢«è®¤ä¸ºæ˜¯æœ‰æ•ˆå­—ç¬¦ä¸²ã€‚ ç¤ºä¾‹ 1: 12è¾“å…¥: &quot;()[]&#123;&#125;&quot;è¾“å‡º: true ç¤ºä¾‹ 2: 12è¾“å…¥: &quot;([)]&quot;è¾“å‡º: false ç¤ºä¾‹ 3: 12è¾“å…¥: &quot;&#123;[]&#125;&quot;è¾“å‡º: true æ–¹æ³• å…ˆå»ºç«‹ä¸€ä¸ªmap éå†å­—ç¬¦ä¸²ï¼Œå¯¹è¾“å…¥çš„å­—ç¬¦ä¸²å…¥æ ˆæ“ä½œï¼ˆå¦‚æœå…¥æ ˆçš„å…ƒç´ æ˜¯keyçš„è¯ï¼‰ ä¾æ¬¡æ¯”è¾ƒï¼Œç›´åˆ°å‡ºç°ä¸åŒ¹é…æˆ–è€…æ ˆé‡Œæ‰€æœ‰å…ƒç´ éƒ½æ¯”è¾ƒç»“æŸ(æ ˆç©º)ã€‚ è¿˜è¦æ³¨æ„è¿™æ ·çš„é—®é¢˜ï¼šå¦‚æœæœ€åå¤šä½™äº†â€™keyâ€˜ï¼Œæ¯”å¦‚()(ï¼Œæ‰€ä»¥æœ€åè¿˜è¦åˆ¤æ–­ä¸€ä¸‹len(stack)==0 1234567891011121314151617181920212223class Solution: def isValid(self, s): """ :type s: str :rtype: bool """ stack = list() match = &#123;'&#123;':'&#125;', '[':']', '(':')'&#125; for i in s: if i in match: stack.append(i) else: if len(stack) == 0: return False if match[stack[-1]] != i: return False stack.pop() if len(stack) != 0: return False return True LeetCode 32. æœ€é•¿æœ‰æ•ˆçš„æ‹¬å· Longest Valid Parentheses ç»™å®šä¸€ä¸ªåªåŒ…å« â€˜(â€™ å’Œ â€˜)â€™ çš„å­—ç¬¦ä¸²ï¼Œæ‰¾å‡ºæœ€é•¿çš„åŒ…å«æœ‰æ•ˆæ‹¬å·çš„å­ä¸²çš„é•¿åº¦ã€‚ ç¤ºä¾‹ 1: 123è¾“å…¥: &quot;(()&quot;è¾“å‡º: 2è§£é‡Š: æœ€é•¿æœ‰æ•ˆæ‹¬å·å­ä¸²ä¸º &quot;()&quot; ç¤ºä¾‹ 2: 123è¾“å…¥: &quot;)()())&quot;è¾“å‡º: 4è§£é‡Š: æœ€é•¿æœ‰æ•ˆæ‹¬å·å­ä¸²ä¸º &quot;()()&quot; æ–¹æ³• ç”¨ä¸€ä¸ªæ ˆæ¥å­˜å‚¨å·¦æ‹¬å·çš„ç´¢å¼•. é‡åˆ°æ­£ç¡®åŒ¹é…çš„æ‹¬å·åˆ™å¼¹å‡ºåŒ¹é…çš„ç´¢å¼•ï¼Œæ‰€ä»¥æ ˆä¸­å­˜å‚¨çš„æ˜¯æœªåŒ¹é…ä¸Šçš„å·¦æ‹¬å·ã€‚ æ–°åŒ¹é…ä¸Šçš„æ‹¬å·ä½ç½®å‡å»å‰ä¸€æ®µæœªåŒ¹é…åˆ°çš„æ‹¬å·çš„ç´¢å¼•çš„å·®ï¼Œæ˜¯å½“å‰æœ‰æ•ˆå­ä¸²çš„å¤§å°ã€‚ 123456789101112131415161718192021class Solution: def longestValidParentheses(self, s: str) -&gt; int: maxlen = 0 # æœ€é•¿çš„å­—ä¸²é•¿åº¦ last = -1 # ä¸Šä¸€æ®µæœ‰æ•ˆå­ä¸²çš„ç»“å°¾ä½ç½® stack = [] # æ ˆé‡Œå­˜æ”¾å·¦æ‹¬å·çš„ä½ç½®åºå· for i in range(len(s)): if s[i] == '(': stack.append(i) # å­˜å…¥å·¦æ‹¬å·çš„ä½ç½®åºå· else:# å³æ‹¬å· if stack == []: # æ ˆç©º last = i # é…å¯¹å¤±è´¥ï¼Œä¸€æ®µæœ‰æ•ˆå­ä¸²ç»“å°¾ else: stack.pop() #å–å‡ºé…å¯¹å·¦æ‹¬å· if stack == []: # é…å¯¹å®Œï¼Œæ ˆç©º #å½“å‰ä½ç½®iå‡å»ä¸Šä¸€æ®µç»“å°¾lastï¼Œæ˜¯è¿™ä¸€æ®µæœ‰æ•ˆå­ä¸²çš„é•¿åº¦ maxlen = max(maxlen, i-last) else: # stackå‰©ä½™çš„å·¦æ‹¬å·æœªå¿…èƒ½é…å¯¹æˆåŠŸï¼Œå…ˆæ¯”è¾ƒå½“å‰çš„æœ‰æ•ˆå­ä¸² maxlen= max(maxlen, i - stack[-1]) return maxlen LeetCode 150. é€†æ³¢å…°è¡¨è¾¾å¼æ±‚å€¼ Evaluate Reverse Polish Notatio æ ¹æ®é€†æ³¢å…°è¡¨ç¤ºæ³•ï¼Œæ±‚è¡¨è¾¾å¼çš„å€¼ã€‚ æœ‰æ•ˆçš„è¿ç®—ç¬¦åŒ…æ‹¬ +, -, *, / ã€‚æ¯ä¸ªè¿ç®—å¯¹è±¡å¯ä»¥æ˜¯æ•´æ•°ï¼Œä¹Ÿå¯ä»¥æ˜¯å¦ä¸€ä¸ªé€†æ³¢å…°è¡¨è¾¾å¼ã€‚ è¯´æ˜ï¼š æ•´æ•°é™¤æ³•åªä¿ç•™æ•´æ•°éƒ¨åˆ†ã€‚ ç»™å®šé€†æ³¢å…°è¡¨è¾¾å¼æ€»æ˜¯æœ‰æ•ˆçš„ã€‚æ¢å¥è¯è¯´ï¼Œè¡¨è¾¾å¼æ€»ä¼šå¾—å‡ºæœ‰æ•ˆæ•°å€¼ä¸”ä¸å­˜åœ¨é™¤æ•°ä¸º 0 çš„æƒ…å†µã€‚ ç¤ºä¾‹ 1ï¼š 123è¾“å…¥: [&quot;2&quot;, &quot;1&quot;, &quot;+&quot;, &quot;3&quot;, &quot;*&quot;]è¾“å‡º: 9è§£é‡Š: ((2 + 1) * 3) = 9 ç¤ºä¾‹ 2ï¼š 123è¾“å…¥: [&quot;4&quot;, &quot;13&quot;, &quot;5&quot;, &quot;/&quot;, &quot;+&quot;]è¾“å‡º: 6è§£é‡Š: (4 + (13 / 5)) = 6 æ–¹æ³• é€†æ³¢å…°å¼ï¼ˆReverse Polish notationï¼ŒRPNï¼Œæˆ–é€†æ³¢å…°è®°æ³•ï¼‰ï¼Œä¹Ÿå«åç¼€è¡¨è¾¾å¼ï¼ˆå°†è¿ç®—ç¬¦å†™åœ¨æ“ä½œæ•°ä¹‹åï¼‰ python æœ‰ä¸ªå‡½æ•°eval()ï¼Œå¯ä»¥ç»™å®ƒä¸€ä¸ªè¿ç®—è¡¨è¾¾å¼ï¼Œç›´æ¥ç»™ä½ æ±‚å€¼ã€‚ä¸­ç¼€è¡¨è¾¾å¼è½¬æ­£å¸¸è¡¨è¾¾å¼å¾ˆç®€å•äº†ï¼Œç›´æ¥ç”¨æ ˆå°±è¡Œã€‚ ä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œpythonä¸­çš„â€™/â€™è´Ÿæ•°é™¤æ³•å’Œcè¯­è¨€ä¸å¤ªä¸€æ ·ã€‚åœ¨pythonä¸­ï¼Œ(-1)/2=-1ï¼Œè€Œåœ¨cè¯­è¨€ä¸­ï¼Œ(-1)/2=0ã€‚ä¹Ÿå°±æ˜¯cè¯­è¨€ä¸­ï¼Œé™¤æ³•æ˜¯å‘é›¶å–æ•´ï¼Œå³èˆå¼ƒå°æ•°ç‚¹åçš„æ•°ã€‚è€Œåœ¨pythonä¸­ï¼Œæ˜¯å‘ä¸‹å–æ•´çš„ã€‚è€Œè¿™é“é¢˜çš„ojæ˜¯é»˜è®¤çš„cè¯­è¨€ä¸­çš„è¯­æ³•ï¼Œæ‰€ä»¥éœ€è¦åœ¨é‡åˆ°â€™/â€™çš„æ—¶å€™æ³¨æ„ä¸€ä¸‹ã€‚ å¯é‡‡ç”¨çš„æ–¹å¼æ˜¯ä½¿ç”¨operator.truediv(int(a), int(b))å˜æˆå’Œcç›¸åŒçš„æ–¹å¼ã€‚ 1234567891011121314151617class Solution: def evalRPN(self, tokens: List[str]) -&gt; int: stack = [] operators = ['+', '-','*','/'] for token in tokens: if token not in operators: stack.append(token) else: b = stack.pop() a = stack.pop() if token == '/': res = int(operator.truediv(int(a), int(b))) else: res = eval(a+token+b) stack.append(str(res)) return int(stack.pop()) 496. ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  I ç»™å®šä¸¤ä¸ªæ²¡æœ‰é‡å¤å…ƒç´ çš„æ•°ç»„ nums1 å’Œ nums2 ï¼Œå…¶ä¸­nums1 æ˜¯ nums2 çš„å­é›†ã€‚æ‰¾åˆ° nums1 ä¸­æ¯ä¸ªå…ƒç´ åœ¨ nums2 ä¸­çš„ä¸‹ä¸€ä¸ªæ¯”å…¶å¤§çš„å€¼ã€‚ nums1 ä¸­æ•°å­— x çš„ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ æ˜¯æŒ‡ x åœ¨ nums2 ä¸­å¯¹åº”ä½ç½®çš„å³è¾¹çš„ç¬¬ä¸€ä¸ªæ¯” x å¤§çš„å…ƒç´ ã€‚å¦‚æœä¸å­˜åœ¨ï¼Œå¯¹åº”ä½ç½®è¾“å‡º-1ã€‚ ç¤ºä¾‹ 1: 123456è¾“å…¥: nums1 = [4,1,2], nums2 = [1,3,4,2].è¾“å‡º: [-1,3,-1]è§£é‡Š: å¯¹äºnum1ä¸­çš„æ•°å­—4ï¼Œä½ æ— æ³•åœ¨ç¬¬äºŒä¸ªæ•°ç»„ä¸­æ‰¾åˆ°ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ•°å­—ï¼Œå› æ­¤è¾“å‡º -1ã€‚ å¯¹äºnum1ä¸­çš„æ•°å­—1ï¼Œç¬¬äºŒä¸ªæ•°ç»„ä¸­æ•°å­—1å³è¾¹çš„ä¸‹ä¸€ä¸ªè¾ƒå¤§æ•°å­—æ˜¯ 3ã€‚ å¯¹äºnum1ä¸­çš„æ•°å­—2ï¼Œç¬¬äºŒä¸ªæ•°ç»„ä¸­æ²¡æœ‰ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ•°å­—ï¼Œå› æ­¤è¾“å‡º -1ã€‚ ç¤ºä¾‹ 2: 12345è¾“å…¥: nums1 = [2,4], nums2 = [1,2,3,4].è¾“å‡º: [3,-1]è§£é‡Š: å¯¹äºnum1ä¸­çš„æ•°å­—2ï¼Œç¬¬äºŒä¸ªæ•°ç»„ä¸­çš„ä¸‹ä¸€ä¸ªè¾ƒå¤§æ•°å­—æ˜¯3ã€‚ å¯¹äºnum1ä¸­çš„æ•°å­—4ï¼Œç¬¬äºŒä¸ªæ•°ç»„ä¸­æ²¡æœ‰ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ•°å­—ï¼Œå› æ­¤è¾“å‡º -1ã€‚ æ³¨æ„: nums1å’Œnums2ä¸­æ‰€æœ‰å…ƒç´ æ˜¯å”¯ä¸€çš„ã€‚ nums1å’Œnums2 çš„æ•°ç»„å¤§å°éƒ½ä¸è¶…è¿‡1000ã€‚ æ–¹æ³•ä¸€ å…ˆä»nums2ä¸­æ‰¾åˆ°å¯¹åº”çš„nums1æ•°å€¼çš„åºå·ï¼Œç„¶åä»è¿™ä¸ªåºå·å¾€åˆæ‰¾ï¼Œçœ‹æœ‰æ²¡æœ‰æ¯”nums1æ•°å­—å¤§çš„ã€‚ å¦‚æœæœ‰ï¼ŒæŠŠè¿™ä¸ªæ•°å­—æ”¾åˆ°ç»“æœé‡Œï¼›å¦‚æœæ²¡æœ‰ï¼Œå°±æŠŠ-1æ”¾åˆ°ç»“æœé‡Œã€‚ 1234567891011121314151617class Solution: def nextGreaterElement(self, nums1: List[int], nums2: List[int]) -&gt; List[int]: ans = [] l2 = len(nums2) for x in nums1: index = -1 for i in range(l2): if x == nums2[i]: index = i #æ‰¾åˆ°å¯¹åº”ç›¸åŒçš„å…ƒç´  break while index &lt; l2 and x &gt;= nums2[index]: index += 1 if index == l2: ans.append(-1) else: ans.append(nums2[index]) return ans æ–¹æ³•äºŒï¼šå•è°ƒé€’å‡æ ˆ æ—¶é—´å¤æ‚åº¦O(n + m) å…¶ä¸­nä¸ºnumsçš„é•¿åº¦ï¼Œmä¸ºfindNumsçš„é•¿åº¦ æ ˆstackç»´æŠ¤numsçš„é€’å‡å­é›†ï¼Œè®°numsçš„å½“å‰å…ƒç´ ä¸ºnï¼Œæ ˆé¡¶å…ƒç´ ä¸ºtop é‡å¤å¼¹å‡ºæ ˆé¡¶ï¼Œç›´åˆ°stackä¸ºç©ºï¼Œæˆ–è€…topå¤§äºnä¸ºæ­¢ å°†æ‰€æœ‰è¢«å¼¹å‡ºå…ƒç´ çš„next greater elementç½®ä¸ºn 123456789class Solution: def nextGreaterElement(self, nums1: List[int], nums2: List[int]) -&gt; List[int]: dmap = &#123;&#125; #å­˜æ”¾å¯¹åº”å…ƒç´ çš„ç­”æ¡ˆ stack = [] for n in nums2: while stack and stack[-1] &lt; n: dmap[stack.pop()] = n stack.append(n) return [dmap.get(x, -1) for x in nums1] 503. ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  II ç»™å®šä¸€ä¸ªå¾ªç¯æ•°ç»„ï¼ˆæœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä¸ªå…ƒç´ æ˜¯æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼‰ï¼Œè¾“å‡ºæ¯ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ ã€‚æ•°å­— x çš„ä¸‹ä¸€ä¸ªæ›´å¤§çš„å…ƒç´ æ˜¯æŒ‰æ•°ç»„éå†é¡ºåºï¼Œè¿™ä¸ªæ•°å­—ä¹‹åçš„ç¬¬ä¸€ä¸ªæ¯”å®ƒæ›´å¤§çš„æ•°ï¼Œè¿™æ„å‘³ç€ä½ åº”è¯¥å¾ªç¯åœ°æœç´¢å®ƒçš„ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ•°ã€‚å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™è¾“å‡º -1ã€‚ ç¤ºä¾‹ 1: 12345è¾“å…¥: [1,2,1]è¾“å‡º: [2,-1,2]è§£é‡Š: ç¬¬ä¸€ä¸ª 1 çš„ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ•°æ˜¯ 2ï¼›æ•°å­— 2 æ‰¾ä¸åˆ°ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ•°ï¼› ç¬¬äºŒä¸ª 1 çš„ä¸‹ä¸€ä¸ªæœ€å¤§çš„æ•°éœ€è¦å¾ªç¯æœç´¢ï¼Œç»“æœä¹Ÿæ˜¯ 2ã€‚ æ³¨æ„: è¾“å…¥æ•°ç»„çš„é•¿åº¦ä¸ä¼šè¶…è¿‡ 10000ã€‚ å•è°ƒé€’å‡æ ˆ å¯¹äºå¾ªç¯æ•°ç»„çš„å¤„ç†ï¼Œå°†numsæ•°ç»„éå†ä¸¤æ¬¡ï¼Œæ ˆé‡Œä¿å­˜çš„æ˜¯ç´¢å¼•, ä¸‹æ ‡å¯¹len(nums)å–æ¨¡ 1234567891011class Solution: def nextGreaterElements(self, nums: List[int]) -&gt; List[int]: stack = [] size = len(nums) ans = [-1] * size for x in range(size * 2): i = x % size while stack and nums[stack[-1]] &lt; nums[i]: ans[stack.pop()] = nums[i] stack.append(i) return ans 42. æ¥é›¨æ°´ Trapping Rain Water ç»™å®š n ä¸ªéè´Ÿæ•´æ•°è¡¨ç¤ºæ¯ä¸ªå®½åº¦ä¸º 1 çš„æŸ±å­çš„é«˜åº¦å›¾ï¼Œè®¡ç®—æŒ‰æ­¤æ’åˆ—çš„æŸ±å­ï¼Œä¸‹é›¨ä¹‹åèƒ½æ¥å¤šå°‘é›¨æ°´ã€‚ ç¤ºä¾‹: 12è¾“å…¥: [0,1,0,2,1,0,1,3,2,1,2,1]è¾“å‡º: 6 æ–¹æ³•: å•è°ƒé€’å¢æ ˆ å¦‚æœå‡ºç°ä¸€ä¸ªå…ƒç´ æ¯”æ ˆé¡¶å…ƒç´ å¤§çš„è¯ï¼Œé‚£ä¹ˆæ­¤æ—¶å¿…ç„¶å¯ä»¥å½¢æˆå‡¹æ§½ï¼Œæ­¤æ—¶æˆ‘ä»¬åªéœ€è¦è®¡ç®—å‡¹æ§½é•¿åº¦å’Œè¾¹ç•Œçš„é«˜åº¦å·®é‚£ä¹ˆå¿…ç„¶å¯ä»¥è®¡ç®—å‡ºæ¥æ°´çš„é¢ç§¯ã€‚ 12345678910111213class Solution: def trap(self, height: List[int]) -&gt; int: if len(height)&lt;3: return 0 res=0 stack = list() for i in range(len(height)): while stack and height[stack[-1]] &lt; height[i]: tmp = stack.pop() if stack: res += (min(height[i],height[stack[-1]])-height[tmp]) * (i-stack[-1]-1) stack.append(i) return res å‚è€ƒ problem-solving-with-algorithms-and-data-structure-using-python How does the Back button in a web browser work? ã€LeetCodeã€‘150. Evaluate Reverse Polish Notation è§£é¢˜æŠ¥å‘Šï¼ˆPythonï¼‰ Leetcode 42ï¼šæ¥é›¨æ°´ï¼ˆè¶…è¯¦ç»†çš„è§£æ³•ï¼ï¼ï¼ï¼‰]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>LeetCode</tag>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>æ ˆ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[pythonå®ç°æ•°æ®ç»“æ„ä¸­çš„æ•°ç»„]]></title>
    <url>%2F2019%2F02%2F28%2Fpython_leetcode_array(0)%2F</url>
    <content type="text"><![CDATA[åœ¨æ•°ç»„ä¸­ï¼Œè®¿é—®æ•°æ®ååˆ†ç®€å•ï¼Œè€Œæ·»åŠ å’Œåˆ é™¤æ•°æ®æ¯”è¾ƒè€—å·¥å¤«ã€‚ ç”±äºæ•°ç»„ä¸­çš„æ•°æ®æ˜¯å­˜å‚¨åœ¨è¿ç»­ç©ºé—´å†…çš„ï¼Œæ‰€ä»¥æ¯ä¸ªæ•°æ®çš„å†…å­˜åœ°å€ï¼ˆåœ¨å†…å­˜ä¸Šçš„ä½ç½®ï¼‰éƒ½å¯ä»¥é€šè¿‡æ•°ç»„ä¸‹æ ‡ç®—å‡ºï¼Œæˆ‘ä»¬ä¹Ÿå°±å¯ä»¥å€Ÿæ­¤ç›´æ¥è®¿é—®ç›®æ ‡æ•°æ®ï¼ˆè¿™å«ä½œâ€œéšæœºè®¿é—®â€ï¼‰ï¼Œéœ€è¦çš„è¿è¡Œæ—¶é—´ä»…ä¸ºæ’å®šçš„ O(1)ã€‚ å‘æ•°ç»„ä¸­æ·»åŠ æ–°æ•°æ®æ—¶ï¼Œå¿…é¡»æŠŠç›®æ ‡ä½ç½®åé¢çš„æ•°æ®ä¸€ä¸ªä¸ªç§»å¼€ã€‚æ‰€ä»¥ï¼Œå¦‚æœåœ¨æ•°ç»„å¤´éƒ¨æ·»åŠ æ•°æ®ï¼Œå°±éœ€è¦O(n)çš„æ—¶é—´ã€‚åˆ é™¤æ“ä½œåŒç†ã€‚ å­¦ä¹ ç›®æ ‡ï¼š å®ç°ä¸€ä¸ªæ”¯æŒåŠ¨æ€æ‰©å®¹çš„æ•°ç»„ å®ç°ä¸€ä¸ªå¤§å°å›ºå®šçš„æœ‰åºæ•°ç»„ï¼Œæ”¯æŒåŠ¨æ€å¢åˆ æ”¹æ“ä½œ Leetcode 88. åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„ Leetcode 1. ä¸¤æ•°ä¹‹å’Œ ä¸‰æ•°ä¹‹å’Œ æœ€æ¥è¿‘çš„ä¸‰æ•°ä¹‹å’Œ æ”¯æŒåŠ¨æ€æ‰©å®¹çš„æ•°ç»„ ç±»ä¼¼äºPythonçš„ç®€åŒ–ç‰ˆlist 12345678910111213141516171819202122232425262728293031323334353637383940414243444546import ctypes class DynamicArray: def __init__(self): """ Create an empty array.""" self._n = 0 #count actual elements self._capacity = 1 #default array capacity self._A = self._make_array(self._capacity) #low-level array def __len__(self): """Return number of elements stored in the array.""" return self._n def __getitem__(self,k): """Return element at index k.""" if not 0 &lt;= k &lt; self._n: raise IndexError('invalid index') return self._A[k] #retrieve from array def append(self, obj): """Add object to end of the array.""" if self._n == self._capacity: # not enough room self._resize(2*self._capacity) #so double capacity self._A[self._n] = obj self._n += 1 def _resize(self, c): # nonpublic utitity """Resize internal array to capacity c.""" B = self._make_array(c) # new (bigger) array for k in range(self._n): # for each existing value B[k] = self._A[k] self._A = B self._capacity = c def _make_array(self, c): # nonpublic utitity """Return new array with capacity c.""" return (c * ctypes.py_object)() # see ctypes documentation if __name__ == '__main__': da = DynamicArray() da.append(6) da.append(2) for o in da: print(o) è¾“å‡ºï¼š 1262 å¤§å°å›ºå®šçš„æœ‰åºæ•°ç»„ï¼Œæ”¯æŒåŠ¨æ€å¢åˆ æ”¹æ“ä½œ 123456789101112131415161718192021222324252627282930313233343536373839404142class NewArray: """ A dynamic array class akin to a simplified Python list.""" def __init__(self,capacity=10): """ Create an empty array.""" self._n = 0 #æ•°ç»„å¤§å° self._A = [None] * capacity def __getitem__(self,k): """Return element at index k.""" if not 0 &lt;= k &lt; self._n: raise IndexError('invalid index') return self._A[k] #retrieve from array def insert(self,k,v): if k &gt;= len(self._A): raise IndexError('Index out of range!') for i in range(self._n, k-1, -1): self._A[i+1] = self._A[i] self._A[k] = v self._n += 1 def delete(self,k): v = self._A[k] for i in range(k+1,self._n): self._A[i-1] = self._A[i] self._n -= 1 return v def __setitem__(self,k,v): self._A[k] = v if __name__ == '__main__': A = NewArray() for i in range(5): A.insert(i, i) # å¢ print(A[2]) A.delete(0) # åˆ  print(A[2]) A[0] = 10 # æ”¹ print(A[0]) # æŸ¥ è¾“å‡ºï¼š 1232310 88. åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„ ç»™å®šä¸¤ä¸ªæœ‰åºæ•´æ•°æ•°ç»„ nums1 å’Œ nums2ï¼Œå°† nums2 åˆå¹¶åˆ° nums1 ä¸­ï¼Œä½¿å¾— num1 æˆä¸ºä¸€ä¸ªæœ‰åºæ•°ç»„ã€‚ è¯´æ˜: åˆå§‹åŒ– nums1 å’Œ nums2 çš„å…ƒç´ æ•°é‡åˆ†åˆ«ä¸º m å’Œ nã€‚ ä½ å¯ä»¥å‡è®¾ nums1 æœ‰è¶³å¤Ÿçš„ç©ºé—´ï¼ˆç©ºé—´å¤§å°å¤§äºæˆ–ç­‰äº m + nï¼‰æ¥ä¿å­˜ nums2 ä¸­çš„å…ƒç´ ã€‚ ç¤ºä¾‹: 1234è¾“å…¥:nums1 = [1,2,3,0,0,0], m = 3nums2 = [2,5,6], n = 3è¾“å‡º: [1,2,2,3,5,6] æ–¹æ³•ï¼šéå†æ¯”è¾ƒï¼Œå¤§çš„æ”¾æœ€å ä»åå¾€å‰éå†ä¸¤ä¸ªæ•°ç»„ï¼Œç„¶åæŠŠå¯¹åº”çš„å…ƒç´ æ”¾åœ¨æ•°ç»„1å¯¹åº”çš„ä½ç½®ï¼Œ æ³¨æ„ï¼šæœ€åæˆ‘ä»¬åªéœ€åˆ¤æ–­æ•°ç»„2æœ‰æ²¡æœ‰éå†å®Œå³å¯ï¼Œå› ä¸ºæ•°ç»„1æ²¡æœ‰éå†å®Œçš„è¯ï¼Œå®ƒå·²ç»æ˜¯æŒ‰é¡ºåºæ”¾åœ¨å‰é¢çš„äº†ã€‚ 12345678910111213141516171819class Solution(object): def merge(self, nums1, m, nums2, n): """ :type nums1: List[int] :type m: int :type nums2: List[int] :type n: int :rtype: void Do not return anything, modify nums1 in-place instead. """ while m&gt;0 and n&gt;0: if nums1[m-1] &gt; nums2[n-1]: nums1[m+n-1] = nums1[m-1] m -= 1 else: nums1[m+n-1] = nums2[n-1] n -= 1 if n&gt;0: nums1[:n] = nums2[:n] 1. ä¸¤æ•°ä¹‹å’Œ ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’Œä¸€ä¸ªç›®æ ‡å€¼ targetï¼Œè¯·ä½ åœ¨è¯¥æ•°ç»„ä¸­æ‰¾å‡ºå’Œä¸ºç›®æ ‡å€¼çš„é‚£ä¸¤ä¸ªæ•´æ•°ï¼Œå¹¶è¿”å›ä»–ä»¬çš„æ•°ç»„ä¸‹æ ‡ã€‚ ä½ å¯ä»¥å‡è®¾æ¯ç§è¾“å…¥åªä¼šå¯¹åº”ä¸€ä¸ªç­”æ¡ˆã€‚ä½†æ˜¯ï¼Œä½ ä¸èƒ½é‡å¤åˆ©ç”¨è¿™ä¸ªæ•°ç»„ä¸­åŒæ ·çš„å…ƒç´ ã€‚ ç¤ºä¾‹: 123ç»™å®š nums = [2, 7, 11, 15], target = 9å› ä¸º nums[0] + nums[1] = 2 + 7 = 9æ‰€ä»¥è¿”å› [0, 1] æ–¹æ³•ï¼šå“ˆå¸Œè¡¨ åˆ©ç”¨pythonä¸­çš„å­—å…¸è®°å½•è®°å½•ä¸‹æ¯ä¸ªå…ƒç´ å‡ºç°çš„ä½ç½®ã€‚keyè®°å·®å€¼ï¼Œvalueè®°å·²æœ‰æ•°å€¼çš„ä½ç½®ã€‚ 12345678910111213141516class Solution(object): def twoSum(self, nums, target): """ :type nums: List[int] :type target: int :rtype: List[int] """ dic = dict() for index,value in enumerate(nums): sub = target - value if sub in dic: return [dic[sub], index] else: dic[value]=index 15. ä¸‰æ•°ä¹‹å’Œ ç»™å®šä¸€ä¸ªåŒ…å« n ä¸ªæ•´æ•°çš„æ•°ç»„ numsï¼Œåˆ¤æ–­ nums ä¸­æ˜¯å¦å­˜åœ¨ä¸‰ä¸ªå…ƒç´  aï¼Œbï¼Œc ï¼Œä½¿å¾— a + b + c = 0 ï¼Ÿæ‰¾å‡ºæ‰€æœ‰æ»¡è¶³æ¡ä»¶ä¸”ä¸é‡å¤çš„ä¸‰å…ƒç»„ã€‚ æ³¨æ„ï¼šç­”æ¡ˆä¸­ä¸å¯ä»¥åŒ…å«é‡å¤çš„ä¸‰å…ƒç»„ã€‚ 1234567ä¾‹å¦‚, ç»™å®šæ•°ç»„ nums = [-1, 0, 1, 2, -1, -4]ï¼Œæ»¡è¶³è¦æ±‚çš„ä¸‰å…ƒç»„é›†åˆä¸ºï¼š[[-1, 0, 1],[-1, -1, 2]] æ–¹æ³•ï¼šæ’åºï¼Œå¾ªç¯Two_Sum 12345678910111213141516171819202122class Solution: def threeSum(self, nums): """ :type nums: List[int] :rtype: List[List[int]] """ nums= sorted(nums) #æ’åº O(nlogn) output = set() for k in range(len(nums)): target = -nums[k] i, j = k + 1, len(nums)-1 while i &lt; j: sum_two = nums[i] + nums[j] if sum_two &lt; target: i += 1 elif sum_two &gt;target: j -= 1 else: output.add((nums[k], nums[i], nums[j])) i += 1 j -= 1 return list(set(output)) Time Complexity: O(n2) 16.æœ€æ¥è¿‘çš„ä¸‰æ•°ä¹‹å’Œ ç»™å®šä¸€ä¸ªåŒ…æ‹¬ n ä¸ªæ•´æ•°çš„æ•°ç»„ nums å’Œ ä¸€ä¸ªç›®æ ‡å€¼ targetã€‚æ‰¾å‡º nums ä¸­çš„ä¸‰ä¸ªæ•´æ•°ï¼Œä½¿å¾—å®ƒä»¬çš„å’Œä¸ target æœ€æ¥è¿‘ã€‚è¿”å›è¿™ä¸‰ä¸ªæ•°çš„å’Œã€‚å‡å®šæ¯ç»„è¾“å…¥åªå­˜åœ¨å”¯ä¸€ç­”æ¡ˆã€‚ ä¾‹å¦‚ï¼Œç»™å®šæ•°ç»„ nums = [-1ï¼Œ2ï¼Œ1ï¼Œ-4], å’Œ target = 1. ä¸ target æœ€æ¥è¿‘çš„ä¸‰ä¸ªæ•°çš„å’Œä¸º 2. (-1 + 2 + 1 = 2). æ–¹æ³•ï¼šæ’åºï¼Œå¾ªç¯æ¯”è¾ƒä¸‰ç§æƒ…å†µ ç­‰äºï¼Œåˆ™è¿”å› å¤§äºï¼Œåˆ™æœ€åçš„æŒ‡é’ˆ-1 å°äºï¼Œåˆ™é¦–ä½çš„æŒ‡é’ˆ+1 1234567891011121314151617181920212223242526class Solution: def threeSumClosest(self, nums, target): """ :type nums: List[int] :type target: int :rtype: int """ nums.sort() # æ’åº n = len(nums) d = 2**32 ans = 0 for i in range(n-2): s, e = i+1, n-1 while s &lt; e: sum3 = nums[i]+nums[s]+nums[e] if sum3 == target: return target diff = abs(sum3 - target) if diff &lt; d: ans, d = sum3, diff if sum3 &gt; target: e -= 1 else: s += 1 return ans å‚è€ƒ mplementation of Dynamic Array in Python ä»»åŠ¡1-æ•°ç»„ä¸é“¾è¡¨]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>LeetCode</tag>
        <tag>æ•°ç»„</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[pythonè§£LeetCodeé“¾è¡¨(1)]]></title>
    <url>%2F2019%2F02%2F28%2Fpython_linklist(1)%2F</url>
    <content type="text"><![CDATA[é“¾è¡¨æ˜¯æ•°æ®ç»“æ„ä¹‹ä¸€ï¼Œå…¶ä¸­çš„æ•°æ®å‘ˆçº¿æ€§æ’åˆ—ã€‚ é“¾è¡¨åœ¨å‰ä¸€ç»“ç‚¹é‡Œç”¨é“¾æ¥çš„æ–¹å¼æ˜¾ç¤ºåœ°è®°å½•ä¸ä¸‹ä¸€ç»“ç‚¹çš„å…³ç³»ã€‚ä¸åŒäºæ•°ç»„ï¼Œé“¾è¡¨çš„å…ƒç´ çš„ç‰©ç†åœ°å€å¯ä»¥ä»»æ„ã€‚ ä¼˜ç‚¹ï¼šæ’å…¥ã€åˆ é™¤æ“ä½œæ–¹ä¾¿ï¼Œä¸ä¼šå¯¼è‡´å…ƒç´ çš„ç§»åŠ¨ï¼Œå› ä¸ºå…ƒç´ å¢å‡ï¼Œåªéœ€è¦è°ƒæ•´æŒ‡é’ˆã€‚ ç©ºé—´å¤§å°å¯ä»¥éšæ„æ‰©å¤§ ç¼ºç‚¹ï¼šåªèƒ½é€šè¿‡é¡ºæ¬¡æŒ‡é’ˆè®¿é—®ï¼ŒæŸ¥æ‰¾ä¸æ–¹ä¾¿ å­¦ä¹ ç›®æ ‡ï¼š å®ç°å•é“¾è¡¨ã€å¾ªç¯é“¾è¡¨ã€åŒå‘é“¾è¡¨ï¼Œæ”¯æŒå¢åˆ æ“ä½œã€‚ å®ç°å•é“¾è¡¨ åªéœ€è¦æŒæ¡è¿™ä¸ªè¡¨çš„é¦–ç»“ç‚¹ï¼Œä»å®ƒå‡ºå‘å¯ä»¥æ‰¾åˆ°è¿™ä¸ªè¡¨é‡Œçš„ä¸‹ä¸€ç»“ç‚¹ï¼Œä»¥è‡³äºæ‰¾åˆ°è¡¨é‡Œçš„æ‰€æœ‰æ•°æ®å…ƒç´ ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061class Node: # é“¾è¡¨çš„ç»“ç‚¹ def __init__(self, x, next_=None): self.val = x self.next = next_class SingleLinkList: # å•é“¾è¡¨ def __init__(self): # ç©ºè¡¨ self.head = None #å¢ def insertAsFirst(self, x): #xåœ¨é¦–ä½æ’å…¥ node = Node(x) node.next = self.head self.head = node def insertAsLast(self, x): #xåœ¨å°¾éƒ¨æ’å…¥ if not self.head: self.head = Node(x) return cur = self.head while cur.next != None: cur = cur.next node = Node(x) cur.next = node #åˆ  def remove(self, p):#åˆ é™¤åœ¨ä½ç½®på¤„çš„ç»“ç‚¹ï¼Œè¿”å›å…¶æ•°å€¼ k = self.head for i in range(p-1): k = k.next x = k.next.val k.next = k.next.next return x def remove_last(self): #åˆ é™¤è¡¨å°¾çš„ç»“ç‚¹ p = self.head if p.next is None: x = p.val self.head = None return x while p.next.next is not None: # ç›´åˆ° p.next æ˜¯æœ€åç»“ç‚¹ p = p.next x = p.next.val p.next = None return x def show(self): cur = self.head while cur != None: # curæ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„èŠ‚ç‚¹ print(cur.val, end=' --&gt; ') cur = cur.next print() if __name__ == '__main__': l = SingleLinkList() for i in range(10): l.insertAsLast(i) l.show() l.remove_last() l.show() è¾“å‡ºï¼š 10 --&gt; 1 --&gt; 2 --&gt; 3 --&gt; 4 --&gt; 5 --&gt; 6 --&gt; 7 --&gt; 8 --&gt; 9 --&gt; åŒå‘é“¾è¡¨ å¢åŠ äº†åå‘çš„é“¾æ¥ï¼Œç»“ç‚¹æ“ä½œæ›´åŠ æ–¹ä¾¿ã€‚ä½†æ˜¯æ¯ä¸ªç»“ç‚¹éƒ½éœ€è¦å¢åŠ ä¸€ä¸ªé“¾æ¥åŸŸï¼Œå¢åŠ çš„ç©ºé—´å¼€é”€ä¸ç»“ç‚¹æ•°æˆæ­£æ¯”ï¼ŒO(n) 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465class DLNode: # é“¾è¡¨çš„ç»“ç‚¹ def __init__(self, x, prev=None, next_=None): self.val = x self.next = next_ self.prev = prevclass DoubleLinkList: # åŒé“¾è¡¨ def __init__(self): # ç©ºè¡¨ self.head = None #å¢ def insertAsFirst(self, x): #xåœ¨é¦–ä½æ’å…¥ if not self.head: self.head = DLNode(x) else: node = DLNode(x,None,self.head) self.head.prev = node self.head = node # node ä½œä¸ºæ–°çš„å¤´ç»“ç‚¹ def insertAsLast(self, x): #xåœ¨å°¾éƒ¨æ’å…¥ if not self.head: self.head = DLNode(x) else: cur = self.head while cur.next != None: # ç§»åŠ¨åˆ°é“¾è¡¨å°¾éƒ¨ cur = cur.next node = DLNode(x) cur.next = node node.prev = cur #åˆ  def remove(self, p):#åˆ é™¤åœ¨ä½ç½®på¤„çš„ç»“ç‚¹ï¼Œè¿”å›å…¶æ•°å€¼ k = self.head for i in range(p-1): k = k.next x = k.next.val k.next = k.next.next k.next.prev = k return x def show(self): cur = self.head while cur != None: # curæ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„èŠ‚ç‚¹ print(cur.val, end=' -- ') cur = cur.next print() def show_reverse(self): cur = self.head while cur.next != None: cur = cur.next while cur != None: print(cur.val, end=' -- ') cur = cur.prev print() if __name__ == '__main__': l = DoubleLinkList() for i in range(10): l.insertAsLast(i) l.show() l.remove(2) l.show() l.show_reverse() è¾“å‡ºï¼š 1230 -- 1 -- 2 -- 3 -- 4 -- 5 -- 6 -- 7 -- 8 -- 9 -- 0 -- 1 -- 3 -- 4 -- 5 -- 6 -- 7 -- 8 -- 9 -- 9 -- 8 -- 7 -- 6 -- 5 -- 4 -- 3 -- 1 -- 0 --]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>LeetCode</tag>
        <tag>é“¾è¡¨</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[pythonè§£LeetCodeæ•°ç»„(2)]]></title>
    <url>%2F2019%2F02%2F26%2Fpython_leetcode-array(2)%2F</url>
    <content type="text"><![CDATA[æ±‚ä¼—æ•° æ—‹è½¬æ•°ç»„ å­˜åœ¨é‡å¤å…ƒç´  å­˜åœ¨é‡å¤å…ƒç´  II é™¤è‡ªèº«ä»¥å¤–æ•°ç»„çš„ä¹˜ç§¯ ç¼ºå¤±æ•°å­— ç¬¬ä¸‰å¤§çš„æ•° æ‰¾åˆ°æ‰€æœ‰æ•°ç»„ä¸­æ¶ˆå¤±çš„æ•°å­— æœ€å¤§è¿ç»­1çš„ä¸ªæ•° æ•°ç»„ä¸­çš„K-diffæ•°å¯¹ æ•°ç»„æ‹†åˆ† I é‡å¡‘çŸ©é˜µ æœ€çŸ­æ— åºè¿ç»­å­æ•°ç»„ 169. æ±‚ä¼—æ•° Majority Element ç»™å®šä¸€ä¸ªå¤§å°ä¸º n çš„æ•°ç»„ï¼Œæ‰¾åˆ°å…¶ä¸­çš„ä¼—æ•°ã€‚ä¼—æ•°æ˜¯æŒ‡åœ¨æ•°ç»„ä¸­å‡ºç°æ¬¡æ•°å¤§äº âŒŠ n/2 âŒ‹ çš„å…ƒç´ ã€‚ ä½ å¯ä»¥å‡è®¾æ•°ç»„æ˜¯éç©ºçš„ï¼Œå¹¶ä¸”ç»™å®šçš„æ•°ç»„æ€»æ˜¯å­˜åœ¨ä¼—æ•°ã€‚ ç¤ºä¾‹ 1: 12è¾“å…¥: [3,2,3]è¾“å‡º: 3 æ–¹æ³•ï¼š éå† æœ€å¤šçš„å…ƒç´ å‡ºç°çš„æ¬¡æ•°å¤§äºæ•°ç»„é•¿åº¦çš„ä¸€åŠï¼Œåœ¨æœ€æç«¯çš„æƒ…å†µä¸‹ï¼Œæœ€åçš„countéƒ½ä¼šå¤§äº0 12345678910111213141516171819class Solution(object): def majorityElement(self, nums): """ :type nums: List[int] :rtype: int """ count = 1 res = nums[0] for i in range(1, len(nums)): if nums[i] == res: count += 1 else: count -= 1 if count == 0: res = nums[i] count = 1 return res 189. æ—‹è½¬æ•°ç»„ Rotate Array é¢˜ç›®æè¿° ç»™å®šä¸€ä¸ªæ•°ç»„ï¼Œå°†æ•°ç»„ä¸­çš„å…ƒç´ å‘å³ç§»åŠ¨ k ä¸ªä½ç½®ï¼Œå…¶ä¸­ k æ˜¯éè´Ÿæ•°ã€‚ ç¤ºä¾‹ 1: 123456è¾“å…¥: [1,2,3,4,5,6,7] å’Œ k = 3è¾“å‡º: [5,6,7,1,2,3,4]è§£é‡Š:å‘å³æ—‹è½¬ 1 æ­¥: [7,1,2,3,4,5,6]å‘å³æ—‹è½¬ 2 æ­¥: [6,7,1,2,3,4,5]å‘å³æ—‹è½¬ 3 æ­¥: [5,6,7,1,2,3,4] æ–¹æ³•ï¼šç›´æ¥æ‹¼æ¥æ•°ç»„ 123456789class Solution(object): def rotate(self, nums, k): """ :type nums: List[int] :type k: int :rtype: None Do not return anything, modify nums in-place instead. """ n = len(nums) nums[:] = nums[n-k:] + nums[:n-k] 217. å­˜åœ¨é‡å¤å…ƒç´  Contains Duplicate é¢˜ç›®æè¿° ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ï¼Œåˆ¤æ–­æ˜¯å¦å­˜åœ¨é‡å¤å…ƒç´ ã€‚ å¦‚æœä»»ä½•å€¼åœ¨æ•°ç»„ä¸­å‡ºç°è‡³å°‘ä¸¤æ¬¡ï¼Œå‡½æ•°è¿”å› trueã€‚å¦‚æœæ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ éƒ½ä¸ç›¸åŒï¼Œåˆ™è¿”å› falseã€‚ ç¤ºä¾‹ 1: è¾“å…¥: [1,2,3,1] è¾“å‡º: true ç¤ºä¾‹ 2: è¾“å…¥: [1,2,3,4] è¾“å‡º: false æ–¹æ³•ï¼šset() 1234567class Solution(object): def containsDuplicate(self, nums): """ :type nums: List[int] :rtype: bool """ return len(nums) != len(set(nums)) 219. å­˜åœ¨é‡å¤å…ƒç´  II Contains Duplicate II é¢˜ç›®æè¿° ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„å’Œä¸€ä¸ªæ•´æ•° kï¼Œåˆ¤æ–­æ•°ç»„ä¸­æ˜¯å¦å­˜åœ¨ä¸¤ä¸ªä¸åŒçš„ç´¢å¼• i å’Œ jï¼Œä½¿å¾— nums [i] = nums [j]ï¼Œå¹¶ä¸” i å’Œ j çš„å·®çš„ç»å¯¹å€¼æœ€å¤§ä¸º kã€‚ ç¤ºä¾‹ 1: è¾“å…¥: nums = [1,0,1,1], k = 1 è¾“å‡º: true ç¤ºä¾‹ 2: è¾“å…¥: nums = [1,2,3,1,2,3], k = 2 è¾“å‡º: false æ–¹æ³• ç”¨dictä¿å­˜æ•°ç»„å…ƒç´ å‡ºç°çš„ä½ç½®ï¼Œä¸¤ç§æƒ…å†µä¸‹æ›´æ–° 1234567891011121314class Solution(object): def containsNearbyDuplicate(self, nums, k): """ :type nums: List[int] :type k: int :rtype: bool """ dic = dict() for index,value in enumerate(nums): if value in dic and index - dic[value] &lt;= k: return True dic[value] = index return False 238. é™¤è‡ªèº«ä»¥å¤–æ•°ç»„çš„ä¹˜ç§¯ ç»™å®šé•¿åº¦ä¸º n çš„æ•´æ•°æ•°ç»„ numsï¼Œå…¶ä¸­ n &gt; 1ï¼Œè¿”å›è¾“å‡ºæ•°ç»„ output ï¼Œå…¶ä¸­ output[i] ç­‰äº nums ä¸­é™¤ nums[i] ä¹‹å¤–å…¶ä½™å„å…ƒç´ çš„ä¹˜ç§¯ã€‚ ç¤ºä¾‹: 12345è¾“å…¥: [1,2,3,4]è¾“å‡º: [24,12,8,6]12è¯´æ˜: è¯·ä¸è¦ä½¿ç”¨é™¤æ³•ï¼Œä¸”åœ¨ O(n) æ—¶é—´å¤æ‚åº¦å†…å®Œæˆæ­¤é¢˜ã€‚ æ–¹æ³• å¯ä»¥å‘ç°æ¯ä¸ªä½ç½®å…¶å®éƒ½æ˜¯å®ƒå‰é¢æ‰€æœ‰æ•°çš„ä¹˜ç§¯å†ä¹˜ä¸Šå®ƒåé¢æ‰€æœ‰æ•°çš„ä¹˜ç§¯ã€‚æŒ‰ç…§è¿™ç§æƒ³æ³•å»ºç«‹è¿”å›æ•°ç»„ï¼Œé¦–å…ˆè¯¥æ•°ç»„ä¸­ä»ç¬¬äºŒä¸ªæ•°å¼€å§‹æ¯ä¸ªæ•°éƒ½æ˜¯å‰é¢æ•°çš„ä¹˜ç§¯ï¼Œè¿™æ ·å®Œæˆäº†ç¬¬ä¸€æ­¥ï¼Œå…¶å®æ­¤æ—¶æ•°ç»„ä¸­çš„æœ€åä¸€ä¸ªæ•°å·²ç»æ˜¯è¿”å›å€¼äº†ã€‚æ¥ä¸‹æ¥ä»è¿”å›æ•°ç»„çš„å€’æ•°ç¬¬äºŒä¸ªæ•°å¼€å§‹å‘å‰ï¼Œæ¯ä¸ªè¿”å›å€¼éƒ½æ˜¯è¯¥æ•°å­—ï¼ˆä¹Ÿå°±æ˜¯numsä¸­è¯¥æ•°ä»¥å‰æ•°çš„ä¹˜ç§¯ï¼‰ä¸numsè¯¥æ•°å­—ä»¥åæ•°å­—ä¹˜ç§¯çš„ä¹˜ç§¯ã€‚ 12345678910111213class Solution: def productExceptSelf(self, nums: List[int]) -&gt; List[int]: temp = 1 res = [] res.append(1) for i in range(len(nums)-1): temp *= nums[i] res.append(temp) temp = 1 for i in range(len(nums)-2,-1,-1): temp *= nums[i+1] res[i] *= temp return res 268. ç¼ºå¤±æ•°å­— Missing Number é¢˜ç›®æè¿° ç»™å®šä¸€ä¸ªåŒ…å« 0, 1, 2, â€¦, n ä¸­ n ä¸ªæ•°çš„åºåˆ—ï¼Œæ‰¾å‡º 0 .. n ä¸­æ²¡æœ‰å‡ºç°åœ¨åºåˆ—ä¸­çš„é‚£ä¸ªæ•°ã€‚ ç¤ºä¾‹ 1: è¾“å…¥: [3,0,1] è¾“å‡º: 2 ç¤ºä¾‹ 2: è¾“å…¥: [9,6,4,2,3,5,7,0,1] è¾“å‡º: 8 æ–¹æ³•ï¼šæ•°å­¦å…¬å¼ 123456789class Solution(object): def missingNumber(self, nums): """ :type nums: List[int] :rtype: int """ n = len(nums) return n* (n+1)/2 - sum(nums) ç§»åŠ¨é›¶ Move Zeroes é¢˜ç›®æè¿° ç»™å®šä¸€ä¸ªæ•°ç»„ numsï¼Œç¼–å†™ä¸€ä¸ªå‡½æ•°å°†æ‰€æœ‰ 0 ç§»åŠ¨åˆ°æ•°ç»„çš„æœ«å°¾ï¼ŒåŒæ—¶ä¿æŒéé›¶å…ƒç´ çš„ç›¸å¯¹é¡ºåºã€‚ ç¤ºä¾‹: 12è¾“å…¥: [0,1,0,3,12]è¾“å‡º: [1,3,12,0,0] è¯´æ˜: å¿…é¡»åœ¨åŸæ•°ç»„ä¸Šæ“ä½œï¼Œä¸èƒ½æ‹·è´é¢å¤–çš„æ•°ç»„ã€‚ å°½é‡å‡å°‘æ“ä½œæ¬¡æ•°ã€‚ æ–¹æ³• éå†æ•°ç»„ï¼Œç”¨ä¸€ä¸ªå˜é‡è®°å½•å½“å‰ä¸ä¸º0çš„ä¸ªæ•°ï¼ŒåŒæ—¶ä¹Ÿæ˜¯æ–°ä¸ä¸ºé›¶å…ƒç´ æ’å…¥çš„ä½ç½®ï¼š 123456789101112class Solution: def moveZeroes(self, nums: List[int]) -&gt; None: """ Do not return anything, modify nums in-place instead. """ index = 0 for i in nums: if i != 0: nums[index]=i index += 1 for i in range(index,len(nums)): nums[i] = 0 414. ç¬¬ä¸‰å¤§çš„æ•° ç»™å®šä¸€ä¸ªéç©ºæ•°ç»„ï¼Œè¿”å›æ­¤æ•°ç»„ä¸­ç¬¬ä¸‰å¤§çš„æ•°ã€‚å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™è¿”å›æ•°ç»„ä¸­æœ€å¤§çš„æ•°ã€‚è¦æ±‚ç®—æ³•æ—¶é—´å¤æ‚åº¦å¿…é¡»æ˜¯O(n)ã€‚ ç¤ºä¾‹ 1: 12345è¾“å…¥: [3, 2, 1]è¾“å‡º: 1è§£é‡Š: ç¬¬ä¸‰å¤§çš„æ•°æ˜¯ 1. ç¤ºä¾‹ 2: 12345è¾“å…¥: [1, 2]è¾“å‡º: 2è§£é‡Š: ç¬¬ä¸‰å¤§çš„æ•°ä¸å­˜åœ¨, æ‰€ä»¥è¿”å›æœ€å¤§çš„æ•° 2 . ç¤ºä¾‹ 3: 123456è¾“å…¥: [2, 2, 3, 1]è¾“å‡º: 1è§£é‡Š: æ³¨æ„ï¼Œè¦æ±‚è¿”å›ç¬¬ä¸‰å¤§çš„æ•°ï¼Œæ˜¯æŒ‡ç¬¬ä¸‰å¤§ä¸”å”¯ä¸€å‡ºç°çš„æ•°ã€‚å­˜åœ¨ä¸¤ä¸ªå€¼ä¸º2çš„æ•°ï¼Œå®ƒä»¬éƒ½æ’ç¬¬äºŒã€‚ æ–¹æ³•ä¸€ 123456789101112class Solution: def thirdMax(self, nums: List[int]) -&gt; int: max1 = max2 = max3 = float('-inf') for num in nums: if num&gt;max1: max2,max3 = max1,max2 max1 = num elif num&gt;max2 and num &lt; max1: max2, max3 = num,max2 elif num&gt;max3 and num &lt; max2: max3 = num return max1 if max3==float('-inf') else max3 æ–¹æ³•äºŒ 12345678class Solution: def thirdMax(self, nums: List[int]) -&gt; int: a=set(nums) if len(a)&lt;3: return max(a) else: a.remove(max(a)) a.remove(max(a)) return max(a) 448. æ‰¾åˆ°æ‰€æœ‰æ•°ç»„ä¸­æ¶ˆå¤±çš„æ•°å­— ç»™å®šä¸€ä¸ªèŒƒå›´åœ¨ 1 â‰¤ a[i] â‰¤ n ( n = æ•°ç»„å¤§å° ) çš„ æ•´å‹æ•°ç»„ï¼Œæ•°ç»„ä¸­çš„å…ƒç´ ä¸€äº›å‡ºç°äº†ä¸¤æ¬¡ï¼Œå¦ä¸€äº›åªå‡ºç°ä¸€æ¬¡ã€‚ æ‰¾åˆ°æ‰€æœ‰åœ¨ [1, n] èŒƒå›´ä¹‹é—´æ²¡æœ‰å‡ºç°åœ¨æ•°ç»„ä¸­çš„æ•°å­—ã€‚ æ‚¨èƒ½åœ¨ä¸ä½¿ç”¨é¢å¤–ç©ºé—´ä¸”æ—¶é—´å¤æ‚åº¦ä¸ºO(n)çš„æƒ…å†µä¸‹å®Œæˆè¿™ä¸ªä»»åŠ¡å—? ä½ å¯ä»¥å‡å®šè¿”å›çš„æ•°ç»„ä¸ç®—åœ¨é¢å¤–ç©ºé—´å†…ã€‚ ç¤ºä¾‹: 12345è¾“å…¥:[4,3,2,7,8,2,3,1]è¾“å‡º:[5,6] æ–¹æ³• æ³¨æ„åˆ°æ•°ç»„å…ƒç´ ä¸ªæ•°è·Ÿå…ƒç´ èŒƒå›´æ˜¯ä¸€æ ·çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥æŠŠå‡ºç°è¿‡çš„å…ƒç´ å¯¹åº”ä¸‹æ ‡ä½ç½®çš„æ•°å­—å˜æˆè´Ÿæ•°ï¼Œæœ€åæŠŠæ‰€æœ‰æ­£æ•°å¯¹åº”çš„ä¸‹æ ‡æ‹¿å‡ºæ¥ï¼Œå°±æ˜¯ç¼ºå¤±çš„æ•°å­—ã€‚ 123456class Solution: def findDisappearedNumbers(self, nums: List[int]) -&gt; List[int]: for i in range(len(nums)): index = abs(nums[i])-1 nums[index] = -abs(nums[index]) return [i+1 for i in range(len(nums)) if nums[i]&gt;0] 485. æœ€å¤§è¿ç»­1çš„ä¸ªæ•° ç»™å®šä¸€ä¸ªäºŒè¿›åˆ¶æ•°ç»„ï¼Œ è®¡ç®—å…¶ä¸­æœ€å¤§è¿ç»­1çš„ä¸ªæ•°ã€‚ ç¤ºä¾‹ 1: 123è¾“å…¥: [1,1,0,1,1,1]è¾“å‡º: 3è§£é‡Š: å¼€å¤´çš„ä¸¤ä½å’Œæœ€åçš„ä¸‰ä½éƒ½æ˜¯è¿ç»­1ï¼Œæ‰€ä»¥æœ€å¤§è¿ç»­1çš„ä¸ªæ•°æ˜¯ 3. æ³¨æ„ï¼š è¾“å…¥çš„æ•°ç»„åªåŒ…å« 0 å’Œ1ã€‚ è¾“å…¥æ•°ç»„çš„é•¿åº¦æ˜¯æ­£æ•´æ•°ï¼Œä¸”ä¸è¶…è¿‡ 10,000ã€‚ æ–¹æ³•ï¼šéå†æ•°ç»„ 1234567891011class Solution: def findMaxConsecutiveOnes(self, nums: List[int]) -&gt; int: cnt = 0 ans = 0 for num in nums: if num==1: cnt += 1 ans = max(ans,cnt) else: cnt = 0 return ans 532. æ•°ç»„ä¸­çš„K-diffæ•°å¯¹ ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„å’Œä¸€ä¸ªæ•´æ•° k, ä½ éœ€è¦åœ¨æ•°ç»„é‡Œæ‰¾åˆ°ä¸åŒçš„ k-diff æ•°å¯¹ã€‚è¿™é‡Œå°† k-diff æ•°å¯¹å®šä¹‰ä¸ºä¸€ä¸ªæ•´æ•°å¯¹ (i, j), å…¶ä¸­ i å’Œ j éƒ½æ˜¯æ•°ç»„ä¸­çš„æ•°å­—ï¼Œä¸”ä¸¤æ•°ä¹‹å·®çš„ç»å¯¹å€¼æ˜¯ k. ç¤ºä¾‹ 1: 1234è¾“å…¥: [3, 1, 4, 1, 5], k = 2è¾“å‡º: 2è§£é‡Š: æ•°ç»„ä¸­æœ‰ä¸¤ä¸ª 2-diff æ•°å¯¹, (1, 3) å’Œ (3, 5)ã€‚å°½ç®¡æ•°ç»„ä¸­æœ‰ä¸¤ä¸ª1ï¼Œä½†æˆ‘ä»¬åªåº”è¿”å›ä¸åŒçš„æ•°å¯¹çš„æ•°é‡ã€‚ ç¤ºä¾‹ 2: 123è¾“å…¥:[1, 2, 3, 4, 5], k = 1è¾“å‡º: 4è§£é‡Š: æ•°ç»„ä¸­æœ‰å››ä¸ª 1-diff æ•°å¯¹, (1, 2), (2, 3), (3, 4) å’Œ (4, 5)ã€‚ ç¤ºä¾‹ 3: 123è¾“å…¥: [1, 3, 1, 5, 4], k = 0è¾“å‡º: 1è§£é‡Š: æ•°ç»„ä¸­åªæœ‰ä¸€ä¸ª 0-diff æ•°å¯¹ï¼Œ(1, 1)ã€‚ æ³¨æ„: 123æ•°å¯¹ (i, j) å’Œæ•°å¯¹ (j, i) è¢«ç®—ä½œåŒä¸€æ•°å¯¹ã€‚æ•°ç»„çš„é•¿åº¦ä¸è¶…è¿‡10,000ã€‚æ‰€æœ‰è¾“å…¥çš„æ•´æ•°çš„èŒƒå›´åœ¨ [-1e7, 1e7]ã€‚ æ–¹æ³• å¦‚æœkå¤§äº0ï¼Œåˆ™è¿”å›ä¸¤ä¸ªsetçš„äº¤é›† å¦‚æœk=0ï¼Œåˆ™è®¡æ•°ï¼Œæ‰¾å‡ºå‡ºç°1æ¬¡ä»¥ä¸Šçš„å…ƒç´ çš„ä¸ªæ•° å¦‚æœkå°äº0ï¼Œè¿”å›0 12345678class Solution: def findPairs(self, nums: List[int], k: int) -&gt; int: if k&gt;0: return len(set(nums) &amp; set(num+k for num in nums)) elif k==0: return sum(v&gt;1 for v in collections.Counter(nums).values()) else: return 0 561. æ•°ç»„æ‹†åˆ† I ç»™å®šé•¿åº¦ä¸º 2n çš„æ•°ç»„, ä½ çš„ä»»åŠ¡æ˜¯å°†è¿™äº›æ•°åˆ†æˆ n å¯¹, ä¾‹å¦‚ (a1, b1), (a2, b2), â€¦, (an, bn) ï¼Œä½¿å¾—ä»1 åˆ° n çš„ min(ai, bi) æ€»å’Œæœ€å¤§ã€‚ ç¤ºä¾‹ 1: 1234è¾“å…¥: [1,4,3,2]è¾“å‡º: 4è§£é‡Š: n ç­‰äº 2, æœ€å¤§æ€»å’Œä¸º 4 = min(1, 2) + min(3, 4). æç¤º: n æ˜¯æ­£æ•´æ•°,èŒƒå›´åœ¨ [1, 10000]. æ•°ç»„ä¸­çš„å…ƒç´ èŒƒå›´åœ¨ [-10000, 10000]. æ–¹æ³• è¿”å›æ’åºåç¬¬1ï¼Œ3ï¼Œ5ï¼Œã€‚ã€‚2n-1å°çš„æ•° 123class Solution: def arrayPairSum(self, nums: List[int]) -&gt; int: return sum(sorted(nums)[::2]) 566. é‡å¡‘çŸ©é˜µ åœ¨MATLABä¸­ï¼Œæœ‰ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„å‡½æ•° reshapeï¼Œå®ƒå¯ä»¥å°†ä¸€ä¸ªçŸ©é˜µé‡å¡‘ä¸ºå¦ä¸€ä¸ªå¤§å°ä¸åŒçš„æ–°çŸ©é˜µï¼Œä½†ä¿ç•™å…¶åŸå§‹æ•°æ®ã€‚ ç»™å‡ºä¸€ä¸ªç”±äºŒç»´æ•°ç»„è¡¨ç¤ºçš„çŸ©é˜µï¼Œä»¥åŠä¸¤ä¸ªæ­£æ•´æ•°rå’Œcï¼Œåˆ†åˆ«è¡¨ç¤ºæƒ³è¦çš„é‡æ„çš„çŸ©é˜µçš„è¡Œæ•°å’Œåˆ—æ•°ã€‚ é‡æ„åçš„çŸ©é˜µéœ€è¦å°†åŸå§‹çŸ©é˜µçš„æ‰€æœ‰å…ƒç´ ä»¥ç›¸åŒçš„è¡Œéå†é¡ºåºå¡«å……ã€‚ å¦‚æœå…·æœ‰ç»™å®šå‚æ•°çš„reshapeæ“ä½œæ˜¯å¯è¡Œä¸”åˆç†çš„ï¼Œåˆ™è¾“å‡ºæ–°çš„é‡å¡‘çŸ©é˜µï¼›å¦åˆ™ï¼Œè¾“å‡ºåŸå§‹çŸ©é˜µã€‚ ç¤ºä¾‹ 1: 123456789è¾“å…¥: nums = [[1,2], [3,4]]r = 1, c = 4è¾“å‡º: [[1,2,3,4]]è§£é‡Š:è¡Œéå†numsçš„ç»“æœæ˜¯ [1,2,3,4]ã€‚æ–°çš„çŸ©é˜µæ˜¯ 1 * 4 çŸ©é˜µ, ç”¨ä¹‹å‰çš„å…ƒç´ å€¼ä¸€è¡Œä¸€è¡Œå¡«å……æ–°çŸ©é˜µã€‚ ç¤ºä¾‹ 2: 12345678910è¾“å…¥: nums = [[1,2], [3,4]]r = 2, c = 4è¾“å‡º: [[1,2], [3,4]]è§£é‡Š:æ²¡æœ‰åŠæ³•å°† 2 * 2 çŸ©é˜µè½¬åŒ–ä¸º 2 * 4 çŸ©é˜µã€‚ æ‰€ä»¥è¾“å‡ºåŸçŸ©é˜µã€‚ æ³¨æ„ï¼š ç»™å®šçŸ©é˜µçš„å®½å’Œé«˜èŒƒå›´åœ¨ [1, 100]ã€‚ ç»™å®šçš„ r å’Œ c éƒ½æ˜¯æ­£æ•°ã€‚ æ–¹æ³• å°†æ•°ç»„è½¬æ¢ä¸º1è¡Œï¼Œç„¶åæ ¹æ®è¦è½¬æ¢çš„è¡Œåˆ—æ•°è¿›è¡Œè½¬æ¢ 1234567class Solution: def matrixReshape(self, nums: List[List[int]], r: int, c: int) -&gt; List[List[int]]: if len(nums)*len(nums[0]) != r*c: return nums else: onerow = [nums[i][j] for i in range(len(nums)) for j in range(len(nums[0]))] return [onerow[t*c:(t+1)*c] for t in range(r)] 581. æœ€çŸ­æ— åºè¿ç»­å­æ•°ç»„ ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ï¼Œä½ éœ€è¦å¯»æ‰¾ä¸€ä¸ªè¿ç»­çš„å­æ•°ç»„ï¼Œå¦‚æœå¯¹è¿™ä¸ªå­æ•°ç»„è¿›è¡Œå‡åºæ’åºï¼Œé‚£ä¹ˆæ•´ä¸ªæ•°ç»„éƒ½ä¼šå˜ä¸ºå‡åºæ’åºã€‚ ä½ æ‰¾åˆ°çš„å­æ•°ç»„åº”æ˜¯æœ€çŸ­çš„ï¼Œè¯·è¾“å‡ºå®ƒçš„é•¿åº¦ã€‚ ç¤ºä¾‹ 1: 123è¾“å…¥: [2, 6, 4, 8, 10, 9, 15]è¾“å‡º: 5è§£é‡Š: ä½ åªéœ€è¦å¯¹ [6, 4, 8, 10, 9] è¿›è¡Œå‡åºæ’åºï¼Œé‚£ä¹ˆæ•´ä¸ªè¡¨éƒ½ä¼šå˜ä¸ºå‡åºæ’åºã€‚ è¯´æ˜ : è¾“å…¥çš„æ•°ç»„é•¿åº¦èŒƒå›´åœ¨ [1, 10,000]ã€‚ è¾“å…¥çš„æ•°ç»„å¯èƒ½åŒ…å«é‡å¤å…ƒç´  ï¼Œæ‰€ä»¥å‡åºçš„æ„æ€æ˜¯&lt;=ã€‚ æ–¹æ³• all_same.index(False)æ˜¯å…ƒç´ ä»å‰å¾€åçœ‹ç¬¬ä¸€ä¸ªä¸ºFalseçš„å…ƒç´ çš„åºæ•°ã€‚all_same[::-1]æ˜¯ä»åå¾€å‰çœ‹ã€‚ 1234class Solution: def findUnsortedSubarray(self, nums: List[int]) -&gt; int: all_same = [a==b for (a,b) in zip(nums, sorted(nums))] return 0 if all(all_same) else len(nums)-all_same.index(False)-all_same[::-1].index(False) å‚è€ƒ 3ä¸ªæœˆç”¨pythonåˆ·å®Œleetcode600é¢˜!-æ•°ç»„ç®€å•é¢˜ï¼ˆäºŒï¼‰]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>LeetCode</tag>
        <tag>æ•°ç»„</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[pythonè§£LeetCodeæ•°ç»„(1)]]></title>
    <url>%2F2019%2F02%2F22%2Fpython_leetcode-array(1)%2F</url>
    <content type="text"><![CDATA[æ•°ç»„æ˜¯ä¸€ç§åŸºæœ¬çš„æ•°æ®ç»“æ„ï¼Œå æ®ä¸€å—è¿ç»­çš„å†…å­˜ï¼Œå¹¶æŒ‰ç…§é¡ºåºå­˜å‚¨æ•°æ®ã€‚ åˆ›å»ºæ•°ç»„æ—¶ï¼Œéœ€è¦é¦–å…ˆæŒ‡å®šæ•°ç»„çš„å®¹é‡å¤§å°ï¼Œç„¶åæ ¹æ®å¤§å°åˆ†é…å†…å­˜ã€‚ - 26. åˆ é™¤æ’åºæ•°ç»„ä¸­çš„é‡å¤é¡¹ - 27. ç§»é™¤å…ƒç´  - 35. æœç´¢æ’å…¥ä½ç½® - 53. æœ€å¤§å­åºå’Œ - 66. åŠ ä¸€ - 118. æ¨è¾‰ä¸‰è§’ - 119. æ¨è¾‰ä¸‰è§’ II - 121. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº - 122. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº II - 167. ä¸¤æ•°ä¹‹å’Œ II - è¾“å…¥æœ‰åºæ•°ç»„ 26. åˆ é™¤æ’åºæ•°ç»„ä¸­çš„é‡å¤é¡¹ Remove Duplicates from Sorted Array é¢˜ç›®æè¿° ç»™å®šä¸€ä¸ªæ’åºæ•°ç»„ï¼Œä½ éœ€è¦åœ¨åŸåœ°åˆ é™¤é‡å¤å‡ºç°çš„å…ƒç´ ï¼Œä½¿å¾—æ¯ä¸ªå…ƒç´ åªå‡ºç°ä¸€æ¬¡ï¼Œè¿”å›ç§»é™¤åæ•°ç»„çš„æ–°é•¿åº¦ã€‚ ä¸è¦ä½¿ç”¨é¢å¤–çš„æ•°ç»„ç©ºé—´ï¼Œä½ å¿…é¡»åœ¨åŸåœ°ä¿®æ”¹è¾“å…¥æ•°ç»„å¹¶åœ¨ä½¿ç”¨ O(1) é¢å¤–ç©ºé—´çš„æ¡ä»¶ä¸‹å®Œæˆã€‚ ç¤ºä¾‹ 1: 123ç»™å®šæ•°ç»„ nums = [1,1,2], å‡½æ•°åº”è¯¥è¿”å›æ–°çš„é•¿åº¦ 2, å¹¶ä¸”åŸæ•°ç»„ nums çš„å‰ä¸¤ä¸ªå…ƒç´ è¢«ä¿®æ”¹ä¸º 1, 2ã€‚ ä½ ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´ ã€‚ ç¤ºä¾‹ 2: 123ç»™å®š nums = [0,0,1,1,1,2,2,3,3,4],å‡½æ•°åº”è¯¥è¿”å›æ–°çš„é•¿åº¦ 5, å¹¶ä¸”åŸæ•°ç»„ nums çš„å‰äº”ä¸ªå…ƒç´ è¢«ä¿®æ”¹ä¸º 0, 1, 2, 3, 4ã€‚ä½ ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´ ã€‚ è¯´æ˜: ä¸ºä»€ä¹ˆè¿”å›æ•°å€¼æ˜¯æ•´æ•°ï¼Œä½†è¾“å‡ºçš„ç­”æ¡ˆæ˜¯æ•°ç»„å‘¢? è¯·æ³¨æ„ï¼Œè¾“å…¥æ•°ç»„æ˜¯ä»¥â€œå¼•ç”¨â€æ–¹å¼ä¼ é€’çš„ï¼Œè¿™æ„å‘³ç€åœ¨å‡½æ•°é‡Œä¿®æ”¹è¾“å…¥æ•°ç»„å¯¹äºè°ƒç”¨è€…æ˜¯å¯è§çš„ã€‚ ä½ å¯ä»¥æƒ³è±¡å†…éƒ¨æ“ä½œå¦‚ä¸‹: 12345678// nums æ˜¯ä»¥â€œå¼•ç”¨â€æ–¹å¼ä¼ é€’çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸å¯¹å®å‚åšä»»ä½•æ‹·è´int len = removeDuplicates(nums);// åœ¨å‡½æ•°é‡Œä¿®æ”¹è¾“å…¥æ•°ç»„å¯¹äºè°ƒç”¨è€…æ˜¯å¯è§çš„ã€‚// æ ¹æ®ä½ çš„å‡½æ•°è¿”å›çš„é•¿åº¦, å®ƒä¼šæ‰“å°å‡ºæ•°ç»„ä¸­è¯¥é•¿åº¦èŒƒå›´å†…çš„æ‰€æœ‰å…ƒç´ ã€‚for (int i = 0; i &lt; len; i++) &#123; print(nums[i]);&#125; æ–¹æ³•ï¼šéå†ä¸€æ¬¡ éœ€è¦ä¸€ä¸ª flag æ ‡è®°ï¼šä»flag=0å¼€å§‹ï¼Œå½“å‰æ•°ä¸flagä½ç½®çš„æ•°æ¯”è¾ƒï¼Œä¸ç›¸åŒåˆ™flag+1,å¹¶æ›¿æ¢flag+1ä½çš„æ•°ã€‚ 123456789101112131415161718class Solution(object): def removeDuplicates(self, nums): """ :type nums: List[int] :rtype: int """ if not nums: return 0 index = 0 for i in range(1,len(nums)): if nums[i] != nums[index]: index += 1 nums[index] = nums[i] return index+1 27. ç§»é™¤å…ƒç´  Remove Element é¢˜ç›®æè¿° ç»™å®šä¸€ä¸ªæ•°ç»„ nums å’Œä¸€ä¸ªå€¼ valï¼Œä½ éœ€è¦åŸåœ°ç§»é™¤æ‰€æœ‰æ•°å€¼ç­‰äº val çš„å…ƒç´ ï¼Œè¿”å›ç§»é™¤åæ•°ç»„çš„æ–°é•¿åº¦ã€‚ ä¸è¦ä½¿ç”¨é¢å¤–çš„æ•°ç»„ç©ºé—´ï¼Œä½ å¿…é¡»åœ¨åŸåœ°ä¿®æ”¹è¾“å…¥æ•°ç»„å¹¶åœ¨ä½¿ç”¨ O(1) é¢å¤–ç©ºé—´çš„æ¡ä»¶ä¸‹å®Œæˆã€‚ å…ƒç´ çš„é¡ºåºå¯ä»¥æ”¹å˜ã€‚ä½ ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´ ã€‚ ç¤ºä¾‹ 1: ç»™å®š nums = [3,2,2,3], val = 3, å‡½æ•°åº”è¯¥è¿”å›æ–°çš„é•¿åº¦ 2, å¹¶ä¸” nums ä¸­çš„å‰ä¸¤ä¸ªå…ƒç´ å‡ä¸º 2ã€‚ ä½ ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´ ã€‚ ç¤ºä¾‹ 2: ç»™å®š nums = [0,1,2,2,3,0,4,2], val = 2, å‡½æ•°åº”è¯¥è¿”å›æ–°çš„é•¿åº¦ 5, å¹¶ä¸” nums ä¸­çš„å‰äº”ä¸ªå…ƒç´ ä¸º 0, 1, 3, 0, 4ã€‚ æ³¨æ„è¿™äº”ä¸ªå…ƒç´ å¯ä¸ºä»»æ„é¡ºåºã€‚ ä½ ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´ ã€‚ æ–¹æ³•ï¼šéå†ä¸€æ¬¡ 12345678910111213class Solution(object): def removeElement(self, nums, val): """ :type nums: List[int] :type val: int :rtype: int """ index = 0 for i in range(0,len(nums)): if nums[i]!=val: nums[index] = nums[i] index += 1 return index 35. æœç´¢æ’å…¥ä½ç½® Search Insert Position é¢˜ç›®æè¿° ç»™å®šä¸€ä¸ªæ’åºæ•°ç»„å’Œä¸€ä¸ªç›®æ ‡å€¼ï¼Œåœ¨æ•°ç»„ä¸­æ‰¾åˆ°ç›®æ ‡å€¼ï¼Œå¹¶è¿”å›å…¶ç´¢å¼•ã€‚å¦‚æœç›®æ ‡å€¼ä¸å­˜åœ¨äºæ•°ç»„ä¸­ï¼Œè¿”å›å®ƒå°†ä¼šè¢«æŒ‰é¡ºåºæ’å…¥çš„ä½ç½®ã€‚ ä½ å¯ä»¥å‡è®¾æ•°ç»„ä¸­æ— é‡å¤å…ƒç´ ã€‚ ç¤ºä¾‹ 1: è¾“å…¥: [1,3,5,6], 5 è¾“å‡º: 2 ç¤ºä¾‹ 2: è¾“å…¥: [1,3,5,6], 2 è¾“å‡º: 1 ç¤ºä¾‹ 3: è¾“å…¥: [1,3,5,6], 7 è¾“å‡º: 4 æ–¹æ³•ä¸€ï¼šé¡ºåºæŸ¥æ‰¾ 123456789101112class Solution(object): def searchInsert(self, nums, target): """ :type nums: List[int] :type target: int :rtype: int """ if target &gt; nums[-1]: return len(nums) for index, value in enumerate(nums): if value &gt;= target: return index æ–¹æ³•äºŒï¼šäºŒåˆ†æŸ¥æ‰¾ 1234567891011121314151617181920class Solution(object): def searchInsert(self, nums, target): """ :type nums: List[int] :type target: int :rtype: int """ left = 0 right = len(nums)-1 while left &lt;= right: mid = (right-left)/2 + left if nums[mid] == target: return mid elif nums[mid] &gt; target: right = mid-1 else: left = mid+1 return left ç†è®ºä¸Šåº”è¯¥æ¯”å‰ä¸€ä¸ªæ–¹æ³•å¿«ï¼Œå®é™…æµ‹è¯„ç»“æœè¾ƒæ…¢ã€‚ 53. æœ€å¤§å­åºå’Œ Maximum Subarray é¢˜ç›®æè¿° ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ nums ï¼Œæ‰¾åˆ°ä¸€ä¸ªå…·æœ‰æœ€å¤§å’Œçš„è¿ç»­å­æ•°ç»„ï¼ˆå­æ•°ç»„æœ€å°‘åŒ…å«ä¸€ä¸ªå…ƒç´ ï¼‰ï¼Œè¿”å›å…¶æœ€å¤§å’Œã€‚ ç¤ºä¾‹: è¾“å…¥: [-2,1,-3,4,-1,2,1,-5,4], è¾“å‡º: 6 è§£é‡Š: è¿ç»­å­æ•°ç»„ [4,-1,2,1] çš„å’Œæœ€å¤§ï¼Œä¸º 6ã€‚ æ–¹æ³•ï¼šKadaneâ€™s algorithm ç”¨ä¸¤ä¸ªæŒ‡é’ˆï¼šmax_so_far æŒ‡é’ˆè®°å½•æ­¤å‰æ‰€æœ‰ç¢°åˆ°çš„æœ€å¤§å’Œï¼Œmax_ending_here æŒ‡é’ˆè®°å½•å¾ªç¯åˆ°å½“å‰å…ƒç´ çš„æœ€å¤§å’Œã€‚ å½“å¾ªç¯åˆ°å…ƒç´ iæ—¶ï¼Œ å¦‚æœ max_ending_here &lt; 0 çš„è¯ï¼Œè¯´æ˜æ­¤å‰çš„å’Œæ˜¯è´Ÿçš„ï¼Œéœ€è¦èˆå¼ƒï¼Œæ‰€ä»¥å°† max_ending_here çš„å€¼å˜ä¸º iã€‚ åä¹‹ï¼Œè¡¨æ˜å½“å‰çš„å’Œè¿˜æ˜¯æ­£å€¼ï¼Œ å°† max_ending_here çš„å€¼å˜ä¸º i + max_ending_here,å¯ä»¥ç»§ç»­å‘å‰æ¢ç´¢ã€‚ max_so_far å’Œ max_ending_here æ¯”è¾ƒï¼Œå–è¾ƒå¤§å€¼ã€‚ 12345678910111213141516class Solution(object): def maxSubArray(self, nums): """ :type nums: List[int] :rtype: int """ max_so_far = max_ending_here = nums[0] for i in range(1,len(nums)): if max_ending_here &lt; 0: max_ending_here = nums[i] else: max_ending_here += nums[i] if max_ending_here &gt; max_so_far: max_so_far = max_ending_here return max_so_far æ–¹æ³•ï¼š åŠ¨æ€è§„åˆ’ 1234567class Solution: def maxSubArray(self, nums: List[int]) -&gt; int: maxsum = res = nums[0] for i in range(1, len(nums)): maxsum = max(maxsum + nums[i], nums[i]) res = max(maxsum, res) return res ç»“æœä¸å¦‚å‰ä¸€ç§æ–¹æ³•å¿« 66. åŠ ä¸€ Plus One ç»™å®šä¸€ä¸ªç”±æ•´æ•°ç»„æˆçš„éç©ºæ•°ç»„æ‰€è¡¨ç¤ºçš„éè´Ÿæ•´æ•°ï¼Œåœ¨è¯¥æ•°çš„åŸºç¡€ä¸ŠåŠ ä¸€ã€‚ æœ€é«˜ä½æ•°å­—å­˜æ”¾åœ¨æ•°ç»„çš„é¦–ä½ï¼Œ æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ åªå­˜å‚¨ä¸€ä¸ªæ•°å­—ã€‚ ä½ å¯ä»¥å‡è®¾é™¤äº†æ•´æ•° 0 ä¹‹å¤–ï¼Œè¿™ä¸ªæ•´æ•°ä¸ä¼šä»¥é›¶å¼€å¤´ã€‚ ç¤ºä¾‹ 1: 123è¾“å…¥: [1,2,3]è¾“å‡º: [1,2,4]è§£é‡Š: è¾“å…¥æ•°ç»„è¡¨ç¤ºæ•°å­— 123ã€‚ ç¤ºä¾‹ 2: 123è¾“å…¥: [4,3,2,1]è¾“å‡º: [4,3,2,2]è§£é‡Š: è¾“å…¥æ•°ç»„è¡¨ç¤ºæ•°å­— 4321ã€‚ æ–¹æ³•ä¸€ï¼šåè¿‡æ¥éå† ä»æœ€åä¸€ä½ï¼Œæ‰¾ä¸€ä¸ªè®°å½•å½“å‰è¿›ä½çš„å˜é‡ï¼Œç„¶åéå†ä¸€éæ•°ç»„ 123456789101112131415class Solution: def plusOne(self, digits): """ :type digits: List[int] :rtype: List[int] """ for i in reversed(range(len(digits))): if digits[i] == 9: digits[i] = 0 else: digits[i] += 1 return digits digits[0] = 1 digits.append(0) return digits æ–¹æ³•äºŒï¼šè½¬æ•°å­—â†’å­—ç¬¦ä¸²â†’int 12345678910class Solution: def plusOne(self, digits): """ :type digits: List[int] :rtype: List[int] """ sum = 0 for i in digits: sum = sum*10+i return [int(i) for i in str(sum+1)] 118. æ¨è¾‰ä¸‰è§’ Pascalâ€™s Triangle é¢˜ç›®æè¿° ç»™å®šä¸€ä¸ªéè´Ÿæ•´æ•° numRowsï¼Œç”Ÿæˆæ¨è¾‰ä¸‰è§’çš„å‰ numRows è¡Œã€‚ ç¤ºä¾‹: è¾“å…¥: 5 è¾“å‡º: 1234567[ [1], [1,1], [1,2,1], [1,3,3,1], [1,4,6,4,1]] æ–¹æ³• åœ¨æ¨è¾‰ä¸‰è§’ä¸­ï¼Œæ¯ä¸ªæ•°æ˜¯å®ƒå·¦ä¸Šæ–¹å’Œå³ä¸Šæ–¹çš„æ•°çš„å’Œã€‚ æ¯ä¸€è¡Œå‰è¡¥0ï¼Œåè¡¥0ï¼Œç›¸åŠ æ±‚å’Œå³ä¸ºä¸‹ä¸€è¡Œçš„æ•°ã€‚ 1 3 3 1 0 + 0 1 3 3 1 = 1 4 6 4 1 12345678910111213class Solution(object): def generate(self, numRows): """ :type numRows: int :rtype: List[List[int]] """ if numRows == 0: return [] res = [[1]] for i in range(1, numRows): res.append(map(lambda x,y:x+y, res[-1]+[0], [0]+res[-1])) return res 119. æ¨è¾‰ä¸‰è§’ II Pascalâ€™s Triangle II é¢˜ç›®æè¿° ç»™å®šä¸€ä¸ªéè´Ÿç´¢å¼• kï¼Œå…¶ä¸­ k â‰¤ 33ï¼Œè¿”å›æ¨è¾‰ä¸‰è§’çš„ç¬¬ k è¡Œã€‚ ç¤ºä¾‹: 12è¾“å…¥: 3è¾“å‡º: [1,3,3,1] æ–¹æ³• åœ¨æ¨è¾‰ä¸‰è§’ä¸­ï¼Œæ¯ä¸ªæ•°æ˜¯å®ƒå·¦ä¸Šæ–¹å’Œå³ä¸Šæ–¹çš„æ•°çš„å’Œã€‚ æ€è·¯åŒä¸Šä¸€é¢˜ 12345678910class Solution(object): def getRow(self, rowIndex): """ :type rowIndex: int :rtype: List[int] """ res = [1] for i in range(1, rowIndex+1): res = list(map(lambda x,y:x+y, res+[0], [0]+res)) return res 121. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº Best Time to Buy and Sell Stock é¢˜ç›®æè¿° ç»™å®šä¸€ä¸ªæ•°ç»„ï¼Œå®ƒçš„ç¬¬ i ä¸ªå…ƒç´ æ˜¯ä¸€æ”¯ç»™å®šè‚¡ç¥¨ç¬¬ i å¤©çš„ä»·æ ¼ã€‚ å¦‚æœä½ æœ€å¤šåªå…è®¸å®Œæˆä¸€ç¬”äº¤æ˜“ï¼ˆå³ä¹°å…¥å’Œå–å‡ºä¸€æ”¯è‚¡ç¥¨ï¼‰ï¼Œè®¾è®¡ä¸€ä¸ªç®—æ³•æ¥è®¡ç®—ä½ æ‰€èƒ½è·å–çš„æœ€å¤§åˆ©æ¶¦ã€‚ æ³¨æ„ä½ ä¸èƒ½åœ¨ä¹°å…¥è‚¡ç¥¨å‰å–å‡ºè‚¡ç¥¨ã€‚ ç¤ºä¾‹ 1: 1234è¾“å…¥: [7,1,5,3,6,4]è¾“å‡º: 5è§£é‡Š: åœ¨ç¬¬ 2 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 1ï¼‰çš„æ—¶å€™ä¹°å…¥ï¼Œåœ¨ç¬¬ 5 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 6ï¼‰çš„æ—¶å€™å–å‡ºï¼Œæœ€å¤§åˆ©æ¶¦ = 6-1 = 5 ã€‚ æ³¨æ„åˆ©æ¶¦ä¸èƒ½æ˜¯ 7-1 = 6, å› ä¸ºå–å‡ºä»·æ ¼éœ€è¦å¤§äºä¹°å…¥ä»·æ ¼ã€‚ ç¤ºä¾‹ 2: 123è¾“å…¥: [7,6,4,3,1]è¾“å‡º: 0è§£é‡Š: åœ¨è¿™ç§æƒ…å†µä¸‹, æ²¡æœ‰äº¤æ˜“å®Œæˆ, æ‰€ä»¥æœ€å¤§åˆ©æ¶¦ä¸º 0ã€‚ æ–¹æ³•ä¸€ï¼šéå† æ ¹æ®é¢˜æ„ï¼Œæˆ‘ä»¬åªéœ€è¦æ‰¾å‡ºæ•°ç»„ä¸­æœ€å¤§çš„å·®å€¼å³å¯ï¼Œå³ max(prices[j] â€“ prices[i]) ï¼Œi &lt; j ã€‚ å¦‚ä½•å¾—åˆ°æœ€å¤§çš„å·®å€¼ï¼Œåªéœ€è¦ä¸€æ¬¡éå†å³å¯ï¼Œåœ¨éå†çš„ç”¨ä¸€ä¸ªå˜é‡è®°å½•éå†åˆ°å½“å‰æ—¶çš„æœ€å°å€¼å³å¯ã€‚æ—¶é—´å¤æ‚åº¦ä¸º O(n). 12345678910111213141516171819class Solution(object): def maxProfit(self, prices): """ :type prices: List[int] :rtype: int """ if prices is None or len(prices)&lt;2: return 0 buy = prices[0] # ä¹°å…¥ profit = 0 # åˆ©æ¶¦ for i in range(1,len(prices)): if prices[i] &lt; buy: buy = prices[i] else: if prices[i] - buy &gt; profit: profit = prices[i] - buy return profit æ–¹æ³•äºŒï¼šKadaneâ€™s algorithm æ–¹æ³•åŒä¸Šé¢çš„53é¢˜-æ±‚æ•°ç»„ä¸­å’Œæœ€å¤§çš„è¿ç»­å­æ•°ç»„åºåˆ—ã€‚ å¦‚ä½•è½¬åŒ–ä¸ºæ±‚æ•°ç»„ä¸­çš„å’Œæœ€å¤§çš„è¿ç»­å­åºåˆ—ï¼Ÿç›¸é‚»ä¸¤ä¸ªæ•°ä½œå·®å³å¯ï¼Œè¿™æ ·çš„è¯å­åºåˆ—çš„å’Œå°±æ˜¯æˆ‘ä»¬åœ¨å­åºåˆ—å¼€å§‹å–å‡ºè‚¡ç¥¨ï¼Œåœ¨å­åºåˆ—æœ€åä¹°å›è‚¡ç¥¨æ‰€èƒ½å¾—åˆ°çš„æ”¶ç›Šã€‚ 12345678910111213class Solution(object): def maxProfit(self, prices): """ :type prices: List[int] :rtype: int """ max_so_far = max_ending_here = 0 for i in range(1, len(prices)): max_ending_here = max(0, max_ending_here + prices[i] - prices[i-1]) max_so_far = max(max_so_far, max_ending_here) return max_so_far æµ‹è¯•ç»“æœæ¯”å‰ä¸€ä¸ªæ–¹æ³•æ…¢ 122. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº II Best Time to Buy and Sell Stock II é¢˜ç›®æè¿° ç»™å®šä¸€ä¸ªæ•°ç»„ï¼Œå®ƒçš„ç¬¬ i ä¸ªå…ƒç´ æ˜¯ä¸€æ”¯ç»™å®šè‚¡ç¥¨ç¬¬ i å¤©çš„ä»·æ ¼ã€‚ è®¾è®¡ä¸€ä¸ªç®—æ³•æ¥è®¡ç®—ä½ æ‰€èƒ½è·å–çš„æœ€å¤§åˆ©æ¶¦ã€‚ä½ å¯ä»¥å°½å¯èƒ½åœ°å®Œæˆæ›´å¤šçš„äº¤æ˜“ï¼ˆå¤šæ¬¡ä¹°å–ä¸€æ”¯è‚¡ç¥¨ï¼‰ã€‚ æ³¨æ„ï¼šä½ ä¸èƒ½åŒæ—¶å‚ä¸å¤šç¬”äº¤æ˜“ï¼ˆä½ å¿…é¡»åœ¨å†æ¬¡è´­ä¹°å‰å‡ºå”®æ‰ä¹‹å‰çš„è‚¡ç¥¨ï¼‰ã€‚ ç¤ºä¾‹ 1: è¾“å…¥: [7,1,5,3,6,4] è¾“å‡º: 7 è§£é‡Š: åœ¨ç¬¬ 2 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 1ï¼‰çš„æ—¶å€™ä¹°å…¥ï¼Œåœ¨ç¬¬ 3 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 5ï¼‰çš„æ—¶å€™å–å‡º, è¿™ç¬”äº¤æ˜“æ‰€èƒ½è·å¾—åˆ©æ¶¦ = 5-1 = 4 ã€‚ éšåï¼Œåœ¨ç¬¬ 4 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 3ï¼‰çš„æ—¶å€™ä¹°å…¥ï¼Œåœ¨ç¬¬ 5 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 6ï¼‰çš„æ—¶å€™å–å‡º, è¿™ç¬”äº¤æ˜“æ‰€èƒ½è·å¾—åˆ©æ¶¦ = 6-3 = 3 ã€‚ ç¤ºä¾‹ 2: è¾“å…¥: [1,2,3,4,5] è¾“å‡º: 4 è§£é‡Š: åœ¨ç¬¬ 1 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 1ï¼‰çš„æ—¶å€™ä¹°å…¥ï¼Œåœ¨ç¬¬ 5 å¤© ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 5ï¼‰çš„æ—¶å€™å–å‡º, è¿™ç¬”äº¤æ˜“æ‰€èƒ½è·å¾—åˆ©æ¶¦ = 5-1 = 4 ã€‚ æ³¨æ„ä½ ä¸èƒ½åœ¨ç¬¬ 1 å¤©å’Œç¬¬ 2 å¤©æ¥è¿è´­ä¹°è‚¡ç¥¨ï¼Œä¹‹åå†å°†å®ƒä»¬å–å‡ºã€‚ å› ä¸ºè¿™æ ·å±äºåŒæ—¶å‚ä¸äº†å¤šç¬”äº¤æ˜“ï¼Œä½ å¿…é¡»åœ¨å†æ¬¡è´­ä¹°å‰å‡ºå”®æ‰ä¹‹å‰çš„è‚¡ç¥¨ã€‚ ç¤ºä¾‹ 3: è¾“å…¥: [7,6,4,3,1] è¾“å‡º: 0 è§£é‡Š: åœ¨è¿™ç§æƒ…å†µä¸‹, æ²¡æœ‰äº¤æ˜“å®Œæˆ, æ‰€ä»¥æœ€å¤§åˆ©æ¶¦ä¸º 0ã€‚ æ–¹æ³•ï¼šéå† å¦‚æœåé¢çš„è‚¡ä»·æ¯”å‰é¢çš„å¤§ï¼Œæˆ‘ä»¬å°±ä¹°å– 1234567class Solution(object): def maxProfit(self, prices): """ :type prices: List[int] :rtype: int """ return sum(max(prices[i+1]-prices[i], 0) for i in range(len(prices)-1)) 167. ä¸¤æ•°ä¹‹å’Œ II - è¾“å…¥æœ‰åºæ•°ç»„ é¢˜ç›®æè¿° ç»™å®šä¸€ä¸ªå·²æŒ‰ç…§å‡åºæ’åˆ— çš„æœ‰åºæ•°ç»„ï¼Œæ‰¾åˆ°ä¸¤ä¸ªæ•°ä½¿å¾—å®ƒä»¬ç›¸åŠ ä¹‹å’Œç­‰äºç›®æ ‡æ•°ã€‚ å‡½æ•°åº”è¯¥è¿”å›è¿™ä¸¤ä¸ªä¸‹æ ‡å€¼ index1 å’Œ index2ï¼Œå…¶ä¸­ index1 å¿…é¡»å°äº index2ã€‚ è¯´æ˜: è¿”å›çš„ä¸‹æ ‡å€¼ï¼ˆindex1 å’Œ index2ï¼‰ä¸æ˜¯ä»é›¶å¼€å§‹çš„ã€‚ ä½ å¯ä»¥å‡è®¾æ¯ä¸ªè¾“å…¥åªå¯¹åº”å”¯ä¸€çš„ç­”æ¡ˆï¼Œè€Œä¸”ä½ ä¸å¯ä»¥é‡å¤ä½¿ç”¨ç›¸åŒçš„å…ƒç´ ã€‚ ç¤ºä¾‹: è¾“å…¥: numbers = [2, 7, 11, 15], target = 9 è¾“å‡º: [1,2] è§£é‡Š: 2 ä¸ 7 ä¹‹å’Œç­‰äºç›®æ ‡æ•° 9 ã€‚å› æ­¤ index1 = 1, index2 = 2 ã€‚ æ–¹æ³• æ€è·¯åŒç¬¬1é¢˜ 123456789101112131415class Solution(object): def twoSum(self, numbers, target): """ :type numbers: List[int] :type target: int :rtype: List[int] """ dic = dict() for index, value in enumerate(numbers): sub = target - value if sub in dic: return (dic[sub]+1, index+1) else: dic[value] = index å‚è€ƒ 3ä¸ªæœˆç”¨pythonåˆ·å®Œleetcode600é¢˜!-æ•°ç»„ç®€å•é¢˜ï¼ˆä¸€ï¼‰ Largest Sum Contiguous Subarray]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>LeetCode</tag>
        <tag>æ•°ç»„</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[pythonè§£LeetCodeé“¾è¡¨(2)]]></title>
    <url>%2F2019%2F02%2F20%2Fpython_linklist(2)%2F</url>
    <content type="text"><![CDATA[ç»ƒä¹ é¢˜ç›®ï¼š åˆå¹¶æœ‰åºé“¾è¡¨ åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨ åˆå¹¶Kä¸ªæ’åºé“¾è¡¨ åˆ é™¤èŠ‚ç‚¹ åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬Nä¸ªèŠ‚ç‚¹ åˆ é™¤æ’åºé“¾è¡¨ä¸­çš„é‡å¤å…ƒç´  åˆ é™¤æ’åºé“¾è¡¨ä¸­çš„é‡å¤å…ƒç´  II ç§»é™¤é“¾è¡¨å…ƒç´  åˆ é™¤é“¾è¡¨ä¸­çš„èŠ‚ç‚¹ ç¯å½¢é“¾è¡¨ ç¯å½¢é“¾è¡¨ II ç›¸äº¤é“¾è¡¨ å›æ–‡é“¾è¡¨ 21. åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨ Merge Two Sorted Lists å°†ä¸¤ä¸ªæœ‰åºé“¾è¡¨åˆå¹¶ä¸ºä¸€ä¸ªæ–°çš„æœ‰åºé“¾è¡¨å¹¶è¿”å›ã€‚æ–°é“¾è¡¨æ˜¯é€šè¿‡æ‹¼æ¥ç»™å®šçš„ä¸¤ä¸ªé“¾è¡¨çš„æ‰€æœ‰èŠ‚ç‚¹ç»„æˆçš„ã€‚ ç¤ºä¾‹ï¼š 12è¾“å…¥ï¼š1-&gt;2-&gt;4, 1-&gt;3-&gt;4è¾“å‡ºï¼š1-&gt;1-&gt;2-&gt;3-&gt;4-&gt;4 æ–¹æ³• åŒæ—¶éå†ä¸¤ä¸ªé“¾è¡¨ï¼Œæ¯æ¬¡é€‰å–ä¸¤ä¸ªé“¾è¡¨ä¸­è¾ƒå°å€¼çš„èŠ‚ç‚¹ï¼Œä¾æ¬¡è¿æ¥èµ·æ¥ï¼Œå°±èƒ½å¾—åˆ°æœ€ç»ˆçš„é“¾è¡¨ã€‚ æ³¨æ„ï¼š 1. è¿”å›å€¼è¦è¿”å›head.next 2. æ— éœ€åˆ¤æ–­å¾ªç¯åå“ªä¸ªä¸ä¸ºç©ºï¼Œorè¿”å›ç¬¬ä¸€ä¸ªä¸ºçœŸçš„å€¼ 12345678910111213141516171819202122232425# Definition for singly-linked list.# class ListNode:# def __init__(self, x):# self.val = x# self.next = Noneclass Solution: def mergeTwoLists(self, l1, l2): """ :type l1: ListNode :type l2: ListNode :rtype: ListNode """ head = cur = ListNode(0) while l1 and l2: if l1.val &lt; l2.val: cur.next = l1 l1 = l1.next else: cur.next = l2 l2 = l2.next cur = cur.next cur.next = l1 or l2 return head.next 23.åˆå¹¶Kä¸ªæ’åºé“¾è¡¨ åˆå¹¶ k ä¸ªæ’åºé“¾è¡¨ï¼Œè¿”å›åˆå¹¶åçš„æ’åºé“¾è¡¨ã€‚è¯·åˆ†æå’Œæè¿°ç®—æ³•çš„å¤æ‚åº¦ã€‚ ç¤ºä¾‹: 1234567è¾“å…¥:[ 1-&gt;4-&gt;5, 1-&gt;3-&gt;4, 2-&gt;6]è¾“å‡º: 1-&gt;1-&gt;2-&gt;3-&gt;4-&gt;4-&gt;5-&gt;6 æ–¹æ³• æŠŠé—®é¢˜ç®€åŒ–ä¸ºmerge2çš„é—®é¢˜ï¼Œè¿™ç§æ€è·¯å¯ä»¥æ¯æ¬¡é€’å½’å€¼å½’å¹¶å‰ä¸¤ä¸ªï¼Œæˆ–æ˜¯æˆ–æ˜¯æ¯æ¬¡æŠŠç›¸é‚»çš„ä¸¤ä¸ªéƒ½å½’å¹¶äº†ï¼Œåè€…çš„æ ˆçš„æ·±åº¦è¦æ›´å°ã€‚ 123456789101112131415161718192021222324252627class Solution: def mergeKLists(self, lists: List[ListNode]) -&gt; ListNode: if not lists: return amount = len(lists) interval = 1 while interval &lt; amount: for i in range(0, amount - interval, interval * 2): lists[i] = self.merge2Lists(lists[i], lists[i + interval]) interval *= 2 return lists[0] def merge2Lists(self, l1, l2): head = point = ListNode(0) while l1 and l2: if l1.val &lt;= l2.val: point.next = l1 l1 = l1.next else: point.next = l2 l2 = l1 l1 = point.next.next point = point.next if not l1: point.next=l2 else: point.next=l1 return head.next 19. åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬Nä¸ªèŠ‚ç‚¹ ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œåˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬ n ä¸ªèŠ‚ç‚¹ï¼Œå¹¶ä¸”è¿”å›é“¾è¡¨çš„å¤´ç»“ç‚¹ã€‚ ç¤ºä¾‹ï¼š 12ç»™å®šä¸€ä¸ªé“¾è¡¨: 1-&gt;2-&gt;3-&gt;4-&gt;5, å’Œ n = 2.å½“åˆ é™¤äº†å€’æ•°ç¬¬äºŒä¸ªèŠ‚ç‚¹åï¼Œé“¾è¡¨å˜ä¸º 1-&gt;2-&gt;3-&gt;5. è¯´æ˜ï¼šç»™å®šçš„ n ä¿è¯æ˜¯æœ‰æ•ˆçš„ã€‚ æ–¹æ³•ï¼šå¿«æ…¢æŒ‡é’ˆ å®é™…é¢è¯•ä¸­è€ƒè™‘ï¼šnä»0è®¡è¿˜æ˜¯ä»1è®¡; nä¸åˆæ³•ï¼Œè´Ÿæ•°æˆ–è€…å¤§äºé“¾è¡¨é•¿åº¦å¦‚ä½•å¤„ç†ï¼ˆä¿è¯nåˆæ³•ï¼‰ ç”¨ä¸¤ä¸ªæŒ‡é’ˆï¼ˆåªéœ€è¦éå†ä¸€æ¬¡ï¼‰ï¼Œä¸€ä¸ªå¿«æŒ‡é’ˆä»å‰åˆ°åæ‰«ææ•´ä¸ªé“¾è¡¨ï¼Œå¦ä¸€ä¸ªæ…¢æŒ‡é’ˆçš„æ­¥æ•°å·®n+1ï¼Œé‚£ä¹ˆå½“pæŒ‡å‘å°¾éƒ¨çš„Nullæ—¶ï¼ŒæŒ‡é’ˆqæ°å¥½æŒ‡å‘è¦åˆ é™¤èŠ‚ç‚¹çš„å‰ä¸€ä¸ªèŠ‚ç‚¹ã€‚ ç”±äºå¯èƒ½åˆ é™¤å¤´éƒ¨èŠ‚ç‚¹ï¼Œä¼ªè£…ä¸€ä¸ªæ–°çš„å¤´éƒ¨æ–¹ä¾¿æ“ä½œã€‚ 123456789101112class Solution: def removeNthFromEnd(self, head: ListNode, n: int) -&gt; ListNode: dummyHead = ListNode(0) # å¯èƒ½åˆ é™¤äº†å¤´ç»“ç‚¹ dummyHead.next = head fast = slow = dummyHead for i in range(n+1): fast = fast.next while fast: fast = fast.next slow = slow.next slow.next = slow.next.next # åˆ é™¤ç¬¬nä¸ª return dummyHead.next 83. åˆ é™¤æ’åºé“¾è¡¨ä¸­çš„é‡å¤å…ƒç´  Remove Duplicates from Sorted List é¢˜ç›®æè¿° ç»™å®šä¸€ä¸ªæ’åºé“¾è¡¨ï¼Œåˆ é™¤æ‰€æœ‰é‡å¤çš„å…ƒç´ ï¼Œä½¿å¾—æ¯ä¸ªå…ƒç´ åªå‡ºç°ä¸€æ¬¡ã€‚ ç¤ºä¾‹ 1: è¾“å…¥: 1-&gt;1-&gt;2 è¾“å‡º: 1-&gt;2 ç¤ºä¾‹ 2: è¾“å…¥: 1-&gt;1-&gt;2-&gt;3-&gt;3 è¾“å‡º: 1-&gt;2-&gt;3 æ–¹æ³•ä¸€ï¼šä¸¤ä¸ªæŒ‡é’ˆ ç”¨ä¸¤ä¸ªæŒ‡é’ˆæ¥å®Œæˆï¼Œåˆ†åˆ«è®°å½•è¦åˆ é™¤çš„é“¾è¡¨å…ƒç´ å’Œä¸Šä¸€ä¸ªå…ƒç´ ã€‚ 123456789101112131415161718192021222324# Definition for singly-linked list.# class ListNode:# def __init__(self, x):# self.val = x# self.next = Noneclass Solution: def deleteDuplicates(self, head): """ :type head: ListNode :rtype: ListNode """ if not head: return head p = head q = head.next while q: if p.val == q.val: p.next = q.next q = q.next else: p = p.next q = q.next return head æ–¹æ³•äºŒï¼š ä¸€ä¸ªæŒ‡é’ˆ 12345678910111213class Solution: def deleteDuplicates(self, head): """ :type head: ListNode :rtype: ListNode """ cur = head while cur: while cur.next and cur.val == cur.next.val: cur.next = cur.next.next cur = cur.next return head 82. åˆ é™¤æ’åºé“¾è¡¨ä¸­çš„é‡å¤å…ƒç´  II ç»™å®šä¸€ä¸ªæ’åºé“¾è¡¨ï¼Œåˆ é™¤æ‰€æœ‰å«æœ‰é‡å¤æ•°å­—çš„èŠ‚ç‚¹ï¼Œåªä¿ç•™åŸå§‹é“¾è¡¨ä¸­ æ²¡æœ‰é‡å¤å‡ºç°çš„æ•°å­—ã€‚ ç¤ºä¾‹ 1: 12è¾“å…¥: 1-&gt;2-&gt;3-&gt;3-&gt;4-&gt;4-&gt;5è¾“å‡º: 1-&gt;2-&gt;5 ç¤ºä¾‹ 2: 12è¾“å…¥: 1-&gt;1-&gt;1-&gt;2-&gt;3è¾“å‡º: 2-&gt;3 æ–¹æ³•ï¼šdummy node æ³¨æ„å®¡é¢˜å•Šï¼Œè¿™ä¸ªdistinctçš„æ„æ€å¹¶ä¸æ˜¯å»é‡ï¼Œè€Œæ˜¯åˆ é™¤å‡ºç°æ¬¡æ•°ä¸æ­¢ä¸€æ¬¡çš„ã€‚ å»é‡çš„å¯ä»¥çœ‹è¿™ä¸ªé¢˜ï¼š83. Remove Duplicates from Sorted List å› æ­¤å¿…é¡»å…ˆéå†ä¸€éï¼Œç»Ÿè®¡æ¯ä¸ªèŠ‚ç‚¹å‡ºç°çš„æ¬¡æ•°ã€‚ ç¬¬äºŒæ¬¡éå†çš„æ—¶å€™ï¼ŒæŸ¥æ‰¾ä¸‹ä¸ªèŠ‚ç‚¹çš„å€¼å‡ºç°çš„æ¬¡æ•°å¦‚æœä¸æ˜¯1æ¬¡ï¼Œé‚£ä¹ˆå°±åˆ é™¤ä¸‹ä¸ªèŠ‚ç‚¹ã€‚ä¿®æ”¹è¿™ä¸ªèŠ‚ç‚¹çš„ä¸‹ä¸ªæŒ‡é’ˆæŒ‡å‘ä¸‹ä¸‹ä¸ªèŠ‚ç‚¹ï¼Œè¿™æ˜¯æŒ‡å‘è¯¥èŠ‚ç‚¹ä½ç½®çš„æŒ‡é’ˆä¸è¦åŠ¨ï¼Œå› ä¸ºè¿˜è¦åˆ¤æ–­æ–°çš„nextå€¼ã€‚ 1234567891011121314151617class Solution: def deleteDuplicates(self, head: ListNode) -&gt; ListNode: dummy = ListNode(0) # è®¾ç«‹é“¾è¡¨çš„è™šæ‹Ÿå¤´ç»“ç‚¹ dummy.next = head valist = [] while head: valist.append(head.val) head = head.next counter = collections.Counter(valist) head = dummy while head and head.next: if counter[head.next.val] != 1: head.next = head.next.next else: head = head.next return dummy.next 203. ç§»é™¤é“¾è¡¨å…ƒç´  é¢˜ç›®æè¿° åˆ é™¤é“¾è¡¨ä¸­ç­‰äºç»™å®šå€¼ val çš„æ‰€æœ‰èŠ‚ç‚¹ã€‚ ç¤ºä¾‹: è¾“å…¥: 1-&gt;2-&gt;6-&gt;3-&gt;4-&gt;5-&gt;6, val = 6 è¾“å‡º: 1-&gt;2-&gt;3-&gt;4-&gt;5 æ–¹æ³•ï¼šdummy node æœ‰äº†ç¬¬83é¢˜çš„æ€è·¯ï¼Œæˆ‘ä»¬è¿™é‡Œå¯ä»¥ç”¨ä¸€ä¸ªæŒ‡é’ˆæ¥è¿›è¡Œé“¾è¡¨çš„éå†ï¼Œ æ³¨æ„ï¼šå¤´èŠ‚ç‚¹ä¹Ÿéœ€è¦è¿›è¡Œåˆ¤æ–­ï¼Œå¦‚æœå¤´èŠ‚ç‚¹çš„å€¼ç­‰äºvalçš„è¯ï¼Œæˆ‘ä»¬ä¸èƒ½è¿”å›å¤´èŠ‚ç‚¹ï¼Œæ‰€ä»¥è¿™é‡Œå¾ˆå·§å¦™çš„é‡æ–°ç”Ÿæˆäº†ä¸€ä¸ªæ— å…³çš„å¤´èŠ‚ç‚¹dummy nodeã€‚ï¼ˆè®¾ç«‹é“¾è¡¨çš„è™šæ‹Ÿå¤´ç»“ç‚¹ï¼‰ 123456789101112131415class Solution(object): def removeElements(self, head, val): """ :type head: ListNode :type val: int :rtype: ListNode """ dummy = ListNode(-1) #è®¾ç«‹é“¾è¡¨çš„è™šæ‹Ÿå¤´ç»“ç‚¹ dummy.next = head cur = dummy while cur: while cur.next and cur.next.val == val: cur.next = cur.next.next cur = cur.next return dummy.next 237. åˆ é™¤é“¾è¡¨ä¸­çš„èŠ‚ç‚¹ Delete Node in a Linked List è¾“å…¥ï¼šè¦æ±‚è¢«åˆ é™¤çš„ï¼ˆéæœ«å°¾ï¼‰èŠ‚ç‚¹ å‡½æ•°åŠŸèƒ½ï¼šåˆ é™¤æŸä¸ªé“¾è¡¨ä¸­çš„è¿™ä¸ªèŠ‚ç‚¹ã€‚æ— è¿”å›ã€‚ ç¤ºä¾‹ 1: 123è¾“å…¥: head = [4,5,1,9], node = 5è¾“å‡º: [4,1,9]è§£é‡Š: ç»™å®šä½ é“¾è¡¨ä¸­å€¼ä¸º 5 çš„ç¬¬äºŒä¸ªèŠ‚ç‚¹ï¼Œé‚£ä¹ˆåœ¨è°ƒç”¨äº†ä½ çš„å‡½æ•°ä¹‹åï¼Œè¯¥é“¾è¡¨åº”å˜ä¸º 4 -&gt; 1 -&gt; 9. ç¤ºä¾‹ 2: 123è¾“å…¥: head = [4,5,1,9], node = 1è¾“å‡º: [4,5,9]è§£é‡Š: ç»™å®šä½ é“¾è¡¨ä¸­å€¼ä¸º 1 çš„ç¬¬ä¸‰ä¸ªèŠ‚ç‚¹ï¼Œé‚£ä¹ˆåœ¨è°ƒç”¨äº†ä½ çš„å‡½æ•°ä¹‹åï¼Œè¯¥é“¾è¡¨åº”å˜ä¸º 4 -&gt; 5 -&gt; 9. è¯´æ˜: é“¾è¡¨è‡³å°‘åŒ…å«ä¸¤ä¸ªèŠ‚ç‚¹ã€‚ é“¾è¡¨ä¸­æ‰€æœ‰èŠ‚ç‚¹çš„å€¼éƒ½æ˜¯å”¯ä¸€çš„ã€‚ ç»™å®šçš„èŠ‚ç‚¹ä¸ºéæœ«å°¾èŠ‚ç‚¹å¹¶ä¸”ä¸€å®šæ˜¯é“¾è¡¨ä¸­çš„ä¸€ä¸ªæœ‰æ•ˆèŠ‚ç‚¹ã€‚ ä¸è¦ä»ä½ çš„å‡½æ•°ä¸­è¿”å›ä»»ä½•ç»“æœã€‚ æ–¹æ³•:æ›¿æ¢å€¼ å…³é”®æ˜¯ç†è§£é¢˜æ„ï¼Œä¸ç»™ä½ æ•´ä¸ªé“¾è¡¨ï¼Œåªç»™ä½ ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¦‚ä½•æŠŠè¿™ä¸ªèŠ‚ç‚¹åˆ é™¤ã€‚ å…¶å®æ²¡å¿…è¦çœŸçš„æŠŠè¿™ä¸ªèŠ‚ç‚¹åˆ é™¤ï¼Œè€Œæ˜¯æŠŠè¿™ä¸ªèŠ‚ç‚¹å¯¹åº”çš„valå€¼åˆ é™¤å³å¯ï¼Œ æ‰€ä»¥å¯ä»¥å·å¤©æ¢æ—¥ï¼ŒæŠŠä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„å€¼èµ‹ç»™è¿™ä¸ªèŠ‚ç‚¹ï¼Œå†æŠŠä¸‹ä¸€ä¸ªèŠ‚ç‚¹åˆ é™¤ã€‚ 12345678class Solution(object): def deleteNode(self, node): """ :type node: ListNode :rtype: void Do not return anything, modify node in-place instead. """ node.val = node.next.val node.next = node.next.next 141. ç¯å½¢é“¾è¡¨ Linked List Cycle ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œåˆ¤æ–­é“¾è¡¨ä¸­æ˜¯å¦æœ‰ç¯ã€‚ æ–¹æ³•ï¼šå¿«æ…¢åŒæŒ‡é’ˆ é€šè¿‡ä½¿ç”¨å…·æœ‰ä¸åŒé€Ÿåº¦çš„å¿«ã€æ…¢ä¸¤ä¸ªæŒ‡é’ˆéå†é“¾è¡¨ï¼Œç©ºé—´å¤æ‚åº¦å¯ä»¥è¢«é™ä½è‡³ O(1)ã€‚æ…¢æŒ‡é’ˆæ¯æ¬¡ç§»åŠ¨ä¸€æ­¥ï¼Œè€Œå¿«æŒ‡é’ˆæ¯æ¬¡ç§»åŠ¨ä¸¤æ­¥ã€‚ å¦‚æœåˆ—è¡¨ä¸­ä¸å­˜åœ¨ç¯ï¼Œæœ€ç»ˆå¿«æŒ‡é’ˆå°†ä¼šæœ€å…ˆåˆ°è¾¾å°¾éƒ¨ï¼Œæ­¤æ—¶æˆ‘ä»¬å¯ä»¥è¿”å› falseã€‚ è€ƒè™‘ä¸€ä¸ªç¯å½¢é“¾è¡¨ï¼ŒæŠŠæ…¢æŒ‡é’ˆå’Œå¿«æŒ‡é’ˆæƒ³è±¡æˆä¸¤ä¸ªåœ¨ç¯å½¢èµ›é“ä¸Šè·‘æ­¥çš„è¿åŠ¨å‘˜ï¼ˆåˆ†åˆ«ç§°ä¹‹ä¸ºwalkerä¸runnerï¼‰ã€‚è€Œrunneræœ€ç»ˆä¸€å®šä¼šè¿½ä¸Šwalkerã€‚è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿè€ƒè™‘ä¸‹é¢è¿™ç§æƒ…å†µï¼ˆè®°ä½œæƒ…å†µ Aï¼‰ - å‡å¦‚runneråªè½åwalkerä¸€æ­¥ï¼Œåœ¨ä¸‹ä¸€æ¬¡è¿­ä»£ä¸­ï¼Œå®ƒä»¬å°±ä¼šåˆ†åˆ«è·‘äº†ä¸€æ­¥æˆ–ä¸¤æ­¥å¹¶ç›¸é‡ã€‚ å…¶ä»–æƒ…å†µåˆä¼šæ€æ ·å‘¢ï¼Ÿä¾‹å¦‚ï¼Œæˆ‘ä»¬æ²¡æœ‰è€ƒè™‘å¿«è·‘è€…åœ¨æ…¢è·‘è€…ä¹‹åä¸¤æ­¥æˆ–ä¸‰æ­¥çš„æƒ…å†µã€‚ä½†å…¶å®ä¸éš¾æƒ³åˆ°ï¼Œå› ä¸ºåœ¨ä¸‹ä¸€æ¬¡æˆ–è€…ä¸‹ä¸‹æ¬¡è¿­ä»£åï¼Œåˆä¼šå˜æˆä¸Šé¢æåˆ°çš„æƒ…å†µ Aã€‚ 1234567891011121314151617class Solution(object): def hasCycle(self, head): """ :type head: ListNode :rtype: bool """ if not head: return False walker = head runner = head.next try: while walker != runner: walker = walker.next runner = runner.next.next return True except: return False ç•¥å¾®æ”¹å˜è¯­æ³•å½¢å¼ï¼Œæ€è·¯æ²¡æœ‰åŒºåˆ«ï¼š 1234567891011121314151617class Solution(object): def hasCycle(self, head): """ :type head: ListNode :rtype: bool """ if not head or not head.next : return False walker = head runner = head.next while walker != runner: # æ”¹æˆåˆ¤æ–­å¿«æŒ‡é’ˆå…ˆåˆ°è¾¾å°¾éƒ¨ if not runner or not runner.next: return False walker = walker.next runner = runner.next.next return True æ›´ç®€æ´çš„å†™æ³• 12345678910111213class Solution(object): def hasCycle(self, head): """ :type head: ListNode :rtype: bool """ fast = slow = head while slow and fast and fast.next: slow = slow.next fast = fast.next.next if slow is fast: return True return False 142. ç¯å½¢é“¾è¡¨ II ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œè¿”å›é“¾è¡¨å¼€å§‹å…¥ç¯çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚ å¦‚æœé“¾è¡¨æ— ç¯ï¼Œåˆ™è¿”å› nullã€‚ ä¸ºäº†è¡¨ç¤ºç»™å®šé“¾è¡¨ä¸­çš„ç¯ï¼Œæˆ‘ä»¬ä½¿ç”¨æ•´æ•° pos æ¥è¡¨ç¤ºé“¾è¡¨å°¾è¿æ¥åˆ°é“¾è¡¨ä¸­çš„ä½ç½®ï¼ˆç´¢å¼•ä» 0 å¼€å§‹ï¼‰ã€‚ å¦‚æœ pos æ˜¯ -1ï¼Œåˆ™åœ¨è¯¥é“¾è¡¨ä¸­æ²¡æœ‰ç¯ã€‚ è¯´æ˜ï¼šä¸å…è®¸ä¿®æ”¹ç»™å®šçš„é“¾è¡¨ã€‚ ç¤ºä¾‹ 1ï¼š 123è¾“å…¥ï¼šhead = [3,2,0,-4], pos = 1è¾“å‡ºï¼štail connects to node index 1è§£é‡Šï¼šé“¾è¡¨ä¸­æœ‰ä¸€ä¸ªç¯ï¼Œå…¶å°¾éƒ¨è¿æ¥åˆ°ç¬¬äºŒä¸ªèŠ‚ç‚¹ã€‚ æ–¹æ³•ä¸€ï¼šset() å¦‚æœæˆ‘ä»¬ä¿å­˜èµ°è¿‡çš„æ¯ä¸ªä½ç½®ä¸å°±å¥½äº†å—ï¼Ÿæ‰€ä»¥ï¼Œå¯¹äºPythonæ¥è¯´ï¼Œå¯ä»¥ç›´æ¥æŠŠå¯¹è±¡æ”¾åˆ°setä¸­å»ï¼Œè¿™æ ·ï¼Œå½“æˆ‘ä»¬å†æ¬¡éå†åˆ°å·²ç»è®¿é—®è¿‡çš„èŠ‚ç‚¹æ—¶ï¼Œè¯´æ˜æœ‰äº†ç¯ï¼Œç›´æ¥è¿”å›è¯¥èŠ‚ç‚¹å³å¯ã€‚ 123456789101112131415class Solution(object): def detectCycle(self, head): """ :type head: ListNode :rtype: ListNode """ if not head: return None visited = set() while head: if head in visited: return head visited.add(head) head = head.next return None æ–¹æ³•äºŒï¼šå¿«æ…¢æŒ‡é’ˆ 1234567891011121314151617181920class Solution(object): def detectCycle(self, head): """ :type head: ListNode :rtype: ListNode """ slow, fast = head, head while fast and fast.next: fast = fast.next.next slow = slow.next if fast == slow: # ç›¸é‡ç‚¹ break if not fast or not fast.next: return None slow = head # ä»å¤´å¼€å§‹èµ° while slow != fast: slow = slow.next # ä»å¤´å¼€å§‹èµ° fast = fast.next # ä»ç›¸é‡ç‚¹å¼€å§‹èµ° return fast 160. ç›¸äº¤é“¾è¡¨ Intersection of Two Linked Lists ç¼–å†™ä¸€ä¸ªç¨‹åºï¼Œæ‰¾åˆ°ä¸¤ä¸ªå•é“¾è¡¨ç›¸äº¤çš„èµ·å§‹èŠ‚ç‚¹ã€‚ å¦‚ä¸‹é¢çš„ä¸¤ä¸ªé“¾è¡¨ï¼š avatar åœ¨èŠ‚ç‚¹ c1 å¼€å§‹ç›¸äº¤ã€‚ æ³¨æ„ï¼š å¦‚æœä¸¤ä¸ªé“¾è¡¨æ²¡æœ‰äº¤ç‚¹ï¼Œè¿”å› null. åœ¨è¿”å›ç»“æœåï¼Œä¸¤ä¸ªé“¾è¡¨ä»é¡»ä¿æŒåŸæœ‰çš„ç»“æ„ã€‚ å¯å‡å®šæ•´ä¸ªé“¾è¡¨ç»“æ„ä¸­æ²¡æœ‰å¾ªç¯ã€‚ ç¨‹åºå°½é‡æ»¡è¶³ O(n) æ—¶é—´å¤æ‚åº¦ï¼Œä¸”ä»…ç”¨ O(1) å†…å­˜ã€‚ æ–¹æ³•ï¼šä¸¤æŒ‡é’ˆ åˆ¤æ–­é“¾è¡¨æ˜¯å¦æœ‰äº¤é›†ï¼Œå¯ä»¥è®¾ç½®ä¸¤ä¸ªæŒ‡é’ˆï¼Œä¸€ä¸ªæŒ‡é’ˆä»ç¬¬ä¸€ä¸ªé“¾è¡¨å¼€å§‹éå†ï¼Œéå†å®Œç¬¬ä¸€ä¸ªé“¾è¡¨å†éå†ç¬¬äºŒä¸ªé“¾è¡¨ï¼Œå¦ä¸€ä¸ªæŒ‡é’ˆä»ç¬¬äºŒä¸ªé“¾è¡¨å¼€å§‹éå†ï¼Œéå†å®Œç¬¬äºŒä¸ªé“¾è¡¨å†éå†ç¬¬ä¸€ä¸ªé“¾è¡¨. ä¸ç®¡ä¸¤ä¸ªé“¾è¡¨åœ¨äº¤é›†å‰çš„é•¿åº¦å¦‚ä½•ï¼Œéå†ä¸¤ä¸ªé“¾è¡¨é•¿åº¦æ€»å’Œç›¸åŒã€‚ å¦‚æœæœ‰äº¤é›†çš„è¯ï¼Œä¸¤ä¸ªæŒ‡é’ˆè‚¯å®šä¼šåŒæ—¶éå†åˆ°æœ€åçš„äº¤é›†éƒ¨åˆ†ã€‚ 1234567891011121314class Solution(object): def getIntersectionNode(self, headA, headB): """ :type head1, head1: ListNode :rtype: ListNode """ if not headA or not headB: return None pa = headA pb = headB while pa is not pb: pa = headB if pa == None else pa.next pb = headA if pb == None else pb.next return pa 234. å›æ–‡é“¾è¡¨ Palindrome Linked List è¯·åˆ¤æ–­ä¸€ä¸ªé“¾è¡¨æ˜¯å¦ä¸ºå›æ–‡é“¾è¡¨ã€‚ ç¤ºä¾‹ 1: 12è¾“å…¥: 1-&gt;2è¾“å‡º: false ç¤ºä¾‹ 2: 12è¾“å…¥: 1-&gt;2-&gt;2-&gt;1è¾“å‡º: true æ–¹æ³•ï¼šä¸¤ä¸ªæŒ‡é’ˆ ä¸¤ä¸ªæŒ‡é’ˆï¼Œä¸€ä¸ªæŒ‡é’ˆä»å‰å¾€åèµ°ï¼Œä¸€ä¸ªæŒ‡é’ˆä»åå¾€å‰èµ°ï¼Œåˆ¤æ–­å…ƒç´ å€¼æ˜¯å¦ç›¸åŒï¼Œè¿™é‡Œè¦åˆ†å‡ ä¸ªæ­¥éª¤æ¥è¿›è¡Œæ±‚è§£ï¼š æ‰¾åˆ°é“¾è¡¨é•¿åº¦çš„ä¸€åŠï¼Œç”¨è¿½èµ¶æ³•ï¼Œä¸€ä¸ªæŒ‡é’ˆä¸€æ¬¡èµ°ä¸¤æ­¥ï¼Œä¸€ä¸ªæŒ‡é’ˆä¸€æ¬¡èµ°ä¸€æ­¥ å°†åä¸€åŠæ•°ç»„åè½¬ æ¯”è¾ƒä¸¤è¾¹å…ƒç´ æ˜¯å¦ç›¸åŒï¼Œåˆ¤æ–­é“¾è¡¨æ˜¯å¦æ˜¯å›æ–‡é“¾è¡¨ 123456789101112131415161718192021222324class Solution(object): def isPalindrome(self, head): """ :type head: ListNode :rtype: bool """ slow = fast = head while fast and fast.next: slow = slow.next fast = fast.next.next node = None #åè½¬åä¸€åŠé“¾è¡¨ while slow: nxt = slow.next slow.next = node node = slow # nodeæ˜¯åè½¬åçš„ç¬¬ä¸€ä¸ªå…ƒç´  slow = nxt while node and head: if node.val != head.val: return False node = node.next head = head.next return True å‚è€ƒ 3ä¸ªæœˆç”¨pythonåˆ·å®Œleetcode600é¢˜!-linked_listç®€å•é¢˜ 21. Merge Two Sorted Lists [easy] (Python)]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
      <tags>
        <tag>LeetCode</tag>
        <tag>é“¾è¡¨</tag>
        <tag>pythongit</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è´ªå¿ƒç®—æ³•]]></title>
    <url>%2F2018%2F10%2F24%2Fweek3-Greedy%20Algorithms%2F</url>
    <content type="text"><![CDATA[æ¦‚è¿° è´ªå¿ƒç®—æ³•æ˜¯æŒ‡ï¼Œåœ¨å¯¹é—®é¢˜æ±‚è§£æ—¶ï¼Œæ¯ä¸€æ­¥é€‰æ‹©ä¸­æ€»æ˜¯åšå‡ºåœ¨å½“å‰çœ‹æ¥æ˜¯æœ€å¥½çš„é€‰æ‹©ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸ä»æ•´ä½“æœ€ä¼˜ä¸ŠåŠ ä»¥è€ƒè™‘ï¼Œä»–æ‰€åšå‡ºçš„æ˜¯åœ¨æŸç§æ„ä¹‰ä¸Šçš„å±€éƒ¨æœ€ä¼˜è§£ã€‚ å®ç°è¿‡ç¨‹ ä»é—®é¢˜çš„æŸä¸€åˆå§‹è§£å‡ºå‘ï¼›while èƒ½æœç»™å®šæ€»ç›®æ ‡å‰è¿›ä¸€æ­¥ doï¼Œæ±‚å‡ºå¯è¡Œè§£çš„ä¸€ä¸ªè§£å…ƒç´ ï¼› æœ€åï¼Œç”±æ‰€æœ‰è§£å…ƒç´ ç»„åˆæˆé—®é¢˜çš„ä¸€ä¸ªå¯è¡Œè§£ã€‚ åˆ›å»ºæ•°å­¦æ¨¡å‹æ¥æè¿°é—®é¢˜ã€‚ æŠŠæ±‚è§£çš„é—®é¢˜åˆ†æˆè‹¥å¹²ä¸ªå­é—®é¢˜ã€‚ å¯¹æ¯ä¸€å­é—®é¢˜æ±‚è§£ï¼Œå¾—åˆ°å­é—®é¢˜çš„å±€éƒ¨æœ€ä¼˜è§£ã€‚ æŠŠå­é—®é¢˜çš„è§£å±€éƒ¨æœ€ä¼˜è§£åˆæˆåŸæ¥è§£é—®é¢˜çš„ä¸€ä¸ªè§£ã€‚ æ³¨æ„ï¼š è´ªå¿ƒç®—æ³•ä¸åŠ¨æ€è§„åˆ’çš„ä¸åŒåœ¨äºå®ƒå¯¹æ¯ä¸ªå­é—®é¢˜çš„è§£å†³æ–¹æ¡ˆéƒ½åšå‡ºé€‰æ‹©ï¼Œä¸èƒ½å›é€€ã€‚åŠ¨æ€è§„åˆ’åˆ™ä¼šä¿å­˜ä»¥å‰çš„è¿ç®—ç»“æœï¼Œå¹¶æ ¹æ®ä»¥å‰çš„ç»“æœå¯¹å½“å‰è¿›è¡Œé€‰æ‹©ï¼Œæœ‰å›é€€åŠŸèƒ½ã€‚ è´ªå¿ƒæ³•å¯ä»¥è§£å†³ä¸€äº›æœ€ä¼˜åŒ–é—®é¢˜ï¼Œå¦‚ï¼šæ±‚å›¾ä¸­çš„æœ€å°ç”Ÿæˆæ ‘ã€æ±‚å“ˆå¤«æ›¼ç¼–ç â€¦â€¦ å¯¹äºå¤§éƒ¨åˆ†çš„é—®é¢˜ï¼Œè´ªå¿ƒæ³•é€šå¸¸éƒ½ä¸èƒ½æ‰¾å‡ºæœ€ä½³è§£ï¼ˆä¸è¿‡ä¹Ÿæœ‰ä¾‹å¤–ï¼‰ï¼Œå› ä¸ºä»–ä»¬ä¸€èˆ¬æ²¡æœ‰æµ‹è¯•æ‰€æœ‰å¯èƒ½çš„è§£ã€‚è´ªå¿ƒæ³•å®¹æ˜“è¿‡æ—©åšå†³å®šï¼Œå› è€Œæ²¡æ³•è¾¾åˆ°æœ€ä½³è§£ã€‚ä¾‹å¦‚ï¼Œæ‰€æœ‰å¯¹å›¾ç€è‰²é—®é¢˜ã€‚ å­¦ä¹ ç›®æ ‡ Practice implementing greedy solutions Build greedy algorithms Create a program for changing money optimally Create a program for maximizing the value of a loot Create a program for maximizing the number of prize places in a competition Apply greedy strategy to solve various computational problems. This will usually require you to design an algorithm that repeatedly makes the most profitable move to construct a solution. You will then need to show that the moves of your algorithm are safe, meaning that they are consistent with at least one optimal solution. Design and implement an eficient greedy algorithm for the following problems: changing money with a minimum number of coins; maximizing the total value of a loot; maximizing revenue in online ad placement; minimizing work while collecting signatures; maximizing the number of prize places in a competition; finally, maximizing your salary! å…‘æ¢é›¶é’± Money Change Task. æ ¹æ®è¾“å…¥å€¼ï¼Œæ‰¾åˆ°éœ€è¦å…‘æ¢ 1, 5, 10é¢é¢ç¡¬å¸çš„æœ€å°‘ä¸ªæ•°. Input Format. è¾“å…¥ä¸€ä¸ªæ•´æ•°\(m\). Constraints. \(1 â‰¤ n â‰¤ 10^3\). Output Format. Output the minimum number of coins with denominations 1, 5, 10 that changes \(m\). Sample 1. 1234Input:28Output:6 28 = 10 + 10 + 5 + 1 + 1 + 1. æ–¹æ³•ä¸€ 12345678910111213def get_change(m): coins = [10, 5, 1] n = 0 for a in coins: while m &gt;= a: n += 1 m -= a if m == 0: break return nprint(get_change(2))print(get_change(28))print(get_change(999)) 2 6 104 æ–¹æ³•äºŒ 123456789101112def get_changeC(m): coins = [10, 5, 1] n = 0 for a in coins: # Update the the number of coins 'held' in the amount. n += m // a # Put remainder to the residuary amount. m %= a return nprint(get_changeC(2))print(get_changeC(28))print(get_changeC(999)) 2 6 104 èƒŒåŒ…é—®é¢˜ Maximum Value of the Loot Task. A thief finds much more loot than his bag can fit. Help him to find the most valuable combination of items assuming that any fraction of a loot item can be put into his bag. Input Format. è¾“å…¥åŒ…å¯æ‰¿å—çš„é‡é‡(capacity)\(W\)ï¼Œ\(n\)ä»¶æ å¤ºå“çš„é‡é‡weightså’Œä»·å€¼valuesåˆ†åˆ«æ˜¯\(w_i,v_i\) Constraints. \(1 â‰¤ n â‰¤ 10^3, 0 â‰¤Wâ‰¤ 2Â·10^6, 0 â‰¤v_iâ‰¤ 2Â·10^6, 0 â‰¤ w_i â‰¤ 2Â·10^6\) æ‰€æœ‰æ•°å­—éƒ½æ˜¯æ•´æ•°. Output Format. Output the maximal value of fractions of items that fit into the knapsack. Sample 1. 1234Input:50, [20,50,30], [60,100,120]Output:180.0000 é€‰äº†ç¬¬1ä»¶å’Œç¬¬3ä»¶ä¸œè¥¿ã€‚ æ–¹æ³•ä¸€ 12345678910111213141516171819202122232425def get_optimal_value(capacity, weights, values): value = 0 n = len(weights) # A = [None] * n pers = [None] * n for i in range(n): pers[i] = values[i] / weights[i] for _ in range(n): if capacity == 0: return value m = pers.index(max(pers)) a = min(weights[m], capacity) value += a*pers[m] weights[m] -= a if weights[m] == 0: pers[m] = 0 # A[m] += a capacity -= a return valueprint("&#123;:.10f&#125;".format(get_optimal_value(10, [30], [500])))print("&#123;:.10f&#125;".format(get_optimal_value(50, [20,50,30], [60,100,120]))) 166.6666666667 180.0000000000 æ–¹æ³•äºŒ Optimization é¦–å…ˆæŒ‰é™åºå°† \(\frac{v}{w}\) æ’åº 1234567891011121314151617181920212223def get_optimal_value(capacity, weights, values): value = 0 weight_value_pairs = sorted(list(zip(weights, values)), key = lambda x:x[1]/x[0], reverse=True) for (w, v) in weight_value_pairs: # If the item fit into the knapsack, put it and recalculate space left. if capacity - w &gt;= 0: value += v capacity -= w else: # Otherwise calculate weight of unit of the item and fill # the knapsack's left space. value += (v / w) * capacity capacity = 0 if not capacity: break return valueprint("&#123;:.10f&#125;".format(get_optimal_value(10, [30], [500])))print("&#123;:.10f&#125;".format(get_optimal_value(50, [20,50,30], [60,100,120]))) 166.6666666667 180.0000000000 å¹¿å‘Šç‚¹å‡»æœ€å¤§æ”¶ç›Š Maximum Advertisement Revenue Task. You have \(n\) ads to place on a popular Internet page. For each ad, you know how much is the advertiser willing to pay for one click on this ad. You have set up \(n\) slots on your page and estimated the expected number of clicks per day for each slot. Now, your goal is to distribute the ads among the slots to maximize the total revenue. Input Format. ç»™å®šä¸¤ç»„åºåˆ—\(a_1,a_2,...,a_n\)(\(a_i\) æ˜¯ç¬¬ \(i\) æ¡å¹¿å‘Šçš„ç‚¹å‡»åˆ©æ¶¦)ï¼Œ\(b_1,b_2,...,b_n\)(\(b_i\) æ˜¯ç¬¬ \(i\) ä¸ªä½ç½®çš„å¹³å‡æ¯å¤©ç‚¹å‡»æ•°)ï¼ŒæŠŠå®ƒä»¬å¯¹åº”åˆ†æˆ\(n\)ç»„\((a_i,b_j)\)ä½¿ä»–ä»¬ä¹˜ç§¯çš„æ€»å’Œæœ€å¤§ã€‚ Constraints. \(1 â‰¤ n â‰¤ 10^3, -10^5 â‰¤a_i,b_iâ‰¤ 10^5\) Output Format. è¾“å‡º \(\sum^n_{i=1}a_ic_i\) çš„æœ€å¤§å€¼ã€‚\(c_1,c_2,...,c_n\)æ˜¯\(b_1,b_2,...,b_n\)çš„é‡æ’åˆ— Sample 1. 1234Input:[1,3,-5], [-2,4,1]Output:23 \(23 = 3 Â· 4 + 1 Â· 1 + (âˆ’5) Â· (âˆ’2).\) å…ˆæ’å¥½åºï¼Œæœ€å¤§çš„åœ¨å‰ï¼Œæœ€å¤§çš„ä¸¤ä¸ªä¹˜ç§¯ï¼Œéšåå¾ªç¯,è¿™æ ·å¾—åˆ°çš„ä¹˜ç§¯å’Œæœ€å¤§ã€‚ 1234567891011def max_dot_product(a, b): a = sorted(a, reverse=True) b = sorted(b, reverse=True) res = 0 for i in range(len(a)): res += a[i] * b[i] return resprint(max_dot_product([23], [39]))print(max_dot_product([1,3,-5], [-2,4,1])) 897 23 æ‰¾æˆ¿å®¢ç­¾å­—çš„æœ€ä½³æ—¶é—´ç‚¹ Collecting Signatures Task. You are responsible for collecting signatures from all tenants of a certain building. For each tenant, you know a period of time when he or she is at home. You would like to collect all signatures by visiting the building as few times as possible.Your goal is to mark as few points on a line as possible so that each segment contains at least one marked point.æ‰¾æœ€å°‘çš„æ ‡è®°æ—¶é—´ç‚¹æ•°\(m\)ï¼Œä½¿æ¯ä¸ªæ—¶é—´æ®µå†…éƒ½æœ‰æ ‡è®°æ—¶é—´ç‚¹ã€‚ Input Format. \(n\)æ®µæ—¶é—´ \(\{[a_0,b_0],[a_1,b_1],...,[a_{n-1},b_{n-1}]\}\) Constraints. \(1 â‰¤ n â‰¤ 100, -0â‰¤a_i â‰¤b_iâ‰¤ 10^9\) Output Format. æ ‡è®°çš„ä½ç½®ç‚¹ Sample 1. 1234Input:[(4,7), (1,3), (2,5), (5,6)]Output:3 6 1234567891011121314151617181920212223242526272829def optimal_points(segments): # æŒ‰ç»“æŸæ—¶é—´å…ˆåæ’åº segments.sort(key = lambda x:x[1]) points = [] for s in segments: points.append(s[0]) points.append(s[1]) result = [] n = len(segments) c = 1 i = 1 result.append(points[c]) # åŠ å…¥ç¬¬ä¸€ä¸ªç»“æŸæ—¶é—´ç‚¹ä¸ºæ ‡è®°ç‚¹ while i &lt; n: if points[i*2] &gt; points[c]: # å¦‚æœä¸‹ä¸€æ®µèµ·å§‹æ—¶é—´ç‚¹æ™šäºæ ‡è®°ç‚¹ c = i*2+1 # åˆ™æŠŠè¿™æ®µçš„ç»“æŸæ—¶é—´ç‚¹åŠ å…¥æ ‡è®°ç‚¹ result.append(points[c]) i += 1 return resultpoints1 = optimal_points([(1,3), (2,5), (3,6)])#print(len(points1))for p in points1: print(p, end=' ')print("\n") points2 = optimal_points([(4,7), (1,3), (2,5), (5,6)])#print(len(points2))for p in points2: print(p, end=' ') 3 3 6 åˆ†ä¸åŒæ•°é‡çš„å¥–å“ Task. ä½ åœ¨ç»™å­©å­ä»¬ç»„ç»‡ä¸€åœºæœ‰è¶£çš„ç«èµ›ã€‚ä½ æœ‰\(n\) ä¸ªç³–æœä½œä¸ºå¥–å“.ä½ æƒ³æŠŠè¿™äº›å¥–å“ç»™æ¯”èµ›å‰ \(k\) åçš„å­©å­ã€‚åæ¬¡è¶Šé«˜ï¼Œè·å¥–ç³–æœåº”è¯¥è¶Šå¤šã€‚ä¸ºäº†ä½¿å°½å¯èƒ½å¤šå­©å­å¼€å¿ƒï¼Œä½ è¦æ‰¾æœ€å¤šçš„è·å¥–åé¢\(k\). Input Format. æ•´æ•° \(n\) Constraints. $1 â‰¤ n â‰¤ 10^9 $ Output Format. è·å¥–åé¢ \(k\) å’Œ åˆ†åˆ«è·å¾—çš„ç³–æœæ•° (æ¯ä¸ªåæ¬¡çš„è·å¥–ç³–æœæ•°ä¸åº”ç›¸åŒ.) Sample 1. 12345Input:7Output:31 2 4 1234567891011121314151617181920212223242526272829303132def optimal_summands(n): summands = [1] #è¢«åŠ æ•° n -= 1 # å‰©ä½™ç³–æœæ•° while n: last_element = summands[-1] # Save move: check whether the incremented last element can be used as # the next summand. if (last_element + 1) * 2 &lt;= n: # å¦‚æœæœ€åä¸€ä¸ªæ•°æ¯”nçš„ä¸€åŠè¿˜å° n -= last_element + 1 summands.append(last_element + 1) # æ·»åŠ è·å¥–åé¢åŠè·å¥–æ•° else: if last_element &gt;= n: # å¦‚æœæœ€åä¸€ä¸ªæ•°å¤§äºn n += summands.pop() summands.append(n) # æ·»åŠ è·å¥–åé¢åŠè·å¥–æ•° n = 0 return summandssummands = optimal_summands(2)print(len(summands))for x in summands: print(x, end=' ')print("\n")summands = optimal_summands(6)print(len(summands))for x in summands: print(x, end=' ')print("\n")summands = optimal_summands(7)print(len(summands))for x in summands: print(x, end=' ')print("\n") 1 2 3 1 2 3 3 1 2 4 è¿™é‡Œè®¾ç½®&lt;=n è€Œä¸æ˜¯&lt;n æ˜¯è¦è€ƒè™‘è¦å¥–å“æ•°ä¸º2çš„æƒ…å†µï¼Œå¿…é¡»æŠŠä¹‹å‰çš„1é€€å›å»ã€‚ æœ€å¤§è–ªæ°´ Maximum Salary Task. As the last question of a successful interview, your boss gives you a few pieces of paper with numbers on it and asks you to compose a largest number from these numbers. The resulting number is going to be your salary, so you are very much interested in maximizing this number. How can you do this?ä¸åŒçš„æ•°æ‹¼æˆä¸€ä¸ªæœ€å¤§æ•°(è¿™äº›æ•°æœªå¿…åªæ˜¯ä¸€ä½æ•°ã€‚(æ¯”å¦‚23å’Œ3ï¼Œåº”è¯¥æ‹¼æˆ323æœ€å¤§) Input Format. \(n\)ä¸ªæ•° \(a_0,a_1,...,a_n\) Constraints. \(1 â‰¤ n â‰¤ 100, 1â‰¤a_i â‰¤ 10^3\) Output Format. å¯ç»„æˆçš„æœ€å¤§æ•° Sample 1. 1234Input:[21,2]Output:221 12345678910111213141516171819202122232425import sysdef isGreaterOrEqual(digit,maxDigit): d = int(str(digit)+str(maxDigit)) m = int(str(maxDigit)+str(digit)) return (d &gt;= m)def largest_number(a): res = "" r=[] while a != []: maxDigit = 0 for digit in a: if isGreaterOrEqual(digit,maxDigit): maxDigit = digit r.append(maxDigit) a.remove(maxDigit) for rr in r: res += str(rr) return resprint(largest_number([21,2]))print(largest_number([23,39,92]))print(largest_number([9,4,6,1,9])) 221 923923 99641 å‚è€ƒï¼š - Courseraï¼šalgorithmic toolbox(week3)]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>Algorithm -   èƒŒåŒ…é—®é¢˜</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[week2-Algorithm Warmup]]></title>
    <url>%2F2018%2F09%2F28%2Fweek2-algorithm_warmup%2F</url>
    <content type="text"><![CDATA[Estimate the running time of an algorithm Practice implementing efficient solutions Practice solving programming challenges Implement programs that are several orders of magnitude faster than straightforward programs æ–æ³¢é‚£å¥‘æ•°åˆ— Fibonacci Numbers Task. Given an integer \(n\), find the last digit of the nth Fibonacci number \(F_n\). Input Format. The input consists of a single integer \(n\). Constraints. $0 â‰¤ n â‰¤ 45 $. Output Format. Output \(F_n\). Sample 1. 1234Input:10Output:55 \(F_{10} = 55\) 0 1 1 2 3 5 8 13 é€’å½’ Naive Algorithm 123456789def calc_fib(n): if (n &lt;= 1): return n return calc_fib(n - 1) + calc_fib(n - 2)print(calc_fib(6))print(calc_fib(20))print(calc_fib(34)) 8 6765 5702887 æ—¶é—´å¤æ‚åº¦ï¼š\(O(2^n)\) åŠ¨æ€è§„åˆ’ Fast Algorithm é€’å½’ + è®°å¿†åŒ– -&gt; é€’æ¨ é€’æ¨å…¬å¼ï¼šA[i] = A[i-1] + A[i-2] 1234567891011def calc_fibFast(n): A = [None]* (n+1) A[0] = 0 A[1] = 1 for i in range(2, n+1): A[i] = A[i-1] + A[i-2] return A[n]print(calc_fibFast(6))print(calc_fibFast(20))print(calc_fibFast(34)) 8 6765 5702887 æ—¶é—´å¤æ‚åº¦ï¼š\(O(n)\) 123456789101112131415def calc_fibFast(n): if n &lt;= 1: return n previous = 0 current = 1 for _ in range(n - 1): previous, current = current, previous + current return currentprint(calc_fibFast(6))print(calc_fibFast(20))print(calc_fibFast(34)) 8 6765 5702887 æ–æ³¢é‚£å¥‘æ•°çš„ä¸ªä½æ•° Last Digit of a Large Fibonacci Number Task. Given an integer \(n\), fnd the last digit of the nth Fibonacci number \(F_n\) mod \(m\) (that is, \(F_n\) mod 10). Input Format. The input consists of a single integer \(n\). Constraints. $0 â‰¤ n â‰¤ 10^{7} $. Output Format. Output the last digit of \(F_n\). Sample 1. 1234Input:3Output:2 \(F_3 = 2\). Naive Algorithm 1234567891011121314151617def get_fibonacci_last_digit_naive(n): if n &lt;= 1: return n previous = 0 current = 1 for _ in range(n - 1): previous, current = current, previous + current return current % 10print(get_fibonacci_last_digit_naive(6))print(get_fibonacci_last_digit_naive(20))print(get_fibonacci_last_digit_naive(34))print(get_fibonacci_last_digit_naive(331)) 8 5 7 9 Fast Algorithm æ¯æ¬¡åªä¿ç•™æ–æ³¢é‚£å¥‘æ•°çš„ä¸ªä½æ•° 1234567891011121314151617def get_fibonacci_last_digit_Fast(n): if n &lt;= 1: return n previous = 0 current = 1 for _ in range(n - 1): previous, current = current, (previous + current) % 10 return currentprint(get_fibonacci_last_digit_Fast(6))print(get_fibonacci_last_digit_Fast(20))print(get_fibonacci_last_digit_Fast(34))print(get_fibonacci_last_digit_Fast(331)) 8 5 7 9 æœ€å¤§å…¬çº¦æ•° Greatest Common Divisor Task. Given two integers \(a\) and \(b\), find their greatest common divisor. Input Format. The two integers \(a\) and \(b\) are given in the same line separated by space.. Constraints. \(1 â‰¤ a, b â‰¤ 2Â·10^{9}\). Output Format. Output GCD(a, b). Sample 1. 1234Input:18 35Output:1 18 and 35 do not have common non-trivial divisors. Naive Algorithm åŒæ—¶èƒ½æ•´é™¤aå’Œbçš„æœ€å¤§çš„æ•° 1234567891011def gcd_naive(a, b): current_gcd = 1 for d in range(2, min(a, b) + 1): if a % d == 0 and b % d == 0: if d &gt; current_gcd: current_gcd = d return current_gcdprint(gcd_naive(12, 4))print(gcd_naive(18, 35))print(gcd_naive(28851538, 1183019)) 4 1 17657 è¾—è½¬ç›¸é™¤æ³• åˆåæ¬§å‡ é‡Œå¾·ç®—æ³•ï¼ˆEuclidean algorithmï¼‰ å¯¹ä¸¤ä¸ªæ•°å­—è¿›è¡Œ mod å–ä½™è¿ç®— æ¥ä¸‹æ¥å†ç”¨é™¤æ•°å’Œä½™æ•°è¿›è¡Œ mod è¿ç®—ã€‚ ç»§ç»­é‡å¤åŒæ ·çš„æ“ä½œã€‚ ä½™æ•°ä¸º0æ—¶ï¼Œæœ€åä¸€æ¬¡è¿ç®—ä¸­çš„é™¤æ•°å°±æ˜¯ä¸¤ä¸ªæ•°å­—çš„æœ€å¤§å…¬çº¦æ•°ã€‚ 123456789def gcd_Euclid(a, b): if b == 0: return a r = a % b return gcd_Euclid(b, r) print(gcd_Euclid(12, 4))print(gcd_Euclid(18, 35))print(gcd_Euclid(28851538, 1183019)) 4 1 17657 ä½¿ç”¨æ¬§å‡ é‡Œå¾—ç®—æ³•ï¼Œåªéœ€é‡å¤åšé™¤æ³•ä¾¿èƒ½æ±‚å¾—æœ€å¤§å…¬çº¦æ•°ã€‚ è¿™ä¸ªç®—æ³•æœ€å¤§çš„ä¼˜åŠ¿å°±åœ¨äºï¼Œå³ä½¿ä¸¤ä¸ªæ•°å­—å†å¤§ï¼Œåªè¦æŒ‰ç…§æ­¥éª¤è¿›è¡Œæ“ä½œå°±èƒ½é«˜æ•ˆåœ°æ±‚å¾—ä¸¤è€…çš„æœ€å¤§å…¬çº¦æ•°ã€‚ æœ€å°å…¬å€æ•° Least Common Multiple Task. Given two integers \(a\) and \(b\), fnd their least common multiple. Input Format. The two integers \(a\) and \(b\) are given in the same line separated by space.. Constraints. \(1 â‰¤ a, b â‰¤ 2Â·10^{9}\). Output Format. Output the least common multiple of \(a\) and \(b\). Sample 1. 1234Input:6 8Output:24 Among all the positive integers that are divisible by both 6 and 8 (e.g., 48, 480, 24), 24 is the smallest one. Naive Algorithm åŒæ—¶æ˜¯aå’Œbçš„å€æ•°çš„æœ€å°å€¼ 123456789def lcm_naive(a, b): for l in range(1, a*b + 1): if l % a == 0 and l % b == 0: return l return a*bprint(lcm_naive(6, 8))print(lcm_naive(28851538, 1183019)) 24 1933053046 Fast Algorithm æ€§è´¨ï¼šä¸¤ä¸ªæ•°çš„ä¹˜ç§¯ç­‰äºè¿™ä¸¤ä¸ªæ•°çš„æœ€å¤§å…¬çº¦æ•°ä¸æœ€å°å…¬å€æ•°çš„ç§¯ã€‚ç”¨è¾—è½¬ç›¸é™¤æ³•æ±‚å‡ºæœ€å¤§å…¬çº¦æ•°ï¼Œå†æ±‚æœ€å°å…¬å€æ•°ã€‚ 1234567891011def gcd_Euclid(a, b): if b == 0: return a r = a % b return gcd_Euclid(b, r)def lcm_fast(a, b): return a*b // gcd_Euclid(a, b)print(lcm_fast(6, 8))print(lcm_fast(28851538, 1183019)) 24 1933053046 æ–æ³¢é‚£å¥‘æ•°å–ä½™ Fibonacci Number modulo m \(i\) 0 \(F_i\) 0 \(F_i\) mod 2 0 \(F_i\) mod 3 0 å¯ä»¥çœ‹å‡ºåºåˆ—æ˜¯æœ‰å‘¨æœŸæ€§çš„ã€‚æ¨¡3ä»¥01120221å¾ªç¯ï¼Œæ¨¡2ä»¥011å¾ªç¯ã€‚æ­¤ç±»å¾ªç¯éƒ½æ˜¯ä»¥01å¼€å§‹ï¼Œç§°ä¸ºçš®è¨è¯ºå‘¨æœŸ(pisano period) \(F_(2015)\) mod 3 åªéœ€è¦æ‰¾åˆ°2015è¢«8é™¤çš„ä½™æ•°. Since 2015 = 251 Â· 8 + 7, we conclude that \(F_(2015)\) mod 3 = \(F_7\) mod 3 = 1. Task. Given two integers \(m\) and \(n\), output \(F_n\) mod \(m\) (that is, the remainder of \(F_n\) when divided by \(m\)). Input Format. The input consists of two integers \(m\) and \(n\) given on the same line (separated by a space). Constraints. \(1 â‰¤ n â‰¤ 10^{18},2 â‰¤ m â‰¤ 10^{3}\). Output Format. Output \(F_n\) mod \(m\). Sample 1. 1234Input:239 1000Output:161 \(F_239 mod 1000 = 39 679 027 332 006 820 581 608 740 953 902 289 877 834 488 152 161 (mod 1 000) = 161\). Naive Algorithm 123456789101112def get_fibonacci_huge_naive(n, m): if n &lt;= 1: return n previous = 0 current = 1 for _ in range(n - 1): previous, current = current, previous + current return current % mprint(get_fibonacci_huge_naive(239, 1000)) 161 Fast Algorithm è®¡ç®—Fibonacciæ•°ç›´åˆ°må¹³æ–¹ï¼Œå› ä¸ºpisano periodä¸å¯èƒ½å¤§äºè¿™ä¸ªæ•°ã€‚ å› ä¸ºæœ€åä¸€ä¸ªæ•°çš„åé¢æ˜¯ä¸‹ä¸€å‘¨æœŸçš„0å’Œ1ï¼Œé‚£å‡è®¾æœ€åä¸¤ä¸ªæ•°åˆ†åˆ«æ˜¯xå’Œyï¼Œåˆ™(x+y)%m=0, (y+0)%m=1ï¼Œæ‰€ä»¥ y=1, x=m-1ä¸ºåˆ¤åˆ«å¼ã€‚ 1234567891011121314def get_fibonacci_huge_fast(n, m): A = [None]* (m**2) A[0] = 0 A[1] = 1 for i in range(2, m**2): A[i] = (A[i-1] + A[i-2]) % m if A[i] == 1 and A[i-1] == m-1: period = i+1 break t = n % period return A[t] % mprint(get_fibonacci_huge_fast(239, 1000))print(get_fibonacci_huge_fast(2816213588, 239)) 161 151 æ–æ³¢é‚£å¥‘æ•°ä¹‹å’Œçš„ä¸ªä½æ•° Last Digit of the Sum of Fibonacci Numbers Task. Given an integer \(n\), fnd the last digit of the sum \(F_0 + F_1 + Â· Â· Â· + F_n\). Input Format. The input consists of a single integer \(n\). Constraints. \(0 â‰¤ n â‰¤ 10^{18}\). Output Format. Output the last digit of \(F_0 + F_1 + Â· Â· Â· + F_n\). Sample 1. 1234Input:3Output:4 \(F_0 + F_1 + F_2 + F_3 = 0 + 1 + 1 + 2= 4\). Naive Algorithm 12345678910111213141516def fibonacci_sum_naive(n): if n &lt;= 1: return n previous = 0 current = 1 sum = 1 for _ in range(n - 1): previous, current = current, previous + current sum += current return sum % 10print(fibonacci_sum_naive(3))print(fibonacci_sum_naive(100))print(fibonacci_sum_naive(240)) 4 5 0 Fast Algorithm æ–æ³¢é‚£å¥‘æ•°åˆ—çš„é€’å½’å®šä¹‰å½¢å¼å¦‚ä¸‹ï¼š \[a_n= \begin{cases} a_{n-1}+a_{n-2},\\ 1,&amp; {n\leq 1} \end{cases} \] æ–æ³¢é‚£å¥‘æ•°åˆ—æ±‚å’Œå…¬å¼ï¼š \[S_n= 2a_n+a_{n-1}-1\] 123456789101112131415def fibonacci_sum_fast(n): if n &lt;= 1: return n previous = 0 current = 1 for _ in range(n - 1): previous, current = current, (previous + current) return (2*current + previous - 1) % 10print(fibonacci_sum_fast(3))print(fibonacci_sum_fast(100))print(fibonacci_sum_fast(240))print(fibonacci_sum_fast(999999)) 4 5 0 0 More Fast Algorithm å»æ‰å¾ªç¯,ç”¨pisano periodæ–¹æ³• 123456789101112131415161718192021def fibonacci_sum_more_fast(n): if n &lt;= 1: return n A = [None]* (100) A[0] = 0 A[1] = 1 for i in range(2, 100): A[i] = (A[i-1] + A[i-2]) % 10 if A[i] == 1 and A[i-1] == 9: period = i+1 break t = n % period if t == 0: t = period-1 return (2*A[t] + A[t-1] - 1) % 10print(fibonacci_sum_more_fast(0))print(fibonacci_sum_more_fast(3))print(fibonacci_sum_more_fast(100))print(fibonacci_sum_more_fast(240))print(fibonacci_sum_more_fast(999999))print(fibonacci_sum_more_fast(832564823476)) 0 4 5 0 0 3 è€ƒè™‘åˆ°ä½™æ•°t==0çš„æƒ…å†µï¼ŒA[t-1]å€¼ä¼šå‡ºé—®é¢˜ï¼Œå› ä¸ºæ˜¯æ–°ä¸€å‘¨æœŸå¾ªç¯ï¼Œå€¼ä¸º0ï¼Œæ‰€ä»¥ï¼Œå¯ä»¥ä»¤t=period-1 æ–æ³¢é‚£å¥‘æ•°ä¹‹éƒ¨åˆ†å’Œçš„ä¸ªä½æ•° Last Digit of the Sum of Fibonacci Numbers Again Task. Given two non-negative integers \(m\) and \(n\), where \(mâ‰¤n\), fnd the last digit of the sum \(F_m + F_{m+1} + Â· Â· Â· + F_n\). Input Format. The input consists of two non-negative integers \(m\) and \(n\) separated by a space. Constraints. \(0 â‰¤mâ‰¤ n â‰¤ 10^{18}\). Output Format. Output the last digit of \(F_m + F_{m+1} + Â· Â· Â· + F_n\). Sample 1. 1234Input:3 7Output:1 \(F_3 + F_4 + F_5 + F_6 + F_7 = 2 + 3 + 5 + 8 + 13 = 31\). Naive Algorithm 12345678910111213141516171819def fibonacci_partial_sum_naive(from_, to): sum = 0 current = 0 next = 1 for i in range(to + 1): if i &gt;= from_: sum += current current, next = next, current + next return sum % 10print(fibonacci_partial_sum_naive(0, 1))print(fibonacci_partial_sum_naive(1, 2))print(fibonacci_partial_sum_naive(3, 7))print(fibonacci_partial_sum_naive(5, 7))print(fibonacci_partial_sum_naive(10, 10))print(fibonacci_partial_sum_naive(10, 200)) 1 2 1 6 5 2 Fast Algorithm 123456789101112131415161718192021222324252627def fibonacci_partial_sum_fast(from_, to): if to == 0: return 0 A = [None]* (100) A[0] = 0 A[1] = 1 for i in range(2, 100): A[i] = (A[i-1] + A[i-2])%10 if A[i] == 1 and A[i-1] == 9: period = i+1 break t = to % period f = (from_ - 1) % period if from_ == (0 or 1): return (2*A[t] + A[t-1] - 1) % 10 return (2*(A[t]-A[f]) + A[t-1] - A[f-1]) % 10print(fibonacci_partial_sum_fast(0, 1))print(fibonacci_partial_sum_fast(1, 2))print(fibonacci_partial_sum_fast(3, 7))print(fibonacci_partial_sum_fast(5, 7))print(fibonacci_partial_sum_fast(10, 10))print(fibonacci_partial_sum_fast(10, 200)) 1 2 1 6 5 2 12345678910A = [None]* (100)A[0] = 0A[1] = 1for i in range(2, to-1): A[i] = (A[i-1] + A[i-2]) % 10 if A[i] == 1 and A[i-1] == 9: period = i+1 breakt = (to-1) % periodreturn (2*(A[t]-A[] + A[t-1] - 1) % 10 æ–æ³¢é‚£å¥‘æ•°å¹³æ–¹ä¹‹å’Œçš„ä¸ªä½æ•° Last Digit of the Sum of Squares of Fibonacci Numbers Task. Compute the last digit of \(F_0^2 + F_1^2 + Â· Â· Â· + F_n^2\). Input Format. Integer n. Constraints. \(0 â‰¤ n â‰¤ 10^{18}\). Output Format. The last digit of \(F_0^2 + F_1^2 + Â· Â· Â· + F_n^2\). Sample 1. 1234Input:7Output:3 \(F_0^2 + F_1^2 + Â· Â· Â· + F_7^2 = 0 + 1 + 1 + 4 + 9 + 25 + 64 + 169 = 273\). Naive Algorithm 1234567891011121314151617def fibonacci_sum_squares_naive(n): if n &lt;= 1: return n previous = 0 current = 1 sum = 1 for _ in range(n - 1): previous, current = current, previous + current sum += current * current return sum % 10print(fibonacci_sum_squares_naive(7))print(fibonacci_sum_squares_naive(73))print(fibonacci_sum_squares_naive(211))print(fibonacci_sum_squares_naive(239)) 3 1 1 0 Fast Algorithm æ–æ³¢é‚£å¥‘æ•°åˆ—å„é¡¹ç›¸åŠ çš„å¹³æ–¹å’Œä¸ºï¼š \[\sum_{n}a_n^2=a_1^2+a_2^2+\ldots + a_n^2=a_{n}a_{n+1}\] 12345678910111213141516171819202122def fibonacci_sum_squares_fast(n): if n &lt;= 1: return n A = [None]* (100) A[0] = 0 A[1] = 1 for i in range(2, 100): A[i] = (A[i-1] + A[i-2])%10 if A[i] == 1 and A[i-1] == 9: period = i+1 A[i+1] = (A[i-1] + A[i])%10 break t = n % period return (A[t] * A[t+1]) % 10print(fibonacci_sum_squares_fast(0))print(fibonacci_sum_squares_fast(7))print(fibonacci_sum_squares_fast(73))print(fibonacci_sum_squares_fast(211))print(fibonacci_sum_squares_fast(239))print(fibonacci_sum_squares_fast(832564823476)) 0 3 1 1 0 9 break å‰é¢åŠ äº†ä¸€è¡Œ A[i+1] = (A[i-1] + A[i])%10 çš„åŸå› æ˜¯ï¼Œå½“ä½™æ•°ä¸ºè¾¹ç•Œå€¼period-1æ—¶ï¼Œè¿˜è¦è®¡ç®—A[t+1] å‚è€ƒï¼š - Courseraï¼šalgorithmic toolbox(week2)]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>Algorithm - Fibonacci</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Maximum Pairwise Product Problem]]></title>
    <url>%2F2018%2F09%2F25%2FMaximum_Pairwise%2F</url>
    <content type="text"><![CDATA[é—®é¢˜ï¼šä¸¤æ•°æœ€å¤§ä¹˜ç§¯ Find the maximum product of two distinct numbers in a sequence of non-negative integers. Input: A sequence of non-negative integers. Output: The maximum value that can be obtained by multiplying two different elements from the sequence. Constraints: $ 2 â‰¤ n â‰¤ 2 Â· 10^5; 0 â‰¤ a_1,...,a_n â‰¤ 2 Â· 10^5 $. Sample: 1234Input:1 2 3Output:6 è¿™ä¸ªé—®é¢˜å…¶å®å°±æ˜¯è¦æ‰¾åˆ°åˆ—è¡¨ä¸­æœ€å¤§çš„ä¸¤ä¸ªæ•°ã€‚ Naive Algorithm 1234567891011def max_pairwise_productNaive(A): n = len(A) max_product = 0 for i in range(n): for j in range(n): if i != j: if max_product &lt; A[i] * A[j]: max_product = A[i] * A[j] return max_productmax_pairwise_productNaive([9,2,4,5,6,7]) 63 ä»£ç å¯ä»¥ä¼˜åŒ–ä¸ºå¦‚ä¸‹å½¢å¼ï¼š 123456789def max_pairwise_productNaive(A): n = len(A) max_product = 0 for i in range(n): for j in range(i+1, n): max_product = max(max_product, A[i]*A[j]) return max_productmax_pairwise_productNaive([9,2,4,5,6,7]) 63 è¿™æ ·çš„ä»£ç åœ¨æ•°å€¼å¾ˆå¤§æ—¶ä¼šè¶…è¿‡è¿è¡Œæ—¶é—´é™åˆ¶ã€‚ Fast Algorithm ç¬¬ä¸€æ¬¡å¾ªç¯æ‰¾åˆ°æœ€å¤§å€¼ï¼Œç¬¬äºŒæ¬¡å¾ªç¯æ‰¾åˆ°é™¤æ­¤ä¹‹å¤–çš„æœ€å¤§å€¼ã€‚ç»è¿‡ 2n æ¬¡æ¯”è¾ƒ,è¿è¡Œæ—¶é—´ O(n) 123456789101112131415161718def max_pairwise_productFast(A): n = len(A) j = 0 for i in range(1, n): if A[i] &gt; A[j]: j = i if j == 0: h = 1 else: h = 0 for i in range(1, n): if i!=j and A[i] &gt; A[h]: h = i return A[j]*A[h]max_pairwise_productFast([9,2,4,5,6,7]) 63 å‹åŠ›æµ‹è¯• æ˜¯ä¸€ç§testå’Œdebugçš„æ–¹æ³•ã€‚ 12345678910111213141516import random def StressTest(N, M): while True: n = random.randint(2, N) A=[random.randint(0,M) for i in range(n)] print(A) result_1 = max_pairwise_productNaive(A) result_2 = max_pairwise_productFast(A) if result_1 == result_2: print("OK") else: print("Wrong answer:",result_1,result_2) returnStressTest(10,100000) æ‰¾å‡ºåˆ—è¡¨ä¸­æœ€å¤§çš„ä¸¤ä¸ªæ•° 1234567891011121314151617def max_pairwise(A): n = len(A) max1 = A[0] max2 = A[1] if A[0] &lt; A[1]: max1, max2 = max2, max1 for i in range(2,n): if A[i] &gt;= max1: max2 = max1 max1 = A[i] elif(A[i] &lt; max1 and A[i] &gt; max2): max2 = A[i] return max1, max2max_pairwise([20,9,2,4,5,11,6,7,4,9,10]) (20, 11) æ›´ç®€æ´çš„å†™æ³• ä½†è¿è¡Œæ—¶é—´è¾ƒé•¿ï¼Œä¸º O(nlogn) 123456def max_pairwise_productSort(A): n = len(A) A.sort() return A[n-1] * A[n-2]max_pairwise_productSort([9,2,4,5,6,7]) 63 å‚è€ƒ Coursera_algorithmic-toolbox_week1]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
      <tags>
        <tag>python -   Algorithm</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è´å°”æ›¼æ–¹ç¨‹(The Bellman Equation)]]></title>
    <url>%2F2018%2F09%2F10%2FThe%20Bellman%20Equation%2F</url>
    <content type="text"><![CDATA[åŸºæœ¬åŸç† è´å°”æ›¼æ–¹ç¨‹ï¼ˆBellman Equationï¼‰ä¹Ÿè¢«ç§°ä½œåŠ¨æ€è§„åˆ’æ–¹ç¨‹ï¼ˆDynamic Programming Equationï¼‰ \[ Q^{\pi}(s, a)=\sum_{s^{\prime}} \mathcal{P}_{s s^{\prime}}^{a}\left[\mathcal{R}_{s s^{\prime}}^{a}+\gamma \sum_{a^{\prime}} \pi\left(s^{\prime}, a^{\prime}\right) Q^{\pi}\left(s^{\prime}, a^{\prime}\right)\right] \] å…¶ä¸­ï¼Œè½¬ç§»æ¦‚ç‡ \(\mathcal{P}\) ä¸º \[ \mathcal{P}_{s s^{\prime}}^{a}=\operatorname{Pr}\left(s_{t+1}=s^{\prime} | s_{t}=s, a_{t}=a\right) \] æœŸæœ›å¥–åŠ±ä¸º \(\mathcal{R}\) \[ \mathcal{R}_{s s^{\prime}}^{a}=\mathbb{E}\left[r_{t+1} | s_{t}=s, s_{t+1}=s^{\prime}, a_{t}=a\right] \] ä»çŠ¶æ€ \(s\) å¼€å§‹ï¼Œç»è¿‡åŠ¨ä½œ \(a\) ï¼Œä»¥æ¦‚ç‡ \(\mathcal{P}_{s s^{\prime}}^{a}\) è½¬åˆ°çŠ¶æ€ \(s^{\prime}\) ï¼Œ æœŸæœ›å¥–åŠ±ä¸º \(\mathcal{R}_{s s^{\prime}}^{a}\) ã€‚ å‚è€ƒ Reinforcement Learning: an introductionâ€ by Sutton and Barto (freely downloadable) Understanding RL: The Bellman Equations]]></content>
      <categories>
        <category>å¼ºåŒ–å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>å¼ºåŒ–å­¦ä¹ </tag>
        <tag>åŸç†</tag>
        <tag>Reinforcement Learning</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LogisticRegressionçš„sklearnå‚æ•°è¯´æ˜]]></title>
    <url>%2F2018%2F08%2F24%2Flogistic-regression-sklearn%2F</url>
    <content type="text"><![CDATA[class sklearn.linear_model.LogisticRegression(penalty=â€™l2â€™, dual=False, tol=0.0001, C=1.0, fit_intercept=True, intercept_scaling=1, class_weight=None, random_state=None, solver=â€™liblinearâ€™, max_iter=100, multi_class=â€™ovrâ€™, verbose=0, warm_start=False, n_jobs=1) åœ¨scikit-learnä¸­ï¼Œä¸»è¦æ˜¯åŸºäºLogisticRegressionæ¨¡å‹æ¥è§£å†³Logisticå›å½’ç®—æ³•ï¼Œå…¶ä¸­ï¼Œæœ‰ä¸¤ç§ä¸åŒçš„ä»£ä»·å‡½æ•°(cost function)ï¼š L1: \[ \min _ { w,c }\|w\| _ 1+C\sum _ { i=1 }^n log ( exp ( -y_ i(X _ { i }^ \mathrm { T }w+c))+1)\] L2ï¼š \[ \min _{ w, c } \frac { 1 }{ 2 }w^ \mathrm { T }w +C \sum _{ i=1 }^nlog(exp(-y _i (X _{i}^ \mathrm { T }w+c))+1)\] æ¯ä¸ªå¼å­ä¸­å‰ä¸€é¡¹æ˜¯æ­£åˆ™åŒ–é¡¹ï¼ˆRegularizerï¼‰ï¼ˆåŒ…å«wçš„èŒƒæ•°ï¼‰ï¼Œåä¸€é¡¹æ˜¯æŸå¤±å‡½æ•°ï¼ˆloss functionï¼‰ï¼Œå‚æ•° C æ§åˆ¶äº†ä¸¤è€…åœ¨æœ€ç»ˆçš„æŸå¤±å‡½æ•°ä¸­æ‰€å çš„æ¯”é‡ã€‚ æ±‚è§£wå‚æ•°çš„æ–¹æ³•æ ¹æ®L1/L2ä»£ä»·å‡½æ•°çš„ä¸åŒï¼Œä¹Ÿå­˜åœ¨ä¸åŒçš„æ±‚è§£æ‹Ÿåˆå‚æ•°çš„æ–¹æ³•ï¼š Case Solver L2 penalty â€œsagaâ€, â€œliblinearâ€ , â€œlbfgsâ€, â€œsagâ€, â€œnewton-cgâ€ L1 penalty â€œsagaâ€, â€œliblinearâ€ Multinomial loss â€œsagaâ€, â€œlbfgsâ€, â€œsagâ€, â€œnewton-cgâ€ Very Large dataset (n_samples) â€œsagaâ€, â€œsagâ€ penaltyï¼šæƒ©ç½šé¡¹ï¼Œstrç±»å‹ï¼Œå¯é€‰å‚æ•°ä¸ºl1å’Œl2ï¼Œé»˜è®¤ä¸ºl2ã€‚ ç”¨äºæŒ‡å®šæƒ©ç½šé¡¹ä¸­ä½¿ç”¨çš„è§„èŒƒã€‚åŠ ä¸Šçº¦æŸï¼Œä½¿å¾—æ¨¡å‹æ›´ä¸ä¼šè¿‡æ‹Ÿåˆ(overfit)ï¼Œå¯ä»¥è·å¾—æ³›åŒ–èƒ½åŠ›æ›´å¼ºçš„ç»“æœ newton-cgã€sagå’Œlbfgsæ±‚è§£ç®—æ³•åªæ”¯æŒL2è§„èŒƒã€‚ L1è§„èŒƒå‡è®¾çš„æ˜¯æ¨¡å‹çš„å‚æ•°æ»¡è¶³æ‹‰æ™®æ‹‰æ–¯åˆ†å¸ƒï¼ŒL2å‡è®¾çš„æ¨¡å‹å‚æ•°æ»¡è¶³é«˜æ–¯åˆ†å¸ƒï¼Œ dualï¼šå¯¹å¶æˆ–åŸå§‹æ–¹æ³•ï¼Œboolç±»å‹ï¼Œé»˜è®¤ä¸ºFalseã€‚ å¯¹å¶æ–¹æ³•åªç”¨åœ¨æ±‚è§£çº¿æ€§å¤šæ ¸(liblinear)çš„L2æƒ©ç½šé¡¹ä¸Šã€‚ å½“æ ·æœ¬æ•°é‡&gt;æ ·æœ¬ç‰¹å¾çš„æ—¶å€™ï¼Œdualé€šå¸¸è®¾ç½®ä¸ºFalseã€‚ tolï¼šåœæ­¢æ±‚è§£çš„æ ‡å‡†ï¼Œfloatç±»å‹ï¼Œé»˜è®¤ä¸º1e-4ã€‚ å°±æ˜¯æ±‚è§£åˆ°å¤šå°‘çš„æ—¶å€™ï¼Œåœæ­¢ï¼Œè®¤ä¸ºå·²ç»æ±‚å‡ºæœ€ä¼˜è§£ã€‚ cï¼šæ­£åˆ™åŒ–ç³»æ•°Î»çš„å€’æ•°ï¼Œfloatç±»å‹ï¼Œé»˜è®¤ä¸º1.0ã€‚å¿…é¡»æ˜¯æ­£æµ®ç‚¹å‹æ•°ã€‚ åƒSVMä¸€æ ·ï¼Œè¶Šå°çš„æ•°å€¼è¡¨ç¤ºè¶Šå¼ºçš„æ­£åˆ™åŒ–ã€‚ fit_interceptï¼šæ˜¯å¦å­˜åœ¨æˆªè·æˆ–åå·®ï¼Œboolç±»å‹ï¼Œé»˜è®¤ä¸ºTrueã€‚ intercept_scalingï¼š floatç±»å‹ï¼Œé»˜è®¤ä¸º1ã€‚ ä»…åœ¨æ­£åˆ™åŒ–é¡¹ä¸ºâ€œliblinearâ€ï¼Œä¸”fit_interceptè®¾ç½®ä¸ºTrueæ—¶æœ‰ç”¨ã€‚ class_weightï¼šç”¨äºæ ‡ç¤ºåˆ†ç±»æ¨¡å‹ä¸­å„ç§ç±»å‹çš„æƒé‡. é»˜è®¤ä¸ºNoneï¼Œä¹Ÿå°±æ˜¯ä¸è€ƒè™‘æƒé‡ã€‚å¯ä»¥è¾“å…¥ä¸€ä¸ªå­—å…¸æˆ–è€…â€™balancedâ€™å­—ç¬¦ä¸²ã€‚ å¯ä»¥{class_label:weight}å½¢å¼è‡ªå·±è¾“å…¥å„ä¸ªç±»å‹çš„æƒé‡ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œæ¯”å¦‚å¯¹äº0,1çš„äºŒå…ƒæ¨¡å‹ï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰class_weight={0:0.9,1:0.1}ï¼Œè¿™æ ·ç±»å‹0çš„æƒé‡ä¸º90%ï¼Œè€Œç±»å‹1çš„æƒé‡ä¸º10%ã€‚ ä¹Ÿå¯ä»¥é€‰æ‹©balancedï¼Œé‚£ä¹ˆç±»åº“ä¼šæ ¹æ®è®­ç»ƒæ ·æœ¬é‡æ¥è®¡ç®—æƒé‡ã€‚æŸç§ç±»å‹æ ·æœ¬é‡è¶Šå¤šï¼Œåˆ™æƒé‡è¶Šä½ï¼Œæ ·æœ¬é‡è¶Šå°‘ï¼Œåˆ™æƒé‡è¶Šé«˜ã€‚ç±»æƒé‡è®¡ç®—æ–¹æ³•å¦‚ä¸‹ï¼šn_samples/(n_classes *np.bincount(y))ã€‚ n_samplesä¸ºæ ·æœ¬æ•°ï¼Œn_classesä¸ºç±»åˆ«æ•°é‡ï¼Œnp.bincount(y)ä¼šè¾“å‡ºæ¯ä¸ªç±»çš„æ ·æœ¬æ•°ï¼Œä¾‹å¦‚ y=[1,0,0,1,1], åˆ™ np.bincount(y)=[2,3]ã€‚ é‚£ä¹ˆclass_weightæœ‰ä»€ä¹ˆä½œç”¨å‘¢ï¼Ÿ åœ¨åˆ†ç±»æ¨¡å‹ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šé‡åˆ°ä¸¤ç±»é—®é¢˜ï¼š ç¬¬ä¸€ç§æ˜¯è¯¯åˆ†ç±»çš„ä»£ä»·å¾ˆé«˜ã€‚æ¯”å¦‚å¯¹åˆæ³•ç”¨æˆ·å’Œéæ³•ç”¨æˆ·è¿›è¡Œåˆ†ç±»ï¼Œå°†éæ³•ç”¨æˆ·åˆ†ç±»ä¸ºåˆæ³•ç”¨æˆ·çš„ä»£ä»·å¾ˆé«˜ï¼Œæˆ‘ä»¬å®æ„¿å°†åˆæ³•ç”¨æˆ·åˆ†ç±»ä¸ºéæ³•ç”¨æˆ·ï¼Œè¿™æ—¶å¯ä»¥äººå·¥å†ç”„åˆ«ï¼Œä½†æ˜¯å´ä¸æ„¿å°†éæ³•ç”¨æˆ·åˆ†ç±»ä¸ºåˆæ³•ç”¨æˆ·ã€‚è¿™æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é€‚å½“æé«˜éæ³•ç”¨æˆ·çš„æƒé‡ã€‚ ç¬¬äºŒç§æ˜¯æ ·æœ¬æ˜¯é«˜åº¦å¤±è¡¡çš„ã€‚æ¯”å¦‚æˆ‘ä»¬æœ‰åˆæ³•ç”¨æˆ·å’Œéæ³•ç”¨æˆ·çš„äºŒå…ƒæ ·æœ¬æ•°æ®10000æ¡ï¼Œé‡Œé¢åˆæ³•ç”¨æˆ·æœ‰9995æ¡ï¼Œéæ³•ç”¨æˆ·åªæœ‰5æ¡ï¼Œå¦‚æœæˆ‘ä»¬ä¸è€ƒè™‘æƒé‡ï¼Œåˆ™æˆ‘ä»¬å¯ä»¥å°†æ‰€æœ‰çš„æµ‹è¯•é›†éƒ½é¢„æµ‹ä¸ºåˆæ³•ç”¨æˆ·ï¼Œè¿™æ ·é¢„æµ‹å‡†ç¡®ç‡ç†è®ºä¸Šæœ‰99.95%ï¼Œä½†æ˜¯å´æ²¡æœ‰ä»»ä½•æ„ä¹‰ã€‚è¿™æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©balancedï¼Œè®©ç±»åº“è‡ªåŠ¨æé«˜éæ³•ç”¨æˆ·æ ·æœ¬çš„æƒé‡ã€‚æé«˜äº†æŸç§åˆ†ç±»çš„æƒé‡ï¼Œç›¸æ¯”ä¸è€ƒè™‘æƒé‡ï¼Œä¼šæœ‰æ›´å¤šçš„æ ·æœ¬åˆ†ç±»åˆ’åˆ†åˆ°é«˜æƒé‡çš„ç±»åˆ«ï¼Œä»è€Œå¯ä»¥è§£å†³ä¸Šé¢ä¸¤ç±»é—®é¢˜ã€‚ random_stateï¼šéšæœºæ•°ç§å­ï¼Œintç±»å‹ï¼Œå¯é€‰å‚æ•°ï¼Œé»˜è®¤ä¸ºNoneã€‚ ä»…åœ¨æ­£åˆ™åŒ–ä¼˜åŒ–ç®—æ³•ä¸º sag, liblinear æ—¶æœ‰ç”¨ã€‚ solverï¼šä¼˜åŒ–æ–¹æ³•é€‰æ‹©ã€‚é»˜è®¤ä¸ºliblinearã€‚ æœ‰äº”ä¸ªå¯é€‰å‚æ•°ï¼Œå³newton-cg, lbfgs, liblinear, sag, sagaã€‚ liblinearï¼šä½¿ç”¨äº†å¼€æºçš„liblinearåº“å®ç°ï¼Œå†…éƒ¨ä½¿ç”¨äº†åæ ‡è½´ä¸‹é™æ³•æ¥è¿­ä»£ä¼˜åŒ–æŸå¤±å‡½æ•°ã€‚ lbfgsï¼šL-BFGSç®—æ³•ï¼Œæ‹Ÿç‰›é¡¿æ³•çš„ä¸€ç§ï¼Œåˆ©ç”¨æŸå¤±å‡½æ•°äºŒé˜¶å¯¼æ•°çŸ©é˜µå³æµ·æ£®çŸ©é˜µæ¥è¿­ä»£ä¼˜åŒ–æŸå¤±å‡½æ•°ã€‚ newton-cgï¼šä¹Ÿæ˜¯ç‰›é¡¿æ³•å®¶æ—çš„ä¸€ç§ï¼Œåˆ©ç”¨æŸå¤±å‡½æ•°äºŒé˜¶å¯¼æ•°çŸ©é˜µå³æµ·æ£®çŸ©é˜µæ¥è¿­ä»£ä¼˜åŒ–æŸå¤±å‡½æ•°ã€‚ sagï¼šå³éšæœºå¹³å‡æ¢¯åº¦ä¸‹é™(Stochastic Average Gradient descent)ï¼Œæ˜¯æ¢¯åº¦ä¸‹é™æ³•çš„å˜ç§ï¼Œå’Œæ™®é€šæ¢¯åº¦ä¸‹é™æ³•çš„åŒºåˆ«æ˜¯æ¯æ¬¡è¿­ä»£ä»…ä»…ç”¨ä¸€éƒ¨åˆ†çš„æ ·æœ¬æ¥è®¡ç®—æ¢¯åº¦ï¼Œé€‚åˆäºæ ·æœ¬æ•°æ®å¤šçš„æ—¶å€™ã€‚ sagaï¼šçº¿æ€§æ”¶æ•›çš„éšæœºä¼˜åŒ–ç®—æ³•çš„çš„å˜é‡ã€‚ æ€»ç»“ï¼š liblinearé€‚ç”¨äºå°æ•°æ®é›†ï¼Œè€Œsagå’Œsagaé€‚ç”¨äºå¤§æ•°æ®é›†å› ä¸ºé€Ÿåº¦æ›´å¿«ã€‚ å¯¹äºå¤šåˆ†ç±»é—®é¢˜ï¼Œåªæœ‰newton-cg,sag,sagaå’Œlbfgsèƒ½å¤Ÿå¤„ç†å¤šé¡¹æŸå¤±ï¼Œè€Œliblinearå—é™äºä¸€å¯¹å‰©ä½™(OvR)ã€‚æ„æ€å°±æ˜¯ç”¨liblinearçš„æ—¶å€™ï¼Œå¦‚æœæ˜¯å¤šåˆ†ç±»é—®é¢˜ï¼Œå¾—å…ˆæŠŠä¸€ç§ç±»åˆ«ä½œä¸ºä¸€ä¸ªç±»åˆ«ï¼Œå‰©ä½™çš„æ‰€æœ‰ç±»åˆ«ä½œä¸ºå¦å¤–ä¸€ä¸ªç±»åˆ«ã€‚ä¸€æ¬¡ç±»æ¨ï¼Œéå†æ‰€æœ‰ç±»åˆ«ï¼Œè¿›è¡Œåˆ†ç±»ã€‚ newton-cg, sag å’Œ lbfgs è¿™ä¸‰ç§ä¼˜åŒ–ç®—æ³•æ—¶éƒ½éœ€è¦æŸå¤±å‡½æ•°çš„ä¸€é˜¶æˆ–è€…äºŒé˜¶è¿ç»­å¯¼æ•°ï¼Œå› æ­¤ä¸èƒ½ç”¨äºæ²¡æœ‰è¿ç»­å¯¼æ•°çš„L1æ­£åˆ™åŒ–ï¼Œåªèƒ½ç”¨äºL2æ­£åˆ™åŒ–ã€‚è€Œ liblinear å’Œ saga é€šåƒL1æ­£åˆ™åŒ–å’ŒL2æ­£åˆ™åŒ–ã€‚ åŒæ—¶ï¼Œsagæ¯æ¬¡ä»…ä»…ä½¿ç”¨äº†éƒ¨åˆ†æ ·æœ¬è¿›è¡Œæ¢¯åº¦è¿­ä»£ï¼Œæ‰€ä»¥å½“æ ·æœ¬é‡å°‘çš„æ—¶å€™ä¸è¦é€‰æ‹©å®ƒï¼Œè€Œå¦‚æœæ ·æœ¬é‡éå¸¸å¤§ï¼Œæ¯”å¦‚å¤§äº10ä¸‡ï¼Œsagæ˜¯ç¬¬ä¸€é€‰æ‹©ã€‚ä½†æ˜¯sagä¸èƒ½ç”¨äºL1æ­£åˆ™åŒ–ï¼Œæ‰€ä»¥å½“ä½ æœ‰å¤§é‡çš„æ ·æœ¬ï¼Œåˆéœ€è¦L1æ­£åˆ™åŒ–çš„è¯å°±è¦è‡ªå·±åšå–èˆäº†ã€‚è¦ä¹ˆé€šè¿‡å¯¹æ ·æœ¬é‡‡æ ·æ¥é™ä½æ ·æœ¬é‡ï¼Œè¦ä¹ˆå›åˆ°L2æ­£åˆ™åŒ–ã€‚ é€»è¾‘å›å½’æœ‰äºŒå…ƒé€»è¾‘å›å½’å’Œå¤šå…ƒé€»è¾‘å›å½’ã€‚å¯¹äºå¤šå…ƒé€»è¾‘å›å½’å¸¸è§çš„æœ‰one-vs-rest(OvR)å’Œmany-vs-many(MvM)ä¸¤ç§ã€‚è€ŒMvMä¸€èˆ¬æ¯”OvRåˆ†ç±»ç›¸å¯¹å‡†ç¡®ä¸€äº›ã€‚è€Œliblinearåªæ”¯æŒOvRï¼Œä¸æ”¯æŒMvMï¼Œè¿™æ ·å¦‚æœæˆ‘ä»¬éœ€è¦ç›¸å¯¹ç²¾ç¡®çš„å¤šå…ƒé€»è¾‘å›å½’æ—¶ï¼Œå°±ä¸èƒ½é€‰æ‹©liblinearäº†ã€‚ä¹Ÿæ„å‘³ç€å¦‚æœæˆ‘ä»¬éœ€è¦ç›¸å¯¹ç²¾ç¡®çš„å¤šå…ƒé€»è¾‘å›å½’ä¸èƒ½ä½¿ç”¨L1æ­£åˆ™åŒ–äº†ã€‚ max_iterï¼šç®—æ³•æ”¶æ•›æœ€å¤§è¿­ä»£æ¬¡æ•°ï¼Œintç±»å‹ï¼Œé»˜è®¤ä¸º10ã€‚ ä»…åœ¨æ­£åˆ™åŒ–ä¼˜åŒ–ç®—æ³•ä¸ºnewton-cg, sag å’Œlbfgsæ‰æœ‰ç”¨ã€‚ multi_classï¼šåˆ†ç±»æ–¹å¼é€‰æ‹©å‚æ•°ï¼Œstrç±»å‹ï¼Œå¯é€‰å‚æ•°ä¸ºovrå’Œmultinomialï¼Œé»˜è®¤ä¸ºovrã€‚ å¦‚æœæ˜¯äºŒå…ƒé€»è¾‘å›å½’ï¼Œovrå’Œmultinomialå¹¶æ²¡æœ‰ä»»ä½•åŒºåˆ«ï¼ŒåŒºåˆ«ä¸»è¦åœ¨å¤šå…ƒé€»è¾‘å›å½’ä¸Šã€‚ ovrå³å‰é¢æåˆ°çš„one-vs-rest(OvR)ã€‚OvRçš„æ€æƒ³æ˜¯æ— è®ºä½ æ˜¯å¤šå°‘å…ƒé€»è¾‘å›å½’ï¼Œæˆ‘ä»¬éƒ½å¯ä»¥çœ‹åšäºŒå…ƒé€»è¾‘å›å½’ã€‚å…·ä½“åšæ³•æ˜¯ï¼Œå¯¹äºç¬¬Kç±»çš„åˆ†ç±»å†³ç­–ï¼Œæˆ‘ä»¬æŠŠæ‰€æœ‰ç¬¬Kç±»çš„æ ·æœ¬ä½œä¸ºæ­£ä¾‹ï¼Œé™¤äº†ç¬¬Kç±»æ ·æœ¬ä»¥å¤–çš„æ‰€æœ‰æ ·æœ¬éƒ½ä½œä¸ºè´Ÿä¾‹ï¼Œç„¶ååœ¨ä¸Šé¢åšäºŒå…ƒé€»è¾‘å›å½’ï¼Œå¾—åˆ°ç¬¬Kç±»çš„åˆ†ç±»æ¨¡å‹ã€‚å…¶ä»–ç±»çš„åˆ†ç±»æ¨¡å‹è·å¾—ä»¥æ­¤ç±»æ¨ã€‚ è€Œmultinomialå³å‰é¢æåˆ°çš„many-vs-many(MvM)ã€‚MvMç›¸å¯¹å¤æ‚ï¼Œè¿™é‡Œä¸¾MvMçš„ç‰¹ä¾‹one-vs-one(OvO)ä½œè®²è§£ã€‚å¦‚æœæ¨¡å‹æœ‰Tç±»ï¼Œæˆ‘ä»¬æ¯æ¬¡åœ¨æ‰€æœ‰çš„Tç±»æ ·æœ¬é‡Œé¢é€‰æ‹©ä¸¤ç±»æ ·æœ¬å‡ºæ¥ï¼Œä¸å¦¨è®°ä¸ºT1ç±»å’ŒT2ç±»ï¼ŒæŠŠæ‰€æœ‰çš„è¾“å‡ºä¸ºT1å’ŒT2çš„æ ·æœ¬æ”¾åœ¨ä¸€èµ·ï¼ŒæŠŠT1ä½œä¸ºæ­£ä¾‹ï¼ŒT2ä½œä¸ºè´Ÿä¾‹ï¼Œè¿›è¡ŒäºŒå…ƒé€»è¾‘å›å½’ï¼Œå¾—åˆ°æ¨¡å‹å‚æ•°ã€‚æˆ‘ä»¬ä¸€å…±éœ€è¦T(T-1)/2æ¬¡åˆ†ç±»ã€‚ å¯ä»¥çœ‹å‡ºOvRç›¸å¯¹ç®€å•ï¼Œä½†åˆ†ç±»æ•ˆæœç›¸å¯¹ç•¥å·®ï¼ˆè¿™é‡ŒæŒ‡å¤§å¤šæ•°æ ·æœ¬åˆ†å¸ƒæƒ…å†µï¼ŒæŸäº›æ ·æœ¬åˆ†å¸ƒä¸‹OvRå¯èƒ½æ›´å¥½ï¼‰ã€‚è€ŒMvMåˆ†ç±»ç›¸å¯¹ç²¾ç¡®ï¼Œä½†æ˜¯åˆ†ç±»é€Ÿåº¦æ²¡æœ‰OvRå¿«ã€‚ å¦‚æœé€‰æ‹©äº†ovrï¼Œåˆ™4ç§æŸå¤±å‡½æ•°çš„ä¼˜åŒ–æ–¹æ³•liblinearï¼Œnewton-cg,lbfgså’Œsagéƒ½å¯ä»¥é€‰æ‹©ã€‚ä½†æ˜¯å¦‚æœé€‰æ‹©äº†multinomial,åˆ™åªèƒ½é€‰æ‹© newton-cg, lbfgs å’Œ sag äº†ã€‚ verbose:æ—¥å¿—å†—é•¿åº¦ï¼Œintç±»å‹ã€‚é»˜è®¤ä¸º0ã€‚å°±æ˜¯ä¸è¾“å‡ºè®­ç»ƒè¿‡ç¨‹ã€‚ 1çš„æ—¶å€™å¶å°”è¾“å‡ºç»“æœï¼Œå¤§äº1ï¼Œå¯¹äºæ¯ä¸ªå­æ¨¡å‹éƒ½è¾“å‡ºã€‚ warm_startï¼šçƒ­å¯åŠ¨å‚æ•°ï¼Œboolç±»å‹ã€‚é»˜è®¤ä¸ºFalseã€‚ å¦‚æœä¸ºTrueï¼Œåˆ™ä¸‹ä¸€æ¬¡è®­ç»ƒæ˜¯ä»¥è¿½åŠ æ ‘çš„å½¢å¼è¿›è¡Œï¼ˆé‡æ–°ä½¿ç”¨ä¸Šä¸€æ¬¡çš„è°ƒç”¨ä½œä¸ºåˆå§‹åŒ–ï¼‰ã€‚ n_jobsï¼šå¹¶è¡Œæ•°ã€‚intç±»å‹ï¼Œé»˜è®¤ä¸º1ã€‚ 1çš„æ—¶å€™ï¼Œç”¨CPUçš„ä¸€ä¸ªå†…æ ¸è¿è¡Œç¨‹åºï¼Œ 2çš„æ—¶å€™ï¼Œç”¨CPUçš„2ä¸ªå†…æ ¸è¿è¡Œç¨‹åºã€‚ ä¸º-1çš„æ—¶å€™ï¼Œç”¨æ‰€æœ‰CPUçš„å†…æ ¸è¿è¡Œç¨‹åºã€‚ å‚è€ƒ sklearn.linear_model.LogisticRegression-scikit-learn 0.19.2 documentation Logisticå›å½’(Logistic Regression)ç®—æ³•ç¬”è®°(äºŒ)-scikit learn LogisticRegression - å‚æ•°è¯´æ˜]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>sklearn</tag>
        <tag>é€»è¾‘å›å½’</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[python3 zip(), lambda, map()]]></title>
    <url>%2F2018%2F08%2F19%2Fpython3%20zip()%2Clambda%2Cmap()%2F</url>
    <content type="text"><![CDATA[zip() å‡½æ•° å‡½æ•°ç”¨äºå°†å¯è¿­ä»£çš„å¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œå°†å¯¹è±¡ä¸­å¯¹åº”çš„å…ƒç´ æ‰“åŒ…æˆä¸€ä¸ªä¸ªå…ƒç»„ï¼Œç„¶åè¿”å›ç”±è¿™äº›å…ƒç»„ç»„æˆçš„å¯¹è±¡ï¼Œè¿™æ ·åšçš„å¥½å¤„æ˜¯èŠ‚çº¦äº†ä¸å°‘çš„å†…å­˜ã€‚ç®€å•æ¥è¯´ï¼Œå°±æ˜¯å°†åºåˆ—åˆå¹¶æ‰“åŒ…ã€‚ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨list()è½¬æ¢æ¥è¾“å‡ºåˆ—è¡¨ã€‚ å¦‚æœå„ä¸ªè¿­ä»£å™¨çš„å…ƒç´ ä¸ªæ•°ä¸ä¸€è‡´ï¼Œåˆ™è¿”å›åˆ—è¡¨é•¿åº¦ä¸æœ€çŸ­çš„å¯¹è±¡ç›¸åŒï¼Œåˆ©ç”¨ * å·æ“ä½œç¬¦ï¼Œå¯ä»¥å°†å…ƒç»„è§£å‹ä¸ºåˆ—è¡¨ã€‚ è¯­æ³• : zip(*iterables) å‚æ•°è¯´æ˜ï¼š iterables â€“ ä¸€ä¸ªæˆ–å¤šä¸ªè¿­ä»£å™¨,å¯ä»¥å†…ç½®çš„è¿­ä»£å™¨ï¼ˆæ¯”å¦‚list, string, dictï¼‰ä¹Ÿå¯ä»¥æ˜¯ç”¨æˆ·è‡ªå®šä¹‰çš„è¿­ä»£å™¨(æœ‰__iter__æ–¹æ³•çš„å¯¹è±¡). ä¾‹1 åŸºæœ¬ç”¨æ³• 123456789101112numberList = [1, 2, 3]strList = ['one', 'two', 'three']result = zip() # æ²¡æœ‰ä¼ å…¥å¯è¿­ä»£é‡resultList = list(result) # è½¬ä¸ºåˆ—è¡¨print(resultList)result = zip(numberList, strList) # ä¼ å…¥ä¸¤ä¸ªå¯è¿­ä»£é‡resultSet = set(result) # è½¬ä¸ºé›†åˆprint(resultSet) [] {(1, &#39;one&#39;), (3, &#39;three&#39;), (2, &#39;two&#39;)} 12a1, a2 = zip(*zip(a,b)) # ä¸ zip ç›¸åï¼Œ*zip å¯ç†è§£ä¸ºè§£å‹ï¼Œè¿”å›äºŒç»´çŸ©é˜µå¼list(a1),list(a2) ([1, 2, 3], [4, 5, 6]) ä¾‹2 ä¼ å…¥ä¸ªæ•°ä¸åŒçš„å¯è¿­ä»£é‡ 1234567891011numbersList = [1, 2, 3]strList = ['one', 'two']numbersTuple = ('ONE', 'TWO', 'THREE', 'FOUR')result = zip(numbersList, numbersTuple) # å…ƒç´ ä¸ªæ•°ä¸æœ€çŸ­çš„åˆ—è¡¨ä¸€è‡´ï¼Œ3ä¸ªresultSet = set(result)print(resultSet)result = zip(numbersList, strList, numbersTuple)# 2ä¸ªå…ƒç´ resultSet = set(result)print(resultSet) {(2, &#39;TWO&#39;), (1, &#39;ONE&#39;), (3, &#39;THREE&#39;)} {(2, &#39;two&#39;, &#39;TWO&#39;), (1, &#39;one&#39;, &#39;ONE&#39;)} ä¾‹3 ç”¨*å’Œzip()æ¥è§£å‹åˆ—è¡¨ 1234x = [1,2,3]y = [4,5,6]unzipped_x, unzipped_y = zip(*zip(x,y))print(unzipped_x, unzipped_y) (1, 2, 3) (4, 5, 6) 12345zipper_list = [(1, 'a'), (2, 'b'), (3, 'c')] l_a, l_b = zip(*zipper_list)print(l_a, l_b)print(list(l_a), list(l_b)) (1, 2, 3) (&#39;a&#39;, &#39;b&#39;, &#39;c&#39;) [1, 2, 3] [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;] lambdaåŒ¿åå‡½æ•° lambdaè¡¨è¾¾å¼æ˜¯ä¸€è¡Œå‡½æ•°ã€‚ å®ƒä»¬åœ¨å…¶ä»–è¯­è¨€ä¸­ä¹Ÿè¢«ç§°ä¸ºåŒ¿åå‡½æ•°ã€‚å¦‚æœä½ ä¸æƒ³åœ¨ç¨‹åºä¸­å¯¹ä¸€ä¸ªå‡½æ•°ä½¿ç”¨ä¸¤æ¬¡ï¼Œä½ ä¹Ÿè®¸ä¼šæƒ³ç”¨lambdaè¡¨è¾¾å¼ï¼Œå®ƒä»¬å’Œæ™®é€šçš„å‡½æ•°å®Œå…¨ä¸€æ ·ã€‚ è¯­æ³• lambda å‚æ•°:æ“ä½œ(å‚æ•°) ä¾‹1 åŸºæœ¬ç”¨æ³• 12add = lambda x, y: x + yprint(add(3, 5)) 8 ä¾‹2 åˆ—è¡¨æ’åº 12345a = [(1, 2), (4, 1), (9, 10), (13, -3)]a.sort(key=lambda x: x[1])print(a) # Output: [(13, -3), (4, 1), (1, 2), (9, 10)] [(13, -3), (4, 1), (1, 2), (9, 10)] ä¾‹3 åœ¨lambdaä¸­åµŒå¥—é€»è¾‘ å¯ä»¥ä½¿ç”¨if/elseä¸‰å…ƒè¡¨è¾¾å¼ï¼Œæˆ–è€…å¯¹ç­‰çš„ä½†éœ€è¦äº›æŠ€å·§çš„and/orç»„åˆã€‚æ­£å¦‚æˆ‘ä»¬å‰é¢æ‰€äº†è§£åˆ°çš„ï¼Œå¦‚ä¸‹è¯­å¥ï¼š 1234if a: belse: c èƒ½å¤Ÿç”±ä»¥ä¸‹çš„æ¦‚æ‹¬ç­‰æ•ˆçš„è¡¨è¾¾å¼æ¥æ¨¡æ‹Ÿï¼š b if a else c ((a and b) or c) å› ä¸ºè¿™æ ·ç±»ä¼¼çš„è¡¨è¾¾å¼èƒ½å¤Ÿæ”¾åœ¨lambdaä¸­ï¼Œæ‰€ä»¥å®ƒä»¬èƒ½å¤Ÿåœ¨lambdaå‡½æ•°ä¸­æ¥å®ç°é€‰æ‹©é€»è¾‘ã€‚ 12lower = (lambda x, y: x if x &lt; y else y)lower('bb', 'aa') &#39;aa&#39; ä¾‹4 åœ¨lambdaä¸­æ‰§è¡Œå¾ªç¯ åµŒå…¥mapè°ƒç”¨æˆ–åˆ—è¡¨è§£æè¡¨è¾¾å¼è¿™æ ·çš„å·¥å…·æ¥å®ç°ã€‚ 123456import sysshowall = lambda x: list(map(sys.stdout.write, x)) # mapshowall(['spam\n', 'toast\n', 'eggs\n'])showall = lambda x: [sys.stdout.write(line) for line in x] # åˆ—è¡¨è§£æshowall(['music ', 'song ', 'sing']) spam toast eggs music song sing [None, None, None] map()å‡½æ•° map() å°†ä¸€ä¸ªåºåˆ—ä¸­çš„æ¯ä¸€ä¸ªè¿­ä»£å…ƒç´ åº”ç”¨äºç»™å®šå‡½æ•°ï¼Œ å¹¶è¿”å›ä¸€ä¸ªåŒ…å«æ‰€æœ‰å‡½æ•°è°ƒç”¨ç»“æœçš„ä¸€ä¸ªåˆ—è¡¨. è¯­æ³• : map(fun, iter) å‚æ•° : fun : ç»™å®šå‡½æ•°; iter : å¯è¿­ä»£åºåˆ—(list, tuple ç­‰ç­‰) ã€‚ ä¾‹1 åŸºæœ¬ç”¨æ³• 123456def addition(n): return n + nnumbers = (1, 2, 3, 4)result = map(addition, numbers)print(list(result)) [2, 4, 6, 8] ä¾‹2 åœ¨map()ä¸­ä½¿ç”¨lambdaå‡½æ•° 123numbers = (1, 2, 3, 4)result = list(map(lambda x: x + x, numbers))print(result) [2, 4, 6, 8] ä¾‹3 ä¼ å…¥å¤šä¸ªè¿­ä»£åºåˆ— 12345numbers1 = [1, 2, 3]numbers2 = [4, 5, 6] result = list(map(lambda x, y: x + y, numbers1, numbers2))print(result) [5, 7, 9] ä¾‹4 åˆ—è¡¨ä¸­æ¯ä¸ªå­—ç¬¦ä¸²åˆ†åˆ«åºåˆ—åŒ– 1234l = ['sat', 'bat', 'cat', 'mat']test = list(map(list, l))print(test) [[&#39;s&#39;, &#39;a&#39;, &#39;t&#39;], [&#39;b&#39;, &#39;a&#39;, &#39;t&#39;], [&#39;c&#39;, &#39;a&#39;, &#39;t&#39;], [&#39;m&#39;, &#39;a&#39;, &#39;t&#39;]] å‚è€ƒ Python zip() - programiz Python3 zip() å‡½æ•° | èœé¸Ÿæ•™ç¨‹ lambdaè¡¨è¾¾å¼ - pythonè¿›é˜¶ Python3ä¹‹lambdaåŒ¿åå‡½æ•°è¯¦è§£-Professorå“¥-51CTOåšå®¢ Python map() function - GeeksforGeeks]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>åŸºç¡€å­¦ä¹ </tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hexoå¸¸ç”¨å‘½ä»¤]]></title>
    <url>%2F2018%2F06%2F21%2Fhexo%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%2F</url>
    <content type="text"><![CDATA[hexo init &lt;folder&gt; åˆ›å»ºå¹¶åˆå§‹åŒ–ä¸€ä¸ªç«™ç‚¹æ–‡ä»¶å¤¹ hexo new 'article title' æ–°å¢ä¸€ç¯‡æ–‡ç«  hexo clean ç”¨äºä¸»é¢˜åˆ‡æ¢ç­‰æ¶‰åŠåˆ°ç«™ç‚¹æ•´ä½“å¸ƒå±€æ•ˆæœæ”¹å˜æ—¶æ¸…é™¤hexoåŸæœ‰ç¼“å­˜ æ–‡ç« ç¼–è¾‘å®Œå å¼€å¯æœ¬åœ°æœåŠ¡å™¨ï¼Œæµ‹è¯•é™æ€é¡µé¢çš„æ•ˆæœï¼š hexo server æˆ– hexo s ä¸ºæ–‡ç« è‡ªåŠ¨ç”Ÿæˆé™æ€é¡µé¢çš„æ–‡ä»¶ï¼šhexo generate æˆ– hexo g å°†æœ¬åœ°é¡µé¢éƒ¨ç½²åˆ°GitHub Pagesä¸Šï¼šhexo deploy æˆ– hexo d (åˆå¹¶æ›¿æ¢å‰ä¸¤é¡¹)ç”Ÿæˆé™æ€é¡µé¢çš„æ–‡ä»¶å¹¶ç›´æ¥éƒ¨ç½²ï¼šhexo generate -d æˆ–hexo deploy -g]]></content>
      <categories>
        <category>è®¡ç®—æœº</category>
      </categories>
      <tags>
        <tag>å‘½ä»¤</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åŠ¨è¯ã¦å½¢]]></title>
    <url>%2F2018%2F06%2F20%2F%E5%8A%A8%E8%AF%8D%E3%81%A6%E5%BD%A2%2F</url>
    <content type="text"><![CDATA[ä¸€ç±»åŠ¨è¯ è¯å°¾ æ›¿æ¢ åŸºæœ¬å½¢ ã¦å½¢ (ã‚ã†ãŠæ®µ)+ã‚‹ ã£ã¦ å£²ã‚‹ (ã†ã‚‹) ã†ã£ã¦ ã† ã£ã¦ è²·ã† (ã‹ã†) ã‹ã£ã¦ ã¤ ã£ã¦ å¾…ã¤ (ã¾ã¤) ã¾ã£ã¦ ã ã„ã¦ æ›¸ã (ã‹ã) ã‹ã„ã¦ ã ã„ã§ æ€¥ã (ã„ãã) ã„ãã„ã§ ã‚€ ã‚“ã§ èª­ã‚€ (ã‚ˆã‚€) ã‚ˆã‚“ã§ ã¶ ã‚“ã§ é£›ã¶ (ã¨ã¶) ã¨ã‚“ã§ ã¬ ã‚“ã§ æ­»ã¬ (ã—ã¬) ã—ã‚“ã§ ã™ ã—ã¦ è©±ã™ (ã¯ãªã™) ã¯ãªã—ã¦ åªæœ‰â€œè¡Œ(ã„)ãâ€æ˜¯ä¾‹å¤–ï¼Œã¦å½¢ä¸ºâ€œè¡Œ(ã„)ã£ã¦â€ã€‚ äºŒç±»åŠ¨è¯ è¯å°¾ æ›¿æ¢ åŸºæœ¬å½¢ ã¦å½¢ (ã„ãˆæ®µ)+ã‚‹ ã¦ è¦‹ã‚‹ (ã¿ã‚‹) ã¿ã¦ ä¸‰ç±»åŠ¨è¯ è¯å°¾ æ›¿æ¢ åŸºæœ¬å½¢ ã¦å½¢ ã™ã‚‹ ã—ã¦ ã™ã‚‹ ã—ã¦ ãã‚‹ ãã¦ æ¥ã‚‹ (ãã‚‹) ãã¦ ç”¨æ³• 1. è¯·æ±‚å¯¹æ–¹åšæŸäº‹ åŠ¨è¯ã¦å½¢ + ãã ã•ã„ - é»’æ¿ï¼ˆã“ãã°ã‚“ï¼‰ã‚’ è¦‹ã¦ ãã ã•ã„ã€‚ è¯·çœ‹é»‘æ¿ã€‚ - æ—©ï¼ˆã¯ã‚„ï¼‰ã æ¥ã¦ ãã ã•ã„ã€‚ è¯·å¿«ç‚¹å„¿æ¥ã€‚ - ã¡ã‚‡ã£ã¨ å¾…ã£ã¦ ãã ã•ã„ã€‚ è¯·ç­‰ä¸€ä¸‹ã€‚]]></content>
      <categories>
        <category>æ—¥è¯­å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>åŠ¨è¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ¨¡å‹é€‰æ‹©]]></title>
    <url>%2F2018%2F04%2F16%2F%E6%A8%A1%E5%9E%8B%E9%80%89%E6%8B%A9%2F</url>
    <content type="text"><![CDATA[è¯„ä¼°å›å½’æ¨¡å‹ è¿™é‡Œå°†éƒ½ä½¿ç”¨æ³¢å£«é¡¿æˆ¿ä»·çš„æ•°æ®é›†ï¼Œç”¨10æŠ˜äº¤å‰éªŒè¯æ¥åˆ†ç¦»æ•°æ®ï¼Œé€šè¿‡å‡æ–¹è¯¯å·®æ¥è¯„ä¼°æ¨¡å‹æ€§èƒ½ã€‚ åœ¨scikit-learnä¸­ç”¨cross_val_score()å‡½æ•°æ¥æµ‹è¯•æ¨¡å‹ï¼Œé€‰ç”¨è´Ÿå‡æ–¹è¯¯å·®ï¼ˆneg_mean_squared_errorï¼‰ä½œä¸ºscoreï¼Œå¾—åˆ†æ˜¯è´Ÿæ•°ï¼Œè¿™é‡Œçš„neg_mean_squared_erroræ˜¯ä¸€ç§å¥–åŠ±å‡½æ•°ï¼Œä¼˜åŒ–çš„ç›®æ ‡æ˜¯ä½¿å…¶æœ€å¤§åŒ–ã€‚ çº¿æ€§ç®—æ³• çº¿æ€§å›å½’ 12345678910111213141516import pandas as pdfrom sklearn.model_selection import KFoldfrom sklearn.model_selection import cross_val_scorefrom sklearn.linear_model import LinearRegression#å¯¼å…¥æ•°æ®data = pd.read_csv('housing.csv')#åˆ’åˆ†æ•°æ®X = data.values[:,0:13]Y = data.values[:,13]seed = 7kfold = KFold(n_splits=10, random_state = seed)model = LinearRegression()scoring = 'neg_mean_squared_error'result = cross_val_score(model, X, Y, cv=kfold, scoring=scoring)print('Linear Regression: %.3f' %result.mean()) æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š 1Linear Regression: -34.705 å²­å›å½’(Ridge Regression) å²­å›å½’æ˜¯åŠ å…¥L2æ­£åˆ™çš„æœ€å°äºŒä¹˜ï¼ŒSklearnåº“æä¾›äº†å‡½æ•°Ridge(alpha)ï¼Œalphaæ˜¯è¶…å‚æ•°ï¼Œæ˜¯æ­£åˆ™åŒ–é¡¹çš„ç³»æ•°ï¼Œç”¨æ¥å¼±åŒ–å˜é‡å‚æ•°å…±çº¿æ€§ï¼Œé™åˆ¶å˜é‡æƒé‡ï¼ˆå‚æ•°ï¼‰è¿‡å¤§ï¼Œalphaè¶Šå¤§ï¼Œè¶Šä¸å®¹æ˜“è¿‡æ‹Ÿåˆã€‚ 12345678910111213141516import pandas as pdfrom sklearn.model_selection import KFoldfrom sklearn.model_selection import cross_val_scorefrom sklearn.linear_model import Ridge#å¯¼å…¥æ•°æ®data = pd.read_csv('housing.csv')#åˆ’åˆ†æ•°æ®X = data.values[:,0:13]Y = data.values[:,13]seed = 7kfold = KFold(n_splits=10, random_state = seed)model = Ridge()scoring = 'neg_mean_squared_error'result = cross_val_score(model, X, Y, cv=kfold, scoring=scoring)print('Ridge Regression: %.3f' %result.mean()) æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š 1Ridge Regression: -34.078 LASSOå›å½’ 12345678910111213141516import pandas as pdfrom sklearn.model_selection import KFoldfrom sklearn.model_selection import cross_val_scorefrom sklearn.linear_model import Lasso#å¯¼å…¥æ•°æ®data = pd.read_csv('housing.csv')#åˆ’åˆ†æ•°æ®X = data.values[:,0:13]Y = data.values[:,13]seed = 7kfold = KFold(n_splits=10, random_state = seed)model = Lasso()scoring = 'neg_mean_squared_error'result = cross_val_score(model, X, Y, cv=kfold, scoring=scoring)print('Lasso Regression: %.3f' %result.mean()) æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š 1Lasso Regression: -34.464 å¼¹æ€§ç½‘ç»œ(Elastic Net)å›å½’ 1234567891011121314151617import pandas as pdfrom sklearn.model_selection import KFoldfrom sklearn.model_selection import cross_val_scorefrom sklearn.linear_model import ElasticNet#å¯¼å…¥æ•°æ®data = pd.read_csv('housing.csv')#åˆ’åˆ†æ•°æ®X = data.values[:,0:13]Y = data.values[:,13]seed = 7kfold = KFold(n_splits=10, random_state = seed)scoring = 'neg_mean_squared_error'model = ElasticNet()result = cross_val_score(model, X, Y, cv=kfold, scoring=scoring)print('ElasticNet Regression: %.3f' % result.mean()) æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š 1ElasticNet Regression: -31.165 éçº¿æ€§ç®—æ³• è¿™é‡Œä»‹ç»åœ¨scikit-learnä¸­çš„ä¸‰ç§éçº¿æ€§çš„æœºå™¨å­¦ä¹ çš„å›å½’ç®—æ³•ã€‚ Kè¿‘é‚»ï¼ˆKNNï¼‰ å†³ç­–æ ‘ï¼ˆCARTï¼‰ æ”¯æŒå‘é‡æœºï¼ˆSVMï¼‰ è¿™ä¸‰ä¸ªç®—æ³•åœ¨åˆ†ç±»ç®—æ³•ä¸­åŒæ ·å­˜åœ¨ï¼Œä»£ç ç±»ä¼¼äºä¸Šé¢çš„ç®—æ³•ï¼Œè¿™é‡Œå°±å†™åœ¨ä¸€èµ·ã€‚ 1234567891011121314151617181920212223242526import pandas as pdfrom sklearn.model_selection import KFoldfrom sklearn.model_selection import cross_val_scorefrom sklearn.neighbors import KNeighborsRegressorfrom sklearn.tree import DecisionTreeRegressorfrom sklearn.svm import SVR#å¯¼å…¥æ•°æ®data = pd.read_csv('housing.csv')#åˆ’åˆ†æ•°æ®X = data.values[:,0:13]Y = data.values[:,13]seed = 7kfold = KFold(n_splits=10, random_state = seed)scoring = 'neg_mean_squared_error'models = &#123;&#125;models['KNN'] = KNeighborsRegressor()models['DecisionTree'] = DecisionTreeRegressor()models['SVM'] = SVR()results = []for name in models: result = cross_val_score(models[name], X, Y, cv=kfold, scoring=scoring) results.append(result) print('%s: %.3f' % (name, result.mean())) æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š 123KNN: -107.287DecisionTree: -44.421SVM: -91.048 è¯„ä¼°åˆ†ç±»æ¨¡å‹ è¿™é‡Œä¼šä»‹ç»6ç§åˆ†ç±»ç®—æ³•ï¼š çº¿æ€§ç®—æ³•ï¼š é€»è¾‘å›å½’ çº¿æ€§åˆ¤åˆ«ï¼ˆLDAï¼‰ éçº¿æ€§ç®—æ³•ï¼š Kè¿‘é‚»ï¼ˆKNNï¼‰ è´å¶æ–¯åˆ†ç±»å™¨ å†³ç­–æ ‘ æ”¯æŒå‘é‡æœºï¼ˆSVMï¼‰ 12345678910111213141516171819202122232425262728293031323334353637383940414243import pandas as pdfrom matplotlib import pyplotfrom sklearn.model_selection import KFoldfrom sklearn.model_selection import cross_val_scorefrom sklearn.linear_model import LogisticRegressionfrom sklearn.discriminant_analysis import LinearDiscriminantAnalysisfrom sklearn.neighbors import KNeighborsClassifierfrom sklearn.tree import DecisionTreeClassifierfrom sklearn.svm import SVCfrom sklearn.naive_bayes import GaussianNB#å¯¼å…¥æ•°æ®data = pd.read_csv('pima_data.csv')#åˆ’åˆ†æ•°æ®X = data.values[:,0:8]Y = data.values[:,8]seed = 7kfold = KFold(n_splits=10, random_state = seed)models = &#123;&#125;models['LR'] = LogisticRegression()models['LDA'] = LinearDiscriminantAnalysis()models['KNN'] = KNeighborsClassifier()models['CART'] = DecisionTreeClassifier()models['SVM'] = SVC()models['NB'] = GaussianNB()results = []for name in models: result = cross_val_score(models[name], X, Y, cv=kfold) results.append(result) print('%s: %.3f(%.3f)' % (name, result.mean(), result.std()))# å›¾è¡¨æ˜¾ç¤ºfig = pyplot.figure()fig.suptitle('Algorithm Comparison')ax = fig.add_subplot(111)pyplot.boxplot(results)ax.set_xticklabels(models.keys())pyplot.show() æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š 123456LR: 0.770(0.048)LDA: 0.773(0.052)KNN: 0.727(0.062)CART: 0.690(0.062)SVM: 0.651(0.072)NB: 0.755(0.043) å›¾è¡¨æ˜¾ç¤º å‚è€ƒï¼š 1.ã€Šæœºå™¨å­¦ä¹ ä¹‹pythonã€‹]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>sklearn</tag>
        <tag>æœºå™¨å­¦ä¹ </tag>
        <tag>æ¨¡å‹é€‰æ‹©</tag>
        <tag>äº¤å‰éªŒè¯æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Condaå¸¸ç”¨å‘½ä»¤]]></title>
    <url>%2F2018%2F02%2F14%2FConda%E5%91%BD%E4%BB%A4%2F</url>
    <content type="text"><![CDATA[Conda ç¯å¢ƒ 123456789101112131415161718192021222324252627282930313233343536# åˆ›å»ºä¸€ä¸ªåä¸ºpython34çš„ç¯å¢ƒï¼ŒæŒ‡å®šPythonç‰ˆæœ¬æ˜¯3.4 conda create --name python34 python=3.4# æ¿€æ´»æŸä¸ªç¯å¢ƒactivate python34 # for Windowssource activate python34 # for Linux &amp; Macdeactivate python34 # for Windowssource deactivate python34 # for Linux &amp; Mac# åˆ é™¤ä¸€ä¸ªå·²æœ‰çš„ç¯å¢ƒconda remove --name python34 --all# åˆ›å»ºåˆ¶å®špythonç‰ˆæœ¬çš„ç¯å¢ƒconda create --name your_env_name python=2.7conda create --name your_env_name python=3conda create --name your_env_name python=3.5# åˆ›å»ºåŒ…å«æŸäº›åŒ…çš„ç¯å¢ƒconda create --name your_env_name numpy scipy# åˆ›å»ºæŒ‡å®špythonç‰ˆæœ¬ä¸‹åŒ…å«æŸäº›åŒ…çš„ç¯å¢ƒconda create --name your_env_name python=3.5 numpy scipy# åˆ—ä¸¾å½“å‰æ‰€æœ‰ç¯å¢ƒconda info --envsconda env list# è¿›å…¥æŸä¸ªç¯å¢ƒactivate your_env_name# é€€å‡ºå½“å‰ç¯å¢ƒdeactivate # å¤åˆ¶æŸä¸ªç¯å¢ƒconda create --name new_env_name --clone old_env_name CondaåŒ…ç®¡ç† 123456789101112131415161718192021# å®‰è£…xxxxconda install xxxx# æŸ¥çœ‹å½“å‰ç¯å¢ƒä¸‹å·²å®‰è£…çš„åŒ…conda list# æŸ¥çœ‹æŸä¸ªæŒ‡å®šç¯å¢ƒçš„å·²å®‰è£…åŒ…conda list -n python34# æŸ¥æ‰¾packageä¿¡æ¯conda search numpy# å®‰è£…package# å¦‚æœä¸ç”¨-næŒ‡å®šç¯å¢ƒåç§°ï¼Œåˆ™è¢«å®‰è£…åœ¨å½“å‰æ´»è·ƒç¯å¢ƒ ä¹Ÿå¯ä»¥é€šè¿‡-cæŒ‡å®šé€šè¿‡æŸä¸ªchannelå®‰è£…conda install -n python34 numpy # åŠ ä¸€ä¸ª-cè¡¨ç¤ºä»http://anaconda.orgä¸‹è½½èµ„æºåŒ…conda install -c spyder-ide spyder=3.0.0# æ›´æ–°æ‰€æœ‰åº“conda update --all cheat-sheetä¸‹è½½]]></content>
      <categories>
        <category>cheatsheet</category>
      </categories>
      <tags>
        <tag>ç¬”è®°</tag>
        <tag>basic</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Logisticå›å½’]]></title>
    <url>%2F2018%2F01%2F23%2Flogistic-regression%2F</url>
    <content type="text"><![CDATA[åŸºæœ¬åŸç† Logisticå›å½’æ˜¯ç»Ÿè®¡å­¦ä¹ ä¸­çš„ç»å…¸åˆ†ç±»æ–¹æ³•ã€‚å…¶å®ä»…åœ¨çº¿æ€§å›å½’çš„åŸºç¡€ä¸Šï¼Œå¥—ç”¨äº†ä¸€ä¸ªé€»è¾‘å‡½æ•°ã€‚æœ¬æ–‡ä¸»è¦è¯¦è¿°é€»è¾‘å›å½’æ¨¡å‹çš„åŸºç¡€ã€‚ å‡è®¾æœ‰è¾“å…¥å‘é‡ \(x=(x_1;x_2;...;x_n)\)ï¼Œ ç”±çº¿æ€§å›å½’æ¨¡å‹äº§ç”Ÿçš„é¢„æµ‹å€¼ \[z=w ^ \mathrm{ T }x+b\tag{1}\] æ˜¯å®å€¼ï¼Œéœ€è¦è½¬æ¢ä¸º 0/1 å€¼æ‰èƒ½è¿›è¡Œåˆ†ç±»ã€‚å› æ­¤æ‰¾ä¸€ä¸ªå•è°ƒå¯å¾®å‡½æ•°æ¥æ›¿ä»£ï¼Œå°†\(z\) çš„å€¼æ˜ å°„åˆ° (0,1) ä¹‹é—´ï¼Œè¿™é‡Œé‡‡ç”¨logisticå‡½æ•°ï¼š \[y=\frac{1}{1+e^{-z}}\tag{2}\] ä»å›¾ä¸­å¯ä»¥çœ‹å‡ºï¼Œå¯¹æ•°å‡ ç‡å‡½æ•°æ˜¯ä¸€ç§â€œSigmoidå‡½æ•°â€ï¼Œå½“ \(z=0\) æ—¶ï¼Œå‡½æ•°å€¼ä¸º0.5ã€‚éšç€ \(z\) çš„å¢å¤§ï¼Œå¯¹åº”çš„å€¼å°†é€¼è¿‘äº1ï¼›è€Œéšç€ \(z\) çš„å‡å°ï¼Œè¾“å‡ºå€¼å°†é€¼è¿‘äº0ã€‚å¦‚æœæ¨ªåæ ‡åˆ»åº¦è¶³å¤Ÿå¤§ï¼Œå‡½æ•°å°†çœ‹èµ·æ¥å¾ˆåƒä¸€ä¸ªé˜¶è·ƒå‡½æ•°ï¼Œå…¶è¾“å‡ºå€¼åœ¨ \(z=0\) é™„è¿‘å˜åŒ–å¾ˆé™¡ã€‚ å°†å¼(1)ä»£å…¥å¾—åˆ° \[y=\frac{1}{1+e^{-(w ^ \mathrm{ T }x+b)}}\tag{3}\] ä¸Šå¼å°±æ˜¯logisticå›å½’æ¨¡å‹çš„åˆ†ç±»å‡½æ•°ã€‚æœ€åï¼Œ \(y\) æ˜¯ä¸€ä¸ªèŒƒå›´åœ¨0~1ä¹‹é—´çš„æ•°å€¼ã€‚ç»“æœå¤§äº0.5çš„æ•°æ®è¢«å½’å…¥1ç±»ï¼Œå°äº0.5çš„å³è¢«å½’å…¥0ç±»ã€‚æ‰€ä»¥ï¼ŒLogisticå›å½’ä¹Ÿå¯ä»¥è¢«çœ‹æˆæ˜¯ä¸€ç§æ¦‚ç‡ä¼°è®¡ã€‚ (3)å¼å¯å˜åŒ–ä¸ºå¯¹æ•°å‡ ç‡å½¢å¼ï¼š \[\ln \frac{y}{1-y}=w ^ \mathrm{ T }x+b\tag{4}\] ç”±æ­¤çœ‹å‡ºï¼ŒçœŸå®æ ‡è®° \(y\) çš„å¯¹æ•°å‡ ç‡æ˜¯è¾“å…¥ \(x\) çš„çº¿æ€§å‡½æ•°ã€‚ å°† \(y\) è§†ä¸ºç±»åéªŒæ¦‚ç‡ä¼°è®¡ \(p(y=1|x)\) ï¼Œåˆ™ä¸Šå¼å¯é‡å†™ä¸º \[\ln \frac{p(y=1|x)}{p(y=0|x)}=w ^ \mathrm{ T }x+b\tag{5}\] æ˜¾ç„¶æœ‰ \[p(y=1|x)=\frac{e^{w ^ \mathrm{ T }x+b}}{1+e^{w ^ \mathrm{ T }x+b}}\tag{6}\] \[p(y=0|x)=\frac{1}{1+e^{w ^ \mathrm{ T }x+b}}\tag{7}\] æ­¤æ—¶çº¿æ€§å‡½æ•°çš„å€¼è¶Šæ¥è¿‘æ­£æ— ç©·ï¼Œæ¦‚ç‡å€¼å°±è¶Šæ¥è¿‘1ï¼›çº¿æ€§å‡½æ•°çš„å€¼è¶Šæ¥è¿‘è´Ÿæ— ç©·ï¼Œæ¦‚ç‡å€¼å°±è¶Šæ¥è¿‘0ã€‚ç”±æ­¤å¾—ä»¥åˆ†ç±»ã€‚ æ¥ä¸‹æ¥å¯é€šè¿‡â€œæå¤§ä¼¼ç„¶æ³•â€æ¥ä¼°è®¡ \(w\) å’Œ \(b\) ã€‚ # ç”¨ä¼˜åŒ–æ–¹æ³•æ¥ä¼°è®¡å‚æ•° ä¼˜åŒ–æ–¹æ³•æœ‰å¾ˆå¤šï¼Œè¿™é‡Œä¸»è¦äº†è§£æ¢¯åº¦ä¸‹é™ï¼Œç‰›é¡¿æ³•å’ŒBFGS å‚è€ƒ æµ…æLogistic Regression]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>åŸç†</tag>
        <tag>æœºå™¨å­¦ä¹ </tag>
        <tag>Logisticå›å½’</tag>
      </tags>
  </entry>
</search>
